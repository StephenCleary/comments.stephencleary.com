[{"_id":"4dfdc8a0-5f1d-11eb-9d34-79c54ab2c305","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"9d387ce0-5f1c-11eb-9d34-79c54ab2c305","authorEmailEncrypted":"Pb6ih/ew8kaeQcM3+HHxj9K2S9Wpn/r2FvrIDZ6qWBoGBm9Mp/zUGUArPeJ6Ov0DIOs1Kqru3UwioweU/nx4NtoFsrlMmRu4ehwT0jQoDaBfXI5fKaSPLPWYmE5sHT4Zy4gs65wwAPj6lmWzINBs3Dy5Ncp0gj9LIOphuTFxhdHfWLtg+cz9Byx71MREWgIvDpjEqm1OwIf63qafBKA+gAqePMuWt/RuI6unlint4+ihKrFQrlW6DpSPKYKAfKMkYVBJBbA1qc+E39VPLMXA5YX3DB9MSQ3odoNA0e7aV9TZd/LBlQO+OetG8zPLHNoZevmpwdDcqCC7YuGFIinOvhKgnr/QxUMqDjezPcEtMDMVpbg25XghiR6e5pheJg0G8x2XHjl1RJpKUad2AquXxdPDalW/8mWFyo02vryKVPli9TMaJDDNGFU4cmxM0hYVAGfAPh10ToqhXXjiImM3473kHCYlz05EQswapfeVXnztkt0e1AxMjRWJ+nA07G746l6IcKsBRQWrzdMSruBSCEjTaFsYwpHSohpQRwXeIuWqGmWamFIRJ2FgTqAE5UejGP078bS+U8KnL6qKqKSgRNd7dl4uaqVOXOrMVII7IZfmvS2hztx76uMlpPr0Ue5ZdwTlraGsU7VNqfRbruNgfttVSl2klTDmJvzEbtu2E8g=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Thanks!","date":"2021-01-25T14:55:03.472Z"},{"_id":"9d387ce0-5f1c-11eb-9d34-79c54ab2c305","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Brandon","authorUri":"","message":"This series is fantastic!","date":"2021-01-25T14:50:06.956Z"},{"_id":"2893b530-6467-11eb-bc15-4977258d8659","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"4dfdc8a0-5f1d-11eb-9d34-79c54ab2c305","authorEmailEncrypted":"eTMCaQKWmT4gCkV+19EepqysBSUr6ozkizVN6/LpY+cFTxQTYfTzbul1++DljLYvpq1hNUCameFD/4Q8yti41B9sMZKaPJUm91t3u0XzrUK9+1nyszjdNe0bbrVK5Ud6LJ/cOOKvMNwUaZ1Q9IWHn5bFY7EPWexionxKa5OpUZJZuVgIxJ27MONMYwKKVwQdaT4cT6+65OMmXdq97EdPJgU9B+gDdWIEQBsq+Qz9jmK71y7xuq6A9dCwepbyzsNB1CTlw0rRDyemXHuIVMlpp+OaEE0r1Yn7rEYHgBkPsG6YgiSD/8hw6+/f7CDawzw7zvJxHtbSKk7TdWABZPjT+H8FYtWrjYHUmZ3IomDudyBBkCRzp5zoFmyEEKjTlGZDZ/CQWAWxfUC4DmarMvIb06EvDGLhzldO/4DmunZq+cDrIRo3FkNzvQqgWZXIX5oXkFq6mlHBoZZBcI+nRkK3i/R8NX+sBwn/c+Bq3YsJ6gCARO4aJDE0BShCo+iAVL6C63gXzZ6u0Yuim8wW/r7GAhb2vlbKvXYTdNGZjnDIfysEkKP7mTJm9YtZGupS/MPQ5PbqzxRsQSFqpFG6WxgpdJEpr+9bHQWpKiuI/2fQb09uPJhLbILQoEStHBfMzTy4KYubq1HQ6Ag0uNtVFB4JlkykLF1cI/FloR5Da1QTfxc=","authorEmailMD5":"1ecd2e53c19155bab13757ff19531e16","authorName":"Maulik","authorUri":"","message":"May be you want to mention Rebus, Mass transit as they provide useful abstractions over underlying message transport","date":"2021-02-01T08:26:19.307Z"},{"_id":"00d82c60-88d9-11eb-8024-0bfa1050852d","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"viswa siva","authorUri":"","message":"Thank you so much. Exactly what I was looking for","date":"2021-03-19T17:31:57.212Z"},{"_id":"b4667cf0-c452-11eb-a9e4-cb374ffdda18","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"","authorEmailEncrypted":"nimLRNzPRF6xdMsrhCi/wWCLqK2HPWbvi+Zx8uvNvHbGUTkOlrpryFM5pea8H520NykObnDoEI4d6RC73NZ/mWHQr0A11O6NPuN0F6DBCpoF3xFgLFmbD0ONfTug8ak2a6HqK8v536pY6RqmJ1Cv/XjOC/A7OeGBneEG2hkWXPkSJlI2rZ2tjGCKrg5EZHyrcNTFWJH/iuW0qnxiKtOQLiEDeFkPb0cCeSxCTlIKEm+NY9lXvuX/AbBg4H2WbUbYG2WHuuFg/T57ryVKajguI0p76xKcQRc7QnjM/pAYop8oO+lYJEk4MLwH5I9d3DD3qsf879xIOVsXHSiO7PHDOpbU24ipBn6g9rALgpDLYHrkh2fd/OQpruflb030pNV4yDzV17I6r2zhk1Hm4GXDMDf37I1lUf0gOngua6oTmRRPVi+YEkCXG2wY2ggfDUzG5SkdRYzYNLVuj/S1F7PpB50Zvaag7+G8bfnVxwosh4DE0prbrXvkj4HdoCzwFS5K0cVTpnHapFarttvSwqCB1xV78qJ2YAnzGqAjo2iWN4y5dO/Q8+FtK7yoSWopOrMxhNHG14Y5YxpG+yML3JhEu4Kou9ewZUqrXsMVshs6KyidsUuJuE8rHAmFGUWqQEjxRXxge2sxWZOzjHuhU1Q8CR7YsVY/T43FAr7bnZZvY4A=","authorEmailMD5":"7ae8adbd9242fc874b6a1978d2722453","authorName":"mike","authorUri":"","message":"Hi Stephen! \r\n\r\nI apologise in advance but im doing your least favourite combination - a non-durable queue (a ring buffer to be precise) coupled with a background service inside the HTTP application. Whilst i understand the drawbacks of this ( and will eventually move to a durable queue + external service) i am struggling with the simple question of where to put the service?\r\n\r\nMy project is asp.net web api, using .net framework4.5.2 and follows a standard controller, model file structure.\r\n\r\nShould the background service go in the startup file? or should it be on a controller of some kind ? my question probably sounds confusing because im struggling to word it but i just dont know where to put the background service - if that makes sense\r\n\r\nLove your blogs - my goto expert!","date":"2021-06-03T10:01:46.253Z"},{"_id":"f22b8c10-c475-11eb-b178-59a0e2f579d5","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"b4667cf0-c452-11eb-a9e4-cb374ffdda18","authorEmailEncrypted":"vFEzd5Oik8EvWuUPdMsAIrlZ75JHgEMSoGoUuyBM7dgZYCI8nlhvNwgFfrqxbEUimEnvUnXWrnrdYqXVscpzXxX5lY5K8jlly7gakTm1p/4/FQcAb1GR63K4KPGBDRMV94hf/VEaTiyo+D28jvi4pTLLEDdRleIQuWSvkhOes7VeUVb5xqHrwDz61uk/iL7GfpeLSuG/AI+PoUSx20QRBc1UInmviNuYiEMY8BT1pOUF4X8VFUZzUvsAfn9yuqIwK5hcZnHGCb7crWx9nB7hQV4HDYirCSolWUhXyv9Ov8MCzTo6VrLJBVEg4+FGfr1x+/K018nRPnb4tkYNaYqa7yPkWjdD8fFEUWPpK472ngXhyZ7X1DkF979DQQcPAn9dGLXUE6ppwvorr8NjSMTy/3u9njUTk8I0KAvQ+EYbtHPbdXnExo7LuqCpszcyU5FBUw6gVe25y3DxW/ZOeKhR4enfNh4h5dCz2OFQJJHlBHhrhExgHS1RadyYt0NLnX/i4aa9HEN1oSHcir6KMarIKPWtKBQHAmCO7o120gP7M1OuSCcvN81/aR1hLPtWfkEB24eKOie5ySYzoJOukCrAowjUmzeBjtNUXPV6uC+M29WWTrkxwWWOzShLzUNTLROR/Y26Xo75pqEMKfMiyvxzvkchU+dL235iy+iMJ/0GJxM=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"ASP.NET Core has a standard pattern for background services, but ASP.NET doesn't have any such pattern. So I'd just recommend putting the service in a separate file and creating/starting it during startup. I prefer to have my background services running all the time rather than started/stopped on-demand. But that's just a preference.\r\n\r\nHaving an in-process background service isn't terrible, but you should have a durable queue if you can at all.","date":"2021-06-03T14:14:02.099Z"},{"_id":"197378d0-c522-11eb-b95a-e1f807533c97","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"4b8fe4e0-c502-11eb-8357-333e54ca7945","authorEmailEncrypted":"lNvw1HoDG+78jh4vIakZvl8jpKtId+bQxBmrhsZOrrhkjP4ukCK+l9bo2q/TisxhYU+rSHa93yXTQK9wUsqcEFZ9tV05rr5eQg28mxydxkSiSXODrU43Dr5qIiKJiu5c+ZGhxBjcCIXHIqoNVjAkESEvZWo02PhhxkQwV8jrYic1soVdM3Fi0JU673OUiOl9Mhsu9WpZJwtXbmD7wJWFjZk7rNAd9pSC+22beu969wp97tui86JvIAUlvinDqqq8wbme5lLFy84X7CIzgNXduUXrEXu8bMjt2SfR4NFW4xRCBzj3tQFtTIz4sAjer0vEiBoWnyledJGSPkMU1hqarsHNTC5I8hn3gJ8Pj0DZOzMJpKWVLy/I9Z8x/iqf3Ydx6H0X87UtuVfY6RCP0/33u2sj8Z3VwHYU4J9WnvGqsI0U8gH/Pz1Sguk2sBqDds7kk0Q++YUObbCmh5jjOjpMN0usJ/XFlxHw6cw9t2npiWyGDySov5GXtLD5+YnAlo2W6tDFzDjd7EU5tL1UH04qf4PsS9oYo4RjR5tueJ8oUxNmrw1Wg5YSnjQq4NF8NFaCtd3jKj8tl2nF3Ay4xiUuZ+aPhJTPhbYW25uzHus4UsdJBS2j9E5ZcO4qMcBSM9zlIA3ZX9tz8BZj9PoKCmW1nWQKvgUHdLtLgkW+tFv3JJo=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I haven't done exactly what you're looking for, but there's [this](https://github.com/StephenCleary/AspNetBackgroundTasks) which may help out a bit. There's also a few links in that project's README.\r\n\r\nHope this helps!","date":"2021-06-04T10:46:21.608Z"},{"_id":"4b8fe4e0-c502-11eb-8357-333e54ca7945","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"f22b8c10-c475-11eb-b178-59a0e2f579d5","authorEmailEncrypted":"lCSfOVNdCz0h9JrwJyK3PAwbeRVPJK7IRskyYwZPCXM7UCLmNZAj1bGzbIucPvd88aL3M366qU4UKD9P3qpqpmvbwLHxbpxWSmdtJ214SDaHhj2FSNBEG4T9mCfgJ18w5nohlI8Q0PYUcUTGPj/DuiJ5Xj3Xe7zT61SEARRIcBqWY+nnz/uT/0S8O3dkIvnXmCD1KIGiCLhrsbHrJrosBW/YsJ0Z+21UOmn6G+zlrxuPMVoeM/4hGordlMQxmc3NiaGnNozIHQuCsfyxBzV7uooLwZaki44SUzKWMw6ESoDByKGGjygmuJceL/2LVpc8vSrWJPRR0Uo+N31Ih2HFO4LvXKY3qYKk6H77lZYAIy3Vb3ALP31b7Q7LwcCIFkekLujLaj5mcZEouW+REB3k1APoqZetNhsrTKYVrU9VFhNQ2f7FEj3W2O7/y3IXBTDPAI9AGG3z6vtPjrUJELSDNJQeBLM62YN3H66ByhI7k3kl3gwDC+e8mUe5QUDl0lG+31imybjShxRq8Z9GRjDPKWpR+T6lVcZQW2iWINaBj3MQEC5LGNM31yHxK9NWn9GvPY9mon9H+IMYfH4RKFpvddyb4nPfjdCHLvkpSz0GpoLIBdu7MkXLrOBd4KEXsd40fqHVRpr3D0idni6dcOnAY5cSUmrDI3bI8yc8aW8ZTRA=","authorEmailMD5":"7ae8adbd9242fc874b6a1978d2722453","authorName":"Mike","authorUri":"","message":"Thanks for the reply!\r\n\r\nIm having a really tough time trying to wrap my head around IRegisterobject  / applicationManager.CreateObject and all the internals of simply creating an object outside the controllers to access in a background service.\r\n\r\nCould you point me in the direction of how to work with RegisterObject?\r\n\r\nI simply want to create a queue that is accessible from both a background service and a controller (controller produces messages, background service consumes them)","date":"2021-06-04T06:58:41.797Z"},{"_id":"5fc6330c-6e6d-431b-9e63-0f06cb9f052c","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"b6153b8f-8f56-415e-9d2b-d92ed6ac0adf","authorEmailEncrypted":"jh0u8hzEjo8zL9IsBQshefbYC8rSrq+4v38ChaFCk8yJAsdo4pb53x9paLUiF7tRQ3XJehZQssik2Rmk5Iy2GIsKgnWjCk41gcf/kc8ggxSCZhuy57Alwc/OPv+YHiqRSlUBxouVD1eCjNqK1vt9bs+pI+ut1ooE5VrGtu6codkYnX5T72pht/lL2m1tacTGWJZsu8kS2nwiQvv46IZvDO/aDPZqxqIb3k2j1FU5zqDGskazJZBKUd4RI7cm+V6eZoAlJgtRCEy1mkmgyFd9gHd7jDjniTs0pHKQ6ephDa7zXY6NRFc4bzlxKG4SQXESsf+Xrc0Jy3KYzQ4cyN1/rWV4hmkgdH1nlSvu19QbJhCoBhxU/d7Uq2RvVyr9F4W6cX8l8Cn8UvMxDFks/jc0RYXAOl57F3Ir/OZddLscK1sT8apnUgkVmXEmPScDVm7sLe0eflDsopbItrBHM5HayqgULjhravmaYFXOn0F+8PLQQ4Qb0Rae9UDR12fGvuhq/rtLU/q4usZzPC2BPp0wi0uIaGHhsawEN2pwZ1+Qxl6jDTQWzA+xUaGCpxZfDI22eqe5FYY3e6FOQRblXaLvfHko2w1CWd3FfOVEnQBXGeStYiTOnQCC7M/NM42wFt5vI8caPPXjXN16YiQRUtMazEqkRiTjN+QvqlnZ3/1D1+A=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I use ASP.NET project templates for ASP.NET projects.\n\nFor backend services, I normally use the worker template over the console template. I currently host mine as Win32 services, but if I were to dockerize them, I'd probably still use the worker template (as a console application).","date":"2024-01-31T22:27:23.5905762Z"},{"_id":"962ef413-e1db-4bed-9c70-893fc209b174","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"b6153b8f-8f56-415e-9d2b-d92ed6ac0adf","authorEmailEncrypted":"FQ7nSYDraZnL7kjvSdBRd1462ImM2dVKJDwUmzHIX2xbMgOKP51iaQk5uP25u7IbmyQCrORoIdiME3ZIDWoRNP4R6InJCNP7Ltgx44Zao5KLauxAHcefTXXItIFznvvLu3NxPTiusYOXcPPBoTPWXldclZSg4JkN14SDNnKwmbWI0uE0gIcoBJYIeRUC+RoD7WvED3v9xqKrwuNRYNBx3uxgmNksL5XgNXC4qRYN5ChxyqCHjViIG0XPgq9t81D3RN8lxOrLq5KVZ+4CUSPu+Q+m9yyb3erk29nWJzoBbE13lhS1JCnYhWDcuhf2p0LV81vA+h0emv+ol8U0K/Nb5JBnH5qXvBuMpgdVExTjI8grOU3vRFnX1wMGUTtiauW9PuFn2KNELE58Mh5fVVKFn7QH1gUD7iFq5y2wTcg6qqC64K8XNvuenow65O/G/30KGVsNo+oHhaBM4zvQUtfkrIsmeGrbzi5gRsmkI2Jb8CpTX9MvHo7XtZCKR/hAd4+fusgCNT5sj1CVMx3ij9tZGe1gdmr2F4+k6W3XbxAd0muAXC31VPvwFO09d1oJLH/+3Nz8AtxpBzxFX/qoiRFsAfSCdgj9TC/+CXXKYz5z4eHpGJvEnm1VslK0m1xiFXbjkSjhaJsmFEEcgAnFLDtjAG+FhxSRrIz5PMrPI3dPthE=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"To answer your other question, I regularly use `BackgroundService` for (independent) background processes. I'm only wary of its usage as the background processor within an ASP.NET application. I regularly use `BackgroundService` as a background processor in independent Console/Win32 apps, and I regularly use `BackgroundService` for other things in an ASP.NET process (specifically, it's useful as an outbox queue publisher).","date":"2024-01-31T22:30:57.8684857Z"},{"_id":"b6153b8f-8f56-415e-9d2b-d92ed6ac0adf","postId":"2021_01_asynchronous-messaging-3-backend-processor-7c536750-a601-3832-bc60-b7ab455a60aa","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-3-backend-processor.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Vivek","authorUri":"","message":"Fantastic article!\n\nFor on-premises containerized ASP.NET solutions, would you recommend the worker template project over the console template as listed here: https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-new?source=recommendations#arguments\n\n Although you can still do all of it in the console application, the worker template scaffolds the project into a convenient state where you need to write up the service logic in the class that extends the BackgroundService. I also realize you mention to be wary about using the BackgroundService directly and instead opt for implementing the IHostedService, Am I interpreting this right that information only applies to long running services that are embedded as part of your web application? Otherwise it is ok to implement the logic directly in the class that extends the BackgroundService class.","date":"2024-01-31T17:19:56.7206604Z"}]