{"_id":"284021bd-3f8c-38ed-be12-088588735f2a","authorName":"Amir","authorEmailEncrypted":"K0Idb5AJ8kYGe5upadhx7gPgAxiVOWOe0K8cqUvBBh2XXJ+g5pznY1JyP52tweiUIrzYWxKpKP0Y0JJK3u8jYGRLCzDJ7ATMjyzWuymwGT3sDRAqQuDrzKxfRr7t92RGp2rJkdeIIqTMs54pTS0+wA0cJu98T5AmKv7BIEykH9b81OvWIPNBLJNhfvW16vUnf0IMfsDqxKizb9xcQrMLeXLTJuUEBpJoMTj5KWeaPVWJ9hz3Ad/T6BUuehAbDfKINPfVvLn2AKAX39P2ZcqmFdU8m1hFk2DaCaLVkEkzDafnIlA0GfPtKpxfbG4sU2JDZOjqJuvYwfhgENXUtZ4IVDvDwfbF8ICWyJZdcEkFh3j5biH/NM/8sgRVQxUZXU0ZZtg6VvPtiM0SGmyiH61qAfjb9rTSKG8LWLg4cY3m8EHJOyTjJF2CjSSfTlZqhtPJa+6quOtlMT7HyGCwJQqUOSKHBWTiOrn7+N4STamW4p6gLDkg4LeBrPSTO412YvvZmb+6Dzjdk54BnponASEM/VeasJ/tqGp2j9M1+MZEWDCoMR4R+FU1eFwR9rp/t5qBOV7vvt7ulVytfgwzT8mOCCJtNJwEO2m/nnlEwRNW4Opv8/r9T3UCkXikG/R5CtQquWIOlbXxN41/KjjOZXf0GpenKFfKAfgV4pulVRu1e+0=","authorEmailMD5":"fb538b1e65a06ca517809472352602dc","message":"Thanks for the code. It helped me alot. However, there is a bug in the WrapMessage method. Instead of   \r\nbyte[] lengthPrefix = BitConverter.GetBytes(message.Length);  \r\nthere should be:  \r\nbyte[] lengthPrefix = BitConverter.GetBytes(message.Length + 4);  \r\n4 is the size of the header.","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2016-02-26T21:45:14Z","timestamp":1456523114,"authorUserId":""}