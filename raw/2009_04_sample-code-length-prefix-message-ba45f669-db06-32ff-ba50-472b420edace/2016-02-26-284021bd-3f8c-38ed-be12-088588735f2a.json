{"_id":"284021bd-3f8c-38ed-be12-088588735f2a","authorName":"Amir","authorEmailEncrypted":"rERtGixJIO5EaClajzkoN6emTvyN81xaMi3m1kTn2T+iEkF4xna4iemUpbc2Tf31Fw8BmOOwoooCOLPg1rF7tThGbYKDlKKD0ZU55HgwJAChfNdZo4jmMIJQNEIMXSyjThrH9Gm64/u+X7mgMGEStRz7em8OnjJXhC8whrAcY00FAp0/9dFGe+93NKyGkVQA4ctAgT102eRDk3CSLF1QQCwlFoDR1Kx+qf2Ljl+idiqrIx70LSHBaW4f1GSxtUwVowQB/ZaeB4DV6CYKOstUGpDgH0YuXGWmu+HM8UNkRooFnZBVDxonm4zX6q4k87w7uRnZxVLqjKHGs9ALyijLOEzHrqlGbjFXC1iIvBFeZ2jkQYfDjgDrOY9kpel5Tr6UozmLWfNrzXLmTlG4XqwVYP0UTgblw9nMDyPhvp+1WEvubklSAovNuqax+B7rRLlNpHvLALlfHI3g8LriuSSzARAzdcHAO0qwmwlsN/o1DezgznNMN/HCKR1qXnjvwAXvcv/1B/OSKwdzATEmPyYrb/Z+ru91YINl9Hmhoaw02mHj7vmhFcVEigFxJhudaFY6a6zzs59H31OdMHSo7BlPSk8BMB7q3YtzTUTZUWpxqKukmiHF5rEnEmL+AaYOLzxHaZzk9olO9vzj8HnLnF4Sw5GBeXDAL4zje62hz87j+d8=","authorEmailMD5":"fb538b1e65a06ca517809472352602dc","message":"Thanks for the code. It helped me alot. However, there is a bug in the WrapMessage method. Instead of   \r\nbyte[] lengthPrefix = BitConverter.GetBytes(message.Length);  \r\nthere should be:  \r\nbyte[] lengthPrefix = BitConverter.GetBytes(message.Length + 4);  \r\n4 is the size of the header.","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2016-02-26T21:45:14Z","timestamp":1456523114,"authorUserId":""}