{"_id":"66c7efc9-c5ee-3d4c-a949-0da8c44edbca","authorName":"Fredrik Blomqvist","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"http://www.blogger.com/profile/02690296548623493995","authorUserId":"","authorFallbackAvatar":"","message":"Great code!  \r\nJust one question:  \r\nIf a client writes for example 200 bytes of data to the stream, and then stops, and this code reads that data (which is one length buffer + data), won't the code just continue to loop through the rest of the readbuffer (which for example is 4096 bytes) until it finds some length data?  \r\n\r\nWhat I mean is that it will loop through useless data, when there are maybe some new data that has been written after the readBuffer was filled?  \r\n\r\nSo instead of accepting zero length packets, shouldn't the code be notified and then just throw away the rest of the readBuffer? Or am I totally wrong now?","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2012-03-19T03:54:03Z","timestamp":1332129243}