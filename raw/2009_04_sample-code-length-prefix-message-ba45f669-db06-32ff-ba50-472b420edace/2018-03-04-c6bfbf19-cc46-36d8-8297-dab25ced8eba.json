{"_id":"c6bfbf19-cc46-36d8-8297-dab25ced8eba","authorName":"Stephen Cleary","authorEmailEncrypted":"u++WSjE5R+6/sy6RVLG61mHGhMY+oPF56DfaSKfwmJU+IPAMGDYM8/I7exVmwEqhN8cp5G1zhEY8wG2iCOS46e+K+6UtBe0n3jrZli8pXxcEOdpaegRqnOYHxMaUm+dD1SIUXmtT9zVidjt6/NU527xasXRPBbyvrWulz15cnA7wiDUTqfaWmSNy1vhm1TjdQ0XkAS8kNreXNwFmEKUjTmJvnprcU8EDabxtiUX8Ke4IkmIRxNKnzS0nEfo+7RDnjqCYlh7IBcjwwaoilbFy0oL+tfMfYdYPUUptW+Cs5FHpzOd9vThyF6Tp7uzrVudZhuf0+qD65f3KzilMHSIO/KPgFucc/Cyaf89J+Q/6jBYBXGCWB8OT5qSbAcP5zfaWv8T959Dlk/ImSvu1uFTSEmelTT+ygCKIqNUzLXuKnBSnJZdqDkvYZFe+gBIgzTPhIEXQEmaHrpad/zmrH4POLfxhqeN7pCJekrXdKO5GqiOrRognZdIYpyRsDiehr7PHI0o3YbAIDvPNlrMs1/uDP/1kThoR+lST2mZ1vEuP3xjPXQ3qfGhWjyzY8iLf62TMKQ2Lm9ckfBYrmq2LWyCqIRqRREniu0O3NTRA6P3OC3EHYNuBk8ikoMgKMCvUADhBdtPsIEF+KBY6dCvtClpd/lZHDnsKPsuD/mdOWX281wc=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"Yes, the code in my blog post assumes that you've already copied the received bytes into a separate array and pass that into DataReceived. It's inefficient (additional memcpy), but it does make the DataReceived code a bit simpler. Since that's the most complex (and most important to understand) piece of code in the whole sample, I decided to do it simpler and less efficiently for this blog post.\r\n\r\nIn real-world code, I don't use the additional array. I always either pass the bytes read as you do, or use an ArraySegment. Actually, updating this code to use the new Span would be a fun project!","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"09737035-652b-36cb-8e8e-963a58804f5f","date":"2018-03-04T03:02:14Z","timestamp":1520132534,"authorUserId":"disqus:stephen_cleary"}