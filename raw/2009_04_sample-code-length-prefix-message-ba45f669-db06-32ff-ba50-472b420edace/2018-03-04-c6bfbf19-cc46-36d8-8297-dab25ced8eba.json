{"_id":"c6bfbf19-cc46-36d8-8297-dab25ced8eba","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Yes, the code in my blog post assumes that you've already copied the received bytes into a separate array and pass that into DataReceived. It's inefficient (additional memcpy), but it does make the DataReceived code a bit simpler. Since that's the most complex (and most important to understand) piece of code in the whole sample, I decided to do it simpler and less efficiently for this blog post.\r\n\r\nIn real-world code, I don't use the additional array. I always either pass the bytes read as you do, or use an ArraySegment. Actually, updating this code to use the new Span would be a fun project!","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"09737035-652b-36cb-8e8e-963a58804f5f","date":"2018-03-04T03:02:14Z","timestamp":1520132534}