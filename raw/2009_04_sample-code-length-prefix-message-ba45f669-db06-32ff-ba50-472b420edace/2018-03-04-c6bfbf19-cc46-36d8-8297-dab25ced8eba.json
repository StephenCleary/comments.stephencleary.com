{"_id":"c6bfbf19-cc46-36d8-8297-dab25ced8eba","authorName":"Stephen Cleary","authorEmailEncrypted":"wqI7Cfeph7s1KwmlC3EC3goYGHymC/kdLszhXKZeHvp16m/76loPlqBf5DMoZUYYCCh+gWJJxm0BOwZxSWc5l+m3Umdufvvstt1+SwBD+jn5RkR7zXlFS+3S4G7i+e71HBhaEpAQkovsIuLeQzxUTeZCtrQ0l9DIumVz4hDMmrZQo1Da/PmvkidwVo8+94Rvf6HIgJY2ARzL0pBRkkTdT/53WpsjukUGxSOvFU9TAFP7u6K3IGG46GoPnuSoHCZY8S+X2t2i8hRlQ9loKbeRIyoKLV0jCt1jWWN/YaIbHghD+bY9lq/n/Byosg0pRwDHjfhyKtfZg7c6k0COklRnXE3n+Omy0CPNksUPdaO2nWZW64VsuytHR5WW+tBMlZiEwTUfXIVDzqIT1qlYiaqkS3e7rDuA0f7EEAzb3a0r7/CCwydYLZpLWY9kM21KXHcgo3I+PV1gKnCcZJaFmUeeUNvRBUfeJgwWy2lkesCo9znztTWmlY/YOvatbU/le5d+7pPc0Bk4Obu0NQlV4Bj6Zav/TeQqz2Ek/1YrrqnI8mZcoxmcoJWK11sXDEPbSgU5m0EAiNKosx558f1Z39eP+VGpUYFsf5Z4pD8VoV5iWHXioIhoCJuLjqCDw0rvuP2V5jWN45lef6mdZKvvm2bsGaAD1cb4EteLgouBPbfKzig=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Yes, the code in my blog post assumes that you've already copied the received bytes into a separate array and pass that into DataReceived. It's inefficient (additional memcpy), but it does make the DataReceived code a bit simpler. Since that's the most complex (and most important to understand) piece of code in the whole sample, I decided to do it simpler and less efficiently for this blog post.\r\n\r\nIn real-world code, I don't use the additional array. I always either pass the bytes read as you do, or use an ArraySegment. Actually, updating this code to use the new Span would be a fun project!","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"09737035-652b-36cb-8e8e-963a58804f5f","date":"2018-03-04T03:02:14Z","timestamp":1520132534,"authorUserId":"disqus:stephen_cleary"}