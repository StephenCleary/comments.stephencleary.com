{"_id":"c6bfbf19-cc46-36d8-8297-dab25ced8eba","authorName":"Stephen Cleary","authorEmailEncrypted":"NPDS8UK9o6bU6sKVQZObbpXSe9xCU5+jT4Nu7rFBGulVIRQGduIL+e9Fsx4DxM/lrJlNlpWreLmX5/t36LQEqvl6HXGq4E4q0gB4JQgElSw2f+qwcIxYWwHLhKY7pdp1EAcGcQCmzCHRICJNjvd3kxXUQRAqysZufn8yForiPor3f6LqRyQSnbT/DyXJAOWQaclwUKxbyqUi9YWKjL4HPr7ESnBB1LVol2tbIeRsD+PJ7QJOlBpsYba5nWIMbCJgKr4P190vG99v3wGYEShgr8Yx4J/KePGY1pbzI2PFwuzIKpyaq8k51JGyY4qnH2h4xncPUWo9gTAiy+QhcSYBttNuNQO3WAMLgFP10vcO948hM9KmVMRsevJcbbCrhCTb4Elb5KDnUVs69+0C4N773YNB2hR36EJmS9+ffNz5o09DJIN/FcKZ++6McV0iici7XrdUegbn+LDu+SYcVybA+AmB/Xf2KcECE2zJxuBdh9YaAk55KADtvAB5GXpe7yIgZc8/w75iNLvX98i2pNW7B9m2giRDaBxlT4mfKlfACPSasMvCnPAm6/l9COXP1Tj4OB3IQGgXAttFVbdrviwiggPgPkkXgAaing0iV0xMs8mOHYPJjVhznEKWEy28pRxmdLmwgQZZEe3ymw0nne8iNxCUeev4sU24pgd3cAU9XdU=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Yes, the code in my blog post assumes that you've already copied the received bytes into a separate array and pass that into DataReceived. It's inefficient (additional memcpy), but it does make the DataReceived code a bit simpler. Since that's the most complex (and most important to understand) piece of code in the whole sample, I decided to do it simpler and less efficiently for this blog post.\r\n\r\nIn real-world code, I don't use the additional array. I always either pass the bytes read as you do, or use an ArraySegment. Actually, updating this code to use the new Span would be a fun project!","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"09737035-652b-36cb-8e8e-963a58804f5f","date":"2018-03-04T03:02:14Z","timestamp":1520132534,"authorUserId":"disqus:stephen_cleary"}