{"_id":"6685ef42-13a4-34c9-b825-61717c5a9ff5","authorName":"Anonymous","authorEmailEncrypted":"UQNpY83U6uyzhQVL2DUcacwFXQCq/d93Idsp5SLHK0H8+TSOwa6Z44LezI1/a6iWQnn6cWtFg6LEKNySnHLKOp54tp0tL+xObhZryotfqscO0jK3LS1N32DfOKnUzfz3GCw+nbw+7yrs+pgouvlSuC0JUnQqdrmDX6wYjQfR6byPc9NvMsiiGDzLZVkLY2DZcpod9ZskXrdmVOIvZClopju6yeMjwUfMFsZpLC8CzgE9baxMeKp21qFBEomvUGmuVU8U8hdLUqPIjN1sgzjIGrZ3ERZKq6t9vD+a1hi3HBylpaJ71K+db+Va9vtKoCmjH7COpVdroQQgyhkOuC24ETvif1IjubatrptnjP3dUKY0Q97lY9KKwemHvUGBXR0g0cYAKRnW8YyU2LMhHX5BYXDNpp3iG7GxxpWgGfI1aydt5RABpp0oVLOSweMwGsiYmYJwJwEulOSB2FgcBX9i0nTb/ernZY7JUPFYB/3PmA3kVYBFsUBQUpi2jmbcycNprwQb0cKEPV/yrT0fvFPso0qsGV7kC7ahiuSjBCAFiF2TdyzXqP4Lqk7o+NAmUrM1H30cRumkOqJSTTanGA7BEQ7bC/dm/5HZ1ajPc40RNIQmft7f7HOZXLYH98pmATAAw41nFTpTgbXPPL56t2hh4SPCNQcMPrbPnhWgaI2aj2o=","authorEmailMD5":"3cb42db01b5edab948a576e1bf94a281","message":"This is great. I have a suggestion though. It's allocating a new dataBuffer for every message it receives. If you are developing an application that is receiving tens of thousands of messages per second, couldn't that impact performance? Couldn't you change it to just allocate the dataBuffer once to be the max length, and then reuse the same buffer? It would mean that for the MessageArrived delegate, you'd have to pass in the length as well as the bytes. Thanks for the sweet code.","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2013-12-10T13:37:00Z","timestamp":1386682620,"authorUserId":""}