{"_id":"21e145f0-be43-11eb-9ed3-1dfbdccee944","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","postUri":"https://blog.stephencleary.com/2009/04/sample-code-length-prefix-message.html","replyTo":"","authorEmailEncrypted":"EAT/L3A2BX3gxVjOBKfsoR4ZcBRm4W9wnNCeXFC1Q5BuEldALsKt3QjCA0kF4JMgrjnKdGhQRNJyblUUAJlzOi97uJ43tn7oDXMtABK8D1vqBRShbROmPqgvRn8/LuSXyVLH4likJ8sC/+kaHBr1s3qp6HSmv0cXcJeA5hb/NKwJ47V7+f3qNb0krxNBjq6u/0uHFCo3I/3iQWyyyP6buqwsKn5xWGDSx0uyY5cKZy3TWjd+3uaOSeqjTiFiNr3tWqZrj2J83/ccFdpzMbfRgWJfP7bR2qgIXLxJdOwkklkRwbTLC3RzucZhp6QQbQgQmbcBDPq7OrHsgLxwxhcBallhdxhAmwnVGdSB/1foaucujhvAaE8EfVLRU9ju5anZwnnYcYO8Y0aYqt6TWwNod5F59Fxk0e0XwzujsnMlpJt7yB6UugRLnhfqaJyPH4SflP6cY7PdpxOP+G+7gqPv6TgzbgDVs032X0X7wXc2jW1aj9jOnPQvZxo0xU9O5F02LaqMdWDjQNQurWj1zZfD9sJ2DZGLQ32r7ZYlQPvBqnXwdEnmj0ZM+L8PXEJU04/n7yZmBbmON4KlrawyEEdcUSj3N3j+uKccPO+EANOTQp2KNAOvGcu3opnyozBp7AFuTV2MI8LLao8L7upzG/pw/+UWOcdKVPntPY8TkEqt4Sk=","authorEmailMD5":"c50c73b7518eb89d83bafbe36bcbc0d4","authorName":"Eric Batlle Clavero","authorUri":"","message":"Hi Stephen, awesome work! Many thanks for your time teaching us! I currently have a problem that points me to this \"lack of framing\" that you are explaining. What happens (underhood) when I try to send a message bigger than my buffer (or the MTU) like 7MB by TCP? The \"Send\" function seems to do \"all the job\", but when I recive all the \"packets\" sometimes I recive more than the number I send, but this do not occurs on localhost, ofc, only in production environment. My packet buffer is 1024 and the sending is performed through a switch, so I split my 7MB message in ~7.000 packets, the first one has a header containing the size of the whole message (7MB). I thought that would be enough â€¦ is it? Thanks again for your time!!! ^^","date":"2021-05-26T16:55:10.737Z"}