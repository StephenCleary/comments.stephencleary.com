{"_id":"06f6b590-be43-11eb-9ed3-1dfbdccee944","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","postUri":"https://blog.stephencleary.com/2009/04/sample-code-length-prefix-message.html","replyTo":"","authorEmailEncrypted":"dMAKGEuvoVqKjQEKJlF/h4FBaZK5+GoMCCZzf9K6RUN1Y7R6VbB5tiYizJxdD4rHTWTmsHFqP2R18RKbBsi0b7K69uyjVjeR5EWoh7QEzt/LqyBqLAklNVwEDRmd1kDUTFiDyURV7VQU9bZFOVxOHm3SnrCgwJFxRn4XntIZN1XvQwB8YSCTA7cb/fr78UOZTxsb447JsICBLe+J8nwI+dEAmrHTkl+5frbw98wuIGjg3yFrVIC6ryP6bKL042Cgk+rbcgUa+vldX23izMHYJ/7my7RbvqJEi4KNO1+VZEU32+E7N8T+SUUpguEvRYn6g5nQylvaswjRRI9jRRxSmsegbWZYP6wZh7CXgKmXSlMjvt6yHSG453AS1HSEyOFl6av+fwAO47Sqib26UzTn+4xZB3+uLkdK4y1+RtLnGrLTrnxEqILbmHLwGStfRpX7+efjmZ7WFRR6/0vtlNC5mnjS/8fSUC/sWfXkEgAWcFxjESpGPlY2DHRjaKQt66foaIe/yJiVs2+VMIDOgVS/AQlnr1Tw1TSLyerRtN4Vxd1UffYAwjM3b2MnMkW6Z9D2oFn+3yPnPs8JUS2pO9ZRAGYhAzodMqadCkdeyauwHPoyBHjHTn0EKNeNeQvsG6754o/ERV+94f4MxHDvY2pq1+Z5nsXLUmXRfbZj5S8wnr0=","authorEmailMD5":"c50c73b7518eb89d83bafbe36bcbc0d4","authorName":"Eric Batlle Clavero","authorUri":"https://github.com/EricBatlle","message":"Hi Stephen, awesome work! Many thanks for your time teaching us! \r\nI currently have a problem that points me to this \"lack of framing\" that you are explaining.\r\nWhat happens (underhood) when I  try to send a message bigger than my buffer (or the MTU) like 7MB by TCP? The \"Send\" function seems to do \"all the job\", but when I recive all the \"packets\" sometimes I recive more than the number I send, but this do not occurs on localhost, ofc, only in production environment. My packet buffer is 1024 and the sending is performed through a switch, so I split my 7MB message in ~7.000 packets, the first one has a header containing the size of the whole message (7MB). I thought that would be enough ... is it? Thanks again for your time!!! ^^","date":"2021-05-26T16:54:25.912Z"}