{"_id":"405a7e2c-8d87-3830-922d-fb227144a21a","authorName":"Stephen Cleary, Nito Programs","authorEmailEncrypted":"UphuvALPzo4lU53PqYDNwvkQ6Kav57qbXExhgNkEOr29/x8uehXWX4FGDWQKm/LJMr60EgHD9fDyqKvAJMIv40HgBHszz1WVlHACYMBJST50hvcDqz6pBcqK35m3ou5hfEgbZP7TkBYPQ0gctXMHaD09T6hjQWh+eVBSLtD1J0YZoNNIhRavFbv4dr6MCYbLaBBBjNAg9qOKMB49PF+Xx5DekOz/HI+1XhmUMQWLWNqYIMX4pcRPDwxvkdBLA3bd3kNIyAEITq6e/WKcIbzMAD88cJGIbRugcxk0otcU8RDDfes5SuY+LRwZZPMVo/MyK56XnVFEgwpHbEBI78IZdFNC5QYinv8gpTFonitEMgz9fArs/6J2hNpYIUG6A+qJoyfb6tVHXB4IWsDfqt2a0CJ+mG27qAR21L6dDFox3iju1Nng+8LT/m1RB7UAao9ubsN/vdEYPrpnxkueU5okRBjzt4RcA4FQiSFR3X9Mau5OQirMX7SmCJIMHgYwkZK4Mr8u1R0KH9A5PKobEgzoZ4Gd3aO3B/vL70UC6UkNSWcJ485rQx3fbUH1Y+pRiTDrggV/t+X5KTciaZRFeaZdjwp7yXk/+cnvox59cTYJjyjbLNR2oygXalPk5M1XzO140djYk5MctFIh+kh6Aj06mPMgjocwNzYIBR/xCkWQSLY=","authorEmailMD5":"6d10b20722189b4c5928e1e9fb2363ac","message":"Here's an additional test, including checking the messages passed:  \r\n\r\n[TestMethod]  \r\npublic void TestMethod1()  \r\n{  \r\n int numMessages = 0;  \r\n var messages = new string[2];  \r\n var packetizer = new PacketProtocol(2000);  \r\n packetizer.MessageArrived += message =>  \r\n {  \r\n messages[numMessages] = Encoding.UTF8.GetString(message);  \r\n ++numMessages;  \r\n };  \r\n packetizer.DataReceived(  \r\n PacketProtocol.WrapMessage(Encoding.UTF8.GetBytes(\"Hello\")).Concat(  \r\n PacketProtocol.WrapMessage(Encoding.UTF8.GetBytes(\"World\"))).ToArray());  \r\n Assert.AreEqual(2, numMessages);  \r\n Assert.AreEqual(\"Hello\", messages[0]);  \r\n Assert.AreEqual(\"World\", messages[1]);  \r\n}","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2011-04-25T02:20:10Z","timestamp":1303698010,"authorUserId":""}