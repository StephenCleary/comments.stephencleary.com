{"_id":"405a7e2c-8d87-3830-922d-fb227144a21a","authorName":"Stephen Cleary, Nito Programs","authorEmailEncrypted":"CZtKVnoUDzxXpJGKFq+8OubrHD0LHLiCy2duD7rp7u69H/VOl9tVJEG+cQlN42A53h2EJYn00ruUsYKL8BHTG+qTsj5CqnPwTfuc0iZc+L1vYE57GxUMF5LbdQp9Pe5aMxmIxccrX/VIQ7lSVllIfmZqHY/cgSkE+vu/z4gXVRf7N2uP+8x3XrzQM6twbvSVZ4VJToBTQILGKMcuWOUeWOGs4WzRO4avksV8aUjWlu/nyHbNz23Jwxc2veBHhCoilqE/SBqAyJhbzafQb2kfR0kOeT9/NjAjXIhSSLvCx7ujhFBfR1EmmvEHRYvxPS8a9IYStXMAS3w9cLj/Q584aBjJWcyrVaZrHv8zxQdj/bfvpYQvfYnv9pdY3BXsymJ4DJl9nR7sVGSohfnj/s8vJpatRNj1IDoLNVndzNUQqTYcx37zluGKHP3JbBq19+ch/Djwjn4T9X5+FrqPhLT6NpaeLunyKQODgujG72+QUUeIeR3kBVebduggFV1g2yw/DZYm+HidXtevQupEaAcWIYkBsj5XXXT2VpIt7+h5625m/BsQcBqFL8zR3COasCGBgw4snODZAA5CjpORwtFh5ExxagHtG86C7Omnx0dyEkhVcpWm7QSvJgsTfuZvI3k/a2bO4MXkR2jT5FpjSrJysALfOGoJDY6uw/sP7zt4RNY=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Here's an additional test, including checking the messages passed:  \r\n\r\n[TestMethod]  \r\npublic void TestMethod1()  \r\n{  \r\n int numMessages = 0;  \r\n var messages = new string[2];  \r\n var packetizer = new PacketProtocol(2000);  \r\n packetizer.MessageArrived += message =>  \r\n {  \r\n messages[numMessages] = Encoding.UTF8.GetString(message);  \r\n ++numMessages;  \r\n };  \r\n packetizer.DataReceived(  \r\n PacketProtocol.WrapMessage(Encoding.UTF8.GetBytes(\"Hello\")).Concat(  \r\n PacketProtocol.WrapMessage(Encoding.UTF8.GetBytes(\"World\"))).ToArray());  \r\n Assert.AreEqual(2, numMessages);  \r\n Assert.AreEqual(\"Hello\", messages[0]);  \r\n Assert.AreEqual(\"World\", messages[1]);  \r\n}","postId":"2009_04_sample-code-length-prefix-message-ba45f669-db06-32ff-ba50-472b420edace","replyTo":"","date":"2011-04-25T02:20:10Z","timestamp":1303698010,"authorUserId":""}