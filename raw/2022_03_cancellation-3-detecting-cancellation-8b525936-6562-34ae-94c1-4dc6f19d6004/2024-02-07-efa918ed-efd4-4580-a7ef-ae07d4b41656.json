{"_id":"efa918ed-efd4-4580-a7ef-ae07d4b41656","postId":"2022_03_cancellation-3-detecting-cancellation-8b525936-6562-34ae-94c1-4dc6f19d6004","postUri":"https://blog.stephencleary.com/2022/03/cancellation-3-detecting-cancellation.html","replyTo":"","authorEmailEncrypted":"ubsSc1tgL/0a8aIfWeN2A2f8woQjJnpo1HVVyoKPN0OULvBiYMzy4iq\u002B57kdXI6N5i/0Cy0\u002Bnr/xeJbfFxA4AbRtvGh01gUr\u002BNBDj2rQ81K\u002B\u002BUZ3UhwVuJFUi7aOe89OmM0INsnaE3YqbleiRMk3hWd1gQHYx/7ypfuDdw1PhGf\u002BomhyYQF6XWO7\u002BEpyVOEi6zPGd7dST1EaCUIHih2\u002BMDgJSHoDOhv9aBkzVq063Ngov0nNlV\u002BiyNUq9D011dcidHYPQ6G0NQLP8c/eSccApSNs77RveJbsd8yOVUgvzyQQ4VOsoFYDmzjZFOpKTyzmVCD5b3q3UKfG\u002B2MbSmAFPxJuhCNhNlaZnQb/2dUu21L6Cw9YJPNxcTDkl7Eo69zWktZMpwJ1y3I/NSLMyP4mNWVJp0To0jtV/M742BmEVfiP4wbBu8GBKMvltOYconrtL5gYFmXbr4IZY/7hvqYH2cPKXCM6OMgPtbRk0b8cVJatR\u002BS1zLHI7tK8FjjuAha/9DQ35F6XwBhsJkEjxn07VadOhlymGiikZgglTS4s0rw59aegnY2j6SVEd5XsSaQ1PK0bzaPsTJcRATUqjJHTKAaLkRz6tThpPeZvhlg/YT2whqs3Fkl6qhKP0u3nytTmnLblZhR0utw9gr6kZpAgc5VJyzFys8Z1WVxfhr95fM8=","authorEmailMD5":"381537313bdcfe657db68a2b2189869a","authorName":"Stephan Golux","authorUri":"","message":"I am using a 3rd party API, using HttpClient to invoke restful services from an ASP.NET application.  I am set up so that if there is a need for my application to cancel a request, I do that with my CancellationTokenSource.  That part works fine.  However, it appears that my awaited invocation to HttpClient.SendAsync() very occasionally (maybe once in every ten thousand invocations) throws a TaskCancelledException, which doesn\u0027t come from my own cancellation.  Both the documentation and the support for the 3rd party is unhelpful in helping me understand why.\n\nI am trying to understand what this might mean, and how to respond.  Currently that is just an unhandled exception that bubbles up through my code as an unexpected integration failure.\n\nI suppose my question is whether you have experience or insight in understanding this given the black box I am facing, and how you would think about best practices in handling?","date":"2024-02-07T16:11:03.6706802Z"}