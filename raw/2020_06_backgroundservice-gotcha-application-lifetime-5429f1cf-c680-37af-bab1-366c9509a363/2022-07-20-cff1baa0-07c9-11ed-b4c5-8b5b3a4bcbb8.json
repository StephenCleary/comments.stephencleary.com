{"_id":"cff1baa0-07c9-11ed-b4c5-8b5b3a4bcbb8","postId":"2020_06_backgroundservice-gotcha-application-lifetime-5429f1cf-c680-37af-bab1-366c9509a363","postUri":"https://blog.stephencleary.com/2020/06/backgroundservice-gotcha-application-lifetime.html","replyTo":"","authorEmailEncrypted":"nM2h3P/L174WPX6aV8LKC94845ytJ2nzMYItRZf//1LaarWzQ5HSVWaaS2AMD/svQdy7oRoYBTdJ6zg6LnPYWTWTmW4yckR2SiU2KpCzG9aO/x24F5Zzkg4BP7PA6Gzr5e1ifgpnbHRmxrcDZIc7kXQ79cDIILWFoEB0ggnWc4jb7ZGZw0By6tjKFH126Jo44Ev/8mbJ3XXSPsIl36aZXlOg3KfoLNXKXqpN+0sIN9/Ks0YzgI8shfioLe6gwY3P8OGlyzku8A7Sxk5FaOSfruhkOfn0116pF0zsd2V4vukPuiPBk88kAws4z+WdMcruKeRDZ61d7maTHzEmLSWIZKwWC3OMJ7yoDeYFEFIFOO1qZJQ3kzu3i4012RurIoQdmGCArpMAmRTkO2i5markDanI79VZkORQmchmCtHAL5bRVgGdi8IcMVz3Qxpw+pzmbNDIteT7JUpultOgjX/r8Rh4TfcuPntFyTmhZfvMgm4qlIA4ecGmNktI5LtMPZNIEZQ+PKjI+L6uoJ167WS7hd8eRuQrmZypj+1H/lO8nP8CV79LxFaN8UH3TOMd+RyqgvVpO/Xg0fu+hmenawQ/OMhqGG6jt5+IWqNzETaCA0GgyZ5H6unOTBVbnu43lSYId7CTAqp0Ypo4UHMFp6g/Blm4R+KRJ2JBfs4Lz+FdUiw=","authorEmailMD5":"17d3b2721e96ce7cf395ac5a51fa0d61","authorName":"Dave","authorUri":"","message":"I am currently grappling with something in this space. Specifically, a console app which hosts 2 services, each implementing IHostedService. Things are simple with 1 hosted service. You inject the IHostApplicationLifetime, call StopApplication (at some point) and it works well. But what if there are 2 (or more) hosted services? As soon as you call StopApplication on any of them, the whole host comes tumbling down and the slowest service does not complete its work.\r\nJust curious as to whether you are aware of a way around that. A hacky approach would be to call StopApplication in the slowest, or add a delay in one service which is so long that the rest of the services will definitely have completed before it. Not elegant solutions.","date":"2022-07-20T01:18:07.886Z"}