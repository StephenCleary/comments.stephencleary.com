{"_id":"90a08a0e-2dd6-4ddc-98f3-8b03191ad2d2","postId":"2020_06_backgroundservice-gotcha-application-lifetime-5429f1cf-c680-37af-bab1-366c9509a363","postUri":"https://blog.stephencleary.com/2020/06/backgroundservice-gotcha-application-lifetime.html","replyTo":"3a2c7124-1cf8-4801-8e73-2f6420400f04","authorEmailEncrypted":"L9Klj\u002Bgdk5ZuX5aPxNHAAmLiFfmc/kmrKnqJR7q2KOqrd35AUxoAqhZfWIX8y3GtEuGxePhmcrMvsLjbuKZDtBl7Z47hxP0FFVsFq1D1foDLIn5Y6vN7jDPqCs3VluPP4mLIObrCMecTSUt8lQFrHZDHU5d7f3sqBKHYGBoMqb35/MWVohY7J\u002BUl174NKuZGFApNEflJpJamOJvVdQOO/\u002B/frSrNr6cTZ\u002BTX6ZsQz3kNtkESh5KOoTI/5A/tfp/F4RIxZkRMI12lCBT2zrqUypW\u002Btg6z4CBSyFZDOD0wnzAGWWRcBrYb4N6TQPNGpqC/lhcEAS/H1\u002B2pNPBMLJ17gFaem5FSwXfhOVanQU/E3iyZ0eRV60hrz982nMsC/8gfxysqbIGD5apqBc5fTYfnSBMFXEzFXfUMR9HM3sF2J\u002Bj5KbP/CLSxIdt2q82tjN2DpeemJ6LH62nsHL6qyTBKTjNOCCjJ2dcT9l24yrKkC3l/vyHZ0LE/YBSDFTquSwx8ZXXaagFDYpWylr50E6Mu8tCZ8p9Q1ENFLNgUlF4oKCf\u002BQecmeblKd5LLChQOT61X8jHhgsY\u002BhJVm9dscx5ei2N\u002BIScZezKNkzb8OfjVAw1Kgvf/jTSm808m/NNigCCx7QEQZkWUnWxgv2YD953y\u002ByAeNkqkSTN/eGRrnur1C0sk=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Getting \u0060BackgroundService\u0060 to work as a Win32 service has a few rough edges. The host uses a Win32 service lifetime, which will shut down the host (including its background services) when requested by the SCM. The .NET host doesn\u0027t work well with multiple services in a process, so I\u0027m just going to ignore that possibility and say that the entire process exits when the Win32 service exits.\n\nNow, if the background service *itself* wants to shut down the host - hence the Win32 service - hence the process - it can do so at any time using code similar to the code in this article. However, you *normally* want to restart the service on a fatal error like that; see https://blog.stephencleary.com/2020/06/servicebase-gotcha-recovery-actions.html for details on how to instruct the SCM to restart your service automatically.","date":"2023-02-08T00:06:43.3131855Z"}