{"_id":"9072648b-af30-3b8f-8259-c7bce8512900","authorName":"Anonymous","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"","authorUserId":"","message":"Errr: It seems like there are two problems here, *none* of which are related to async.  \r\n\r\n1. Using 'async void' is just plain wrong here.  \r\nRefer: [http://msdn.microsoft.com/en-us/library/vstudio/hh156513.aspx](http://msdn.microsoft.com/en-us/library/vstudio/hh156513.aspx)  \r\n - \"The caller of a void-returning async method can't await it and can't catch exceptions that the method throws.\"  \r\n\r\n2. ExpectedExceptionAttribute isn't a good solution here, or anywhere.  \r\nThe issue with unwrapping the AggregateException again isn't anything to do with async, it's just that ExpectedException doesn't allow you to verify the InnerException. Just write a helper function to catch the exception for you, and then verify it properly using normal asserts!.","postId":"2012_02_async-unit-tests-part-1-wrong-way-36b6b297-8f03-3340-b0a6-10e349ad0849","replyTo":"","date":"2013-01-14T07:42:32Z","timestamp":1358149352}