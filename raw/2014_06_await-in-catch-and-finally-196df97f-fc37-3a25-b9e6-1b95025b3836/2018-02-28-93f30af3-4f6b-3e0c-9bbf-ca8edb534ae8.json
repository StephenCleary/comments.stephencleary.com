{"_id":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","authorName":"Pinky Paru","authorEmailEncrypted":"O8CgJBJkYLjlHkAFeVrpbXeNJOq+d1kpL3kZkqx/51TU31ywXcUx22cw3xLw7U8cTVTh2KZoF6dTKtXhKdcbR7n3q7GCsp0Qq0g+G9FbZ2tbnjLUKvNmvIN52E5IoGRhEaTaYEkZZ/Yny/CmTNlbu0mF2q6x4lvMD4KnHDe0cnae4eG150ORNNBnaNE8UmqSviQF3sxAlUhZn8QUSoFQVDgKBuZU5hL8sdw7FJJlq4xTU0MkDL8EQo1p83oaVKDwyw+nGQuFBTGjyGAZ0Z1o+grswJtcxIAoHann4MqTCfHbz83vqaYzF6VpKuyZlOMOqdaeccx/1TD3JKD6Mz2+8VPf2mf6iPmN/sIvQpxeHLlxcE03Ral8DVHxJufdzBImKs6jCVFaQAzdHqFp+tWIEEZECUDiOpNnx55Tt8g4NIVqoCD5Z7r3S/krDpIl7bLwAa/8QNVQhwE9RmDtMjAJFhpT4GTykvYMx6KHomXSeLr/6wogFB9x1oIUuvOogIuF1WV9vr056gmJi65sDsk+G/+VAyGzQDjFlQWO56wFii4K9bJnxElYmuO1jfPlJGBOSEqeIfQTv+Qca6wNJzCg8BIjrmNtXIS37lV4zOeIpNO2KZ6b404v9SeedPgYjP5Natkqz0IliQFOJYiwH59rdL42WzofBwVsTCORPkJ+wm8=","authorEmailMD5":"853585d273c77c62e48831ea5e691da7","authorUri":"","authorUserId":"disqus:pinkyparu","authorFallbackAvatar":"","message":"Please tell me what is wrong with the code. Finally block is not executing. In async methods when finally block will execute?\r\n\r\nTcpListener listener;  \r\n private async Task WaitForNewClientsAsync(int port, IPAddress localIPAddress)  \r\n {  \r\n listener = new TcpListener(localIPAddress, port);  \r\n listener.Start();\r\n\r\n TcpClient client = default(TcpClient);  \r\n try  \r\n {  \r\n while (true)  \r\n {  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver started asynchronously\\n\");  \r\n client = await listener.AcceptTcpClientAsync();  \r\n IClient clientInfo = new Client(client);  \r\n Clients.Instance.AddClient(clientInfo);  \r\n clientInfo.Initialize();  \r\n }  \r\n }  \r\n catch (ObjectDisposedException)  \r\n {  \r\n return;  \r\n }  \r\n finally  \r\n {  \r\n listener.Stop();  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver stopped\\n\");  \r\n }  \r\n }","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2018-02-28T06:22:20Z","timestamp":1519798940}