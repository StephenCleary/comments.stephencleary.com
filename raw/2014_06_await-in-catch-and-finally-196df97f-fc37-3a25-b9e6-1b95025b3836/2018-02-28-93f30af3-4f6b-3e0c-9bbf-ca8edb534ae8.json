{"_id":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","authorName":"Pinky Paru","authorEmailEncrypted":"caI53HY/hI79tSsXzuuRR9xX8kthDf4J09mx+IDRMIhdYTiNA/rpW5owNz7xbFmpjZX67FcYm3hSNZpQF0Vf0+jHnZegcGK8uwaKX3oDjMXSBdj9J67ZCccs5VPRTh4orNGatE9Yz7arOJExumn0/nOMUK7VVtY3eQK9GzaKYpHzfOctiYeoI49fNnRJO7mRLLIObuZCi+pK1Rzhj/O2aGnLzwaAznPVWHiLKgh0mZCMEXIXmasplu8N4Q3zBkwM+2YYhCmjH9kdK6uphRg2HRnam1MEPnqHHx7okHC4xC+BamagXIhD72u8XEbUVxNh/FOkAWem1CMcgAB+LkrcOUMI8EbL2GjPx/c3pdSUVc9BDbkg3PAeW7lbZJxX+/MFQaDLkUT9K2/VAwz+jqLuBflqLpiSphHoyS9U9h6i9cLF9TNVJQPj5ND7k56SIzsXg30TibPGbMm+I35Nt/T3wW5AyKW5iqX83KRl3v9VIOLSj2jTC8e5MNB0kc/Yb9h3c4jiQscWEvJ3NJFPOCzOhE+dcNxfJB7WvJFa0UjfL4wmpSlGgrljbCSrgkauWLhnV/7mmFMOKtGTaL9qJzRaNiYFzq53qS0Ds/ZejGukuP4e5o55KifTS+WCONg6jqjjy7Qdb7/DWGq4+ZdYECPJVIzTuwEucHX2Dx6vGcuIaNs=","authorEmailMD5":"853585d273c77c62e48831ea5e691da7","message":"Please tell me what is wrong with the code. Finally block is not executing. In async methods when finally block will execute?\r\n\r\nTcpListener listener;  \r\n private async Task WaitForNewClientsAsync(int port, IPAddress localIPAddress)  \r\n {  \r\n listener = new TcpListener(localIPAddress, port);  \r\n listener.Start();\r\n\r\n TcpClient client = default(TcpClient);  \r\n try  \r\n {  \r\n while (true)  \r\n {  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver started asynchronously\\n\");  \r\n client = await listener.AcceptTcpClientAsync();  \r\n IClient clientInfo = new Client(client);  \r\n Clients.Instance.AddClient(clientInfo);  \r\n clientInfo.Initialize();  \r\n }  \r\n }  \r\n catch (ObjectDisposedException)  \r\n {  \r\n return;  \r\n }  \r\n finally  \r\n {  \r\n listener.Stop();  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver stopped\\n\");  \r\n }  \r\n }","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2018-02-28T06:22:20Z","timestamp":1519798940,"authorUserId":"disqus:pinkyparu"}