{"_id":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","authorName":"Pinky Paru","authorEmailEncrypted":"m0XkWz+NiE8PaGADobuJJOil8Nl4kHJtBdlhS8VFPAwoS8oIjVu5dem3zLKsVf9kr3BKgiYb049P9SXlza+ZileieR0Ii9/zJDzu5nK5lvw7De0sh83TFcl4+ATY5TmmwqsU+BzRI+gN4L+MO5w8ACROta+RQuTiaZx8QlyG8n8+giZu4XaUTXEx/TN1kwK68OF+GfUSS3tDd/pjlyrWlVHrfRjentOpAqzCtwcWmorN/hVyNbJ4rigtkVKaylb3CnvTqiocXXBjsQ7wEAKEysik6mfedytL74F5a4Czd+xhc5AjY45mNUixcACxpJLT/xQ6w//+GWWrsOOOjzxVcNXhlbOPoVkpNmCZFghUpz47WHeXNAYP+fJx9FeOSjbYD8x4VqapPspGZ4OXPrbR/8sWWAsd2FhTnIQvy0uRX6HuklID8T81KGBpz8jORLb6/472qdMc21JXG8EPoQsq2cEr9wyZLpJRW5USSCtWRWWkXPpCJedPA7/5MLJTEUvpzGAaRkhqg0uoo3T+N5QpMoZjuCLySpzOskKo3s/mH2jBl0tYg2Akm+8Ju02cSG8R7n4B+rG13MaVQxys3dqcjyfGVw9NUPcaIjIlTf0cne8+EUD6MCzL5ceGlY2Fiz6TWKzGZfYvXK/60T827q92Ha7Jbsv0V1keJSC8CTUIxg0=","authorEmailMD5":"853585d273c77c62e48831ea5e691da7","message":"Please tell me what is wrong with the code. Finally block is not executing. In async methods when finally block will execute?\r\n\r\nTcpListener listener;  \r\n private async Task WaitForNewClientsAsync(int port, IPAddress localIPAddress)  \r\n {  \r\n listener = new TcpListener(localIPAddress, port);  \r\n listener.Start();\r\n\r\n TcpClient client = default(TcpClient);  \r\n try  \r\n {  \r\n while (true)  \r\n {  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver started asynchronously\\n\");  \r\n client = await listener.AcceptTcpClientAsync();  \r\n IClient clientInfo = new Client(client);  \r\n Clients.Instance.AddClient(clientInfo);  \r\n clientInfo.Initialize();  \r\n }  \r\n }  \r\n catch (ObjectDisposedException)  \r\n {  \r\n return;  \r\n }  \r\n finally  \r\n {  \r\n listener.Stop();  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver stopped\\n\");  \r\n }  \r\n }","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2018-02-28T06:22:20Z","timestamp":1519798940,"authorUserId":"disqus:pinkyparu"}