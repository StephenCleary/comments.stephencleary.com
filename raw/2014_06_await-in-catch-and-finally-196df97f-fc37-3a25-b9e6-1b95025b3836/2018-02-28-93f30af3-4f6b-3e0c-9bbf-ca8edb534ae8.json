{"_id":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","authorName":"Pinky Paru","authorEmailEncrypted":"mcmDlc7Jtz2NVXJNgVxQUgREMIsb8G05hdl/H7vvJ3dRT/xy94Cj4NQwVE51SdKhMBR+W4uqK8pWzImhM46QEbLZS9qtW215Xc/GMXhLxmsYK5//r0G1FQafUa7BlfRXad1eYUotQ7BcWAn0688N60QIaKAwmfaNV4bWAJHGbSye+EvQw2u1I2XvNO9Iq52rd7Y8R1NoZihQ2ffABquH1cS+PNUMfnflIiAulhX0djBpKU2mJ1Djf6twSnnJVC9YVfyxrjK0cU9NpflM/RApry/IKRoQGypYQ41ZaW0sL8X95N95cp/bY5mPfwe0nLeR+JsV3vPK6TDl5pqX6gchWxQ5GTRzujifzT696lypGrK5a1hdNslc3oYeRK6Z9rNaXguVyT23a8FdRr5jViecJzJmUZ5H6Vy/Kc3Qqzw2Ymqn4A22FvmoFb8kz1Rbvr4O1P+qPzIzQfC1uDMpe2WCsKHYJZ1uZf8wezVVE1P5Cz0iUivzAFjVAXFVVCa2+z8uSyuCkK5PwlAc3MeXAcMeFgvLnicmiBZRf9FoMdk6yj281LJuRVsYEyJHbTnUh75IRMfJu3aA5+X21l02Mm4IybeXDNnanwEe7IOD3dkwppWFPEXID7QKf3BJURtJ0Pb7R8Jo1HaAtWbpgziQG9tC0qTJYD2orW+vqB/LAajUAAc=","authorEmailMD5":"853585d273c77c62e48831ea5e691da7","message":"Please tell me what is wrong with the code. Finally block is not executing. In async methods when finally block will execute?\r\n\r\nTcpListener listener;  \r\n private async Task WaitForNewClientsAsync(int port, IPAddress localIPAddress)  \r\n {  \r\n listener = new TcpListener(localIPAddress, port);  \r\n listener.Start();\r\n\r\n TcpClient client = default(TcpClient);  \r\n try  \r\n {  \r\n while (true)  \r\n {  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver started asynchronously\\n\");  \r\n client = await listener.AcceptTcpClientAsync();  \r\n IClient clientInfo = new Client(client);  \r\n Clients.Instance.AddClient(clientInfo);  \r\n clientInfo.Initialize();  \r\n }  \r\n }  \r\n catch (ObjectDisposedException)  \r\n {  \r\n return;  \r\n }  \r\n finally  \r\n {  \r\n listener.Stop();  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver stopped\\n\");  \r\n }  \r\n }","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2018-02-28T06:22:20Z","timestamp":1519798940,"authorUserId":"disqus:pinkyparu"}