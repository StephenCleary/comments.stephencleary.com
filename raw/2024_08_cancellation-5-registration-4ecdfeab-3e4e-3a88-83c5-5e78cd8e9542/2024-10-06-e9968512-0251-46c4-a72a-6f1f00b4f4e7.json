{"_id":"e9968512-0251-46c4-a72a-6f1f00b4f4e7","postId":"2024_08_cancellation-5-registration-4ecdfeab-3e4e-3a88-83c5-5e78cd8e9542","postUri":"https://blog.stephencleary.com/2024/08/cancellation-5-registration.html","replyTo":"","authorEmailEncrypted":"sQ5f1K9Lo\u002BEfIltnRs/2ZeZXW56tUYpGJK0dAbekLOqTck3fvxaWdi4jD5dBssuy\u002B05G1UsJSnO2aCeXsfl0tUGmzyFFrzl\u002BoaWYjrYEbrgMqe3Ase6WOVHjdqVVaOfTfnr35qoSRk9BTV7ICAwer22YoaPoy4tbTFMlj7cSc5Bg\u002BxIkQscP4aQ4vIP5lvtCk7yAyMXTPZrVRy5T1qw1K1fzH4858LsTvv//tbvV1BmFWzznTIGtlDfAdkzsi/KgsExxDsgbCvbgH0Nzx9m1o\u002BjO3kr6V705qt1\u002BKyXbO5zsf2U5XB3SU1k7BImj\u002BVktp18XHlUL\u002BKxaXHz1xRX/uurXt9rBNZCFLlu5zY9wDS6zxNcOcX57/qdJReRXZqc77z4N6ByxVRApV2QYefZuUB/rjJjFFLU73fqfgnpdOhPuCojRSlzqtkV319z19f091C8/6y5q96PxQQfyvZCHrcVss1Lkk84XzHfcmPEwVzD04nbR6JlvXQ6raHdlpSu1nkGciuMu/sBrFb3994ASAHXvtqtaXhSWMBNI7rLO5lzjg6VmeraPt4lbil2XtWTKloU0gIeudUtqGHzWgmHpdzHHXxU2xpWfvV/\u002BGkElKuSCGdu\u002B9OWnO1TPsnQ5tjTjmOkJG99xYlHh\u002BFVMfW2PSmngOeeSfnizWSUt44/yiJ4=","authorEmailMD5":"1dfe9bfd3f2841cc61668989b9d1ac81","authorName":"Grant","authorUri":"https://grantwinney.com","message":"Regarding this line of code (where you create a variable that\u0027s never used, to use a \u0060using\u0060  statement to properly dispose of the registration), is this necessary if the \u0060CancellationTokenSource\u0060 itself is properly disposed of?\n\n\u0060\u0060\u0060cs\nusing var registration = cancellationToken.Register(() =\u003E StopSomething());\n\u0060\u0060\u0060\n\nLooking at the \u0060Dispose\u0060 method in the \u0060CancellationTokenSource\u0060 class, there\u0027s this line of code that appears to do what\u0027s needed (although come to think of it, it _seems_ better to explicitly handle disposing resources than just setting a variable to \u0060null\u0060, but I\u0027m not sure if it actually is...):\n\n\u0060\u0060\u0060cs\n_registrations = null; // allow the GC to clean up registrations\n\u0060\u0060\u0060\n\nThanks for another helpful article! I\u0027ve been catching the \u0060OperationCanceledException\u0060 and didn\u0027t look closely enough at what the \u0060Register()\u0060 method was for. Great to know.","date":"2024-10-06T23:30:32.8641295Z"}