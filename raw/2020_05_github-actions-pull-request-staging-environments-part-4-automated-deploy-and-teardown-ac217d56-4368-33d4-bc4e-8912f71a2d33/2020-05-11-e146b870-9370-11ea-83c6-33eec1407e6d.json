{"_id":"e146b870-9370-11ea-83c6-33eec1407e6d","postId":"2020_05_github-actions-pull-request-staging-environments-part-4-automated-deploy-and-teardown-ac217d56-4368-33d4-bc4e-8912f71a2d33","postUri":"https://blog.stephencleary.com/2020/05/github-actions-pull-request-staging-environments-part-4-automated-deploy-and-teardown.html","replyTo":"","authorEmailEncrypted":"C+kPCVrbxD06ttZtsfHJYaF4xii5qhXQVehnV5SQ7xB1c4CgEJj2yQyEGbrtb4uosn8u0c5fY/6SmpPOcf72ShXjZ+oQmI5h8qRnIqitu9ygROsl1ghxk/oC1hsJrkho0rqkufsUQSGxz2qOayfZxAJ0WCSZ6/B7VzDbJq/216SPqYg///gJ+lgPQ1rGipPREUm23lTTIvg+sVt0T772ZXUygEW5ydxf2c69ZqHGFCVhp51MzZf0zpFkwutZ7C/PXm4+UxrLyNyGaABpNBal+/ltO4n1mT+41yr44AZOPLcQq/HOB7C87LOW843C97UBtUz/cGvRmrTcrsbREzQYQEjfimwEpC4Zc5Krc7rmWG7SzRY0p2Nrleuwaz10WEKws2Q/FTEGOm4skteLdo8J4+YqUdKFrh+Zbr3IyDZKGdbjatXaNq8/2PGL600l87m2PQ8yXDgVICq5ziSIY/BCe5cAORx5jOW+7+CTfscwGUWLcxJabrcfFlE97gVevl1cH5sb4GBGmgJPKLPUWJctLtUInpgGiF3V5azk1vBPbA9jFgh6ALnyj729Jj1iuTK73PheYbzRUj3BBWOBv2L0JOFEZayylgXnJr0bKK8dBEC/23MybU/RL7InTjGRO0Kf1OHbNGNp8PaXFLOtLgfzovE4z7PlvF2CczOcCtvZbxo=","authorEmailMD5":"2c7e548d5728c041c6ceda3c97548664","authorName":"Cyril Rohr","authorUri":"https://pullpreview.com","message":"Thanks for the detailed write-up, GitHub Actions are sometimes a pain to write but they're very powerful!\r\n\r\nIt looks like everyone is reinventing their own way of creating ephemeral staging environments these days, so I decided to package everything I knew and publish the [PullPreview GitHub Action](https://pullpreview.com) for anybody to reuse.\r\n\r\nIt implements a workflow similar to yours but is based on labels instead of comments:\r\n* env is started by applying a label on the PR\r\n* env is destroyed when removing the label, or when merging or closing the PR\r\n\r\nIt also supports any kind of application, as long as it can be started with docker-compose. Environments are started on cheap AWS lightsail instances in your own account, with support for SSH access, pretty URLs and Let's Encrypt HTTPS.\r\n\r\nI think you might be interested, especially since the whole code is open source ;)","date":"2020-05-11T10:19:21.555Z"}