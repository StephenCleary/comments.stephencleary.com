{"_id":"447eaf7e-6cd0-4c41-ad1a-9fd6757ecffd","postId":"2022_02_cancellation-1-overview-f578fde1-7dc4-3df5-88ec-107dca6b348e","postUri":"https://blog.stephencleary.com/2022/02/cancellation-1-overview.html","replyTo":"8de12908-2868-43ce-805f-41f29eb279be","authorEmailEncrypted":"T4PQT2akL4hqvbCVlvw57QDXj01D4aqEFtBjpROQWZLNrxUgE6SN/XD0qzaOsPShQnGlGr4CgeN6v1kge4dcHyVj82Y9nvO7bwV2/jaxNN6IIyGhPiHsy\u002By8K9TklECvSfMvAI3loIZLsM7CCGdtlskibmZ\u002B1GPWAHcZYhuorD/a4SQQ2dtBM9Q8\u002BDExiKtiDUKofnpUQ4o5z77/81NBj/dA5bj25E2eS/sGg7RCKvltXwySMu6E7a0z43U\u002BtyDbWAU6FVQ2mdwSqcIoHDdxkgWRBcvi5n9LW5YpY9Y6Xo1SIM6xQT9tYs69MHol971mED0xMGiuqYUjt5UrdX\u002Bip5tiL2B60yPsa8GHvoxIJ7YZjPEWGwOVXnANqXw7r6TKmUg8vUG1jp09DLOdEJeuPChwERWYPp4kjbw5NULte8r87U\u002Bx6s36HkrZiNKJG5ofhdc7A9tI50XeRti3dgxhwL/bQfDP37Pl4h4Ku3C8IJb9YqRgJLydp\u002BYA4dBpzfsEt6Bu2yapbAowv5Mbs1hINWJQlE\u002BfD99Dd99uZWBf5NtROzAeluL9VWNxgF7TNw0On93UmNpb/n5rLQXKPfOzTV3LzTpRZOvY9zpbsUJeKs24z4YXzKYIiFQLKQQy91QZt9jNjGVClUlZ8QExJsvL5JPil2umsLlCbE1lo6FsOOo=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Technically, boolean flags can be problematic because if it\u0027s set by one thread then the update may not propagate to another thread. Volatile access (on both sides) or memory barriers are necessary to ensure the flag change can be seen when crossing threads.\n\nI\u0027ve never seen this be a problem in practice (the .NET runtime/compiler do not optimize as much as they could). That said, I personally would change this to use a \u0060CancellationToken\u0060 for two reasons: 1) The CT is guaranteed correct (it uses proper access/barriers internally), and 2) The CT code is the standard pattern for cancellation, so it will be less surprising to future maintainers.","date":"2023-02-18T21:41:46.7149266Z"}