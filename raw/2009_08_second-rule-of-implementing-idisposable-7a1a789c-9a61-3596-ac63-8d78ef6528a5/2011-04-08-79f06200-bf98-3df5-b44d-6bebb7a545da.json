{"_id":"79f06200-bf98-3df5-b44d-6bebb7a545da","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"@Anonymous:  \r\n\r\nI don't include the \"if\" check precisely because the Dispose method should only dispose resources the object owns.  \r\n\r\nIf an object is refactored so that it no longer owns a resource, then Dispose needs to be refactored too (this would be true even if you had an if check).  \r\n\r\n(BTW, I did not say to use an \"if\" statement if the object maybe-owns its resource. I never encourage \"if\" statements in Dispose; an object either owns a resource or it does not. It may share an owned resource by owning a reference-counted Disposable, but this is rarely needed).  \r\n\r\nOn the other hand, *not* calling Dispose when you *should* can cause some very difficult-to-find bugs. Many classes *require* Dispose to be called, no \"if's\" about it (pardon the pun!).  \r\n\r\nSo I claim the \"if\" check makes the code *less* robust in the face of complex software processes and team maintenance over time.  \r\n\r\nWhat the benefits are of having an \"if\" check?  \r\n1. It does not help when refactoring. Changing resource ownership requires changes to Dispose regardless of whether there's an \"if\" check.  \r\n2. It does not help with robustness. If it actually avoids a null dereference, then you've only introduced a much harder-to-find error by skipping the owned resource's Dispose.   \r\n\r\nOn the other hand, I think *not* having an \"if\" check more clearly communicates the designed intent of the code. That is the reason for my recommendation (not for performance or avoiding code bloat ;).  \r\n\r\nThat said, you are free to take my advice and toss it in the trash. I am, after all, just a random blogger. :)","postId":"2009_08_second-rule-of-implementing-idisposable-7a1a789c-9a61-3596-ac63-8d78ef6528a5","replyTo":"","date":"2011-04-08T18:24:34Z","timestamp":1302287074}