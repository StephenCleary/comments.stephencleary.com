{"_id":"b662ff50-a9d0-4c0e-b494-962f5e78b18d","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","postUri":"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html","replyTo":"8bf72094-7e88-440a-856b-b89c8d1a5955","authorEmailEncrypted":"DJmnwHee0RnI\u002Bqx5dMBXVJbwAaM0i4nHXJnxwNJl2rQv0Duf8kyyjeKOweJa6C2J9ImUvlU9QhIciDXQ1MZtMySg3\u002BXi\u002BHIHhYAtJPKfPDgrxAaU\u002B8x62zuC4MEI/eI9lLjzX0tIQELH3m\u002BBvN6MpTmsrMuFwX2or\u002BwibQ9v1UNTZQpA/F/a7GKuZGaa4cr64m1Hh4djLL4O0uJ3XyTgoEd/4wwWKWo1Yj6F5U4vkP8Fgfba\u002BWOq6UoWoCUjV6hM5Qgjm3R7HLf0ZIOxzM6R1bBADm5HbrSYk1AcAm0o7yyTBI1fDtf4zC4sBCxDEfskYPdLm\u002BbxlvRrAdVNR4y8hEdNfgG0ye4cYbvzRjQTZ2\u002B2l/sLqwaEGf\u002BV2lGf1y76vnJRtKZfqoR3DRpvhohm7guBmzVIHbRsqLnnYdjOzQKhXtKlOVwU2hURVBL6Avs7rsSjO5qi3HkK1\u002BlTyz876JatkRS6\u002BuofdRigiqsMBR6yzGQGD/qKEtMIHOlGXp\u002BWTMtLN/rz2oNMuy8UPObq67S8pmMJCsuVwhStJcW6LzcLHXHb5gKJxr8qB5Kj1yKBYVmzRuQGm2OS004oRQ/2EdA0yreICJHLIp37MflMGB105YsKdGRUoyqjCvm\u002BVVsehCmbGWpdv8tVcUTJYTGyg3PX/PEGZzTZD9GBUFu2nOM=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"That\u0027s the \u0022thread pool hack\u0022 that I mention in [my article on the subject](https://learn.microsoft.com/en-us/archive/msdn-magazine/2015/july/async-programming-brownfield-async-development#the-thread-pool-hack).\n\nThe thread pool hack:\n- Works in the most situations, including the example code in this post. It does not, however, work in _all_ situations: specifically, if there is code in the asynchronous method that requires the original context. E.g., if \u0060GetJsonAsync\u0060 updated a UI element with the results. Then running that code on the thread pool clearly wouldn\u0027t work.\n- Is a very maintainable hack compared to the other hack options.\n- Does consume an extra thread. In desktop apps, this is no big deal, but I have been called in to consult for companies that use this hack on web servers and end up exhausting the thread pool when under load.\n\nIn summary, I\u0027m fine using the thread pool hack if necessary; it is easy to implement, widely applicable, and more maintainable than other hacks. However, it doesn\u0027t work for _all_ code and implementing it on the server side is risky. Making the code properly asynchronous is still the ideal solution IMO.","date":"2024-11-13T19:00:31.2165943Z"}