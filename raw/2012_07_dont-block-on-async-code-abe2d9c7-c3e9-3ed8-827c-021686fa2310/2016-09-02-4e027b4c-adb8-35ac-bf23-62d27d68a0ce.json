{"_id":"4e027b4c-adb8-35ac-bf23-62d27d68a0ce","authorName":"paolo ponzano","authorEmailEncrypted":"pDwqKg3SKrHuum4vX/KcL5F9Ms1X+LYAS/HQF3oBjymBJO7wB/wv4jl5hIrIqxmksvc5I+SEcRVVhvN4HknxEEsurc+Ee78GnW96Szuy718ZeHFCnC3sNJNVrCK762ydOwmaduFTmjlsr15OnUDOmJ9ccfg0d6V4brMgQ8JyemKff1TbRqDCh2ybhal67SnNhENXG62skn0dncyf+fy8PIB3H1hRNYiMJa10OKoGKIkkDOtsosj6zNcPiqU4R15cFxVEWWaos+0ZgG/miwfrBjosky/aSgyms70gB3qOWO8sgyktr4XBtmYzDesM7MxKvozKk1CIZA5PTNURwmJ0dbpeX769Xk02A+KVrtylVnxJHj0PsjHgmZVwG7vnyttA/h+bQBvxxbNR11kuNmRsjIj7fUK3CBedf5Z8g/pggJH5W8rkR2uCjExO7QETwZgyePUVV8qywK8iQRw+AM7qjs73KRVJXdrAzmg/sQV8hW8EzWgr0jC88kJDl8gP7LnfLoZemqUuO0rxqUr0dyxczp0rFUEKwRPRhH2cjOMTA5C+5//kdH6LYpGq7/W2fYPw/vzfpu3rhqI6FBJGOVTBONIpsQuUAhFBdO6hn8erx5/8QbTKBAd8WzY3hea/YtzNswWMaKYiQu+L+/D2BEN4N+Tl36iOQWZRkXO+Mfuryw8=","authorEmailMD5":"6a7ab997c42f99015f3cb779987ab080","message":"Excuse me, I've read your post and find it really intresting, but a Thing is not clear to me...I've got a WPF application that uses Catel as MVVM Framework.  \r\nI've some services as\r\n\r\n public sealed class CurrenciesService : ContainerServiceBase<currency>, ICurrenciesService  \r\n {  \r\n public override Task<currency> GetItem(int id)  \r\n {  \r\n return GetItem(x => x.Id == id);  \r\n }\r\n\r\n protected override Task Init()  \r\n {  \r\n return PerformInitInternal(InitCacheMessages.STR_GET_COUNTERPARTS,  \r\n InitCacheMessages.STR_GET_COUNTERPARTS_FAILED,()=> CommonRepository.GetCurrenciesAsync());  \r\n }\r\n\r\nprotected IEnumerable<t> Items { get; private set; }\r\n\r\n public async Task<ienumerable<currency>> GetItems()  \r\n {  \r\n using (await asyncLock.LockAsync())  \r\n {  \r\n if (IsInitialized && !IsFaulted)  \r\n {  \r\n return Items;  \r\n }\r\n\r\n try  \r\n {  \r\n await Init();  \r\n IsInitialized = true;  \r\n }  \r\n catch (Exception ex)  \r\n {  \r\n IsFaulted = true;  \r\n ServiceLocator.Default.ResolveType<iexceptionservice>().Process(() => { throw new DefaultException(ex); });  \r\n }\r\n\r\n return Items;  \r\n }  \r\n }  \r\n }\r\n\r\nWhere I can I use an async/await pattern to wait for the result, but in some pleces I used this\r\n\r\n public string Description  \r\n {  \r\n get  \r\n {  \r\n if (Currency.HasValue)  \r\n {  \r\n var item = currenciesService.GetItem(Currency.Value).Result;  \r\n return item?.Description;  \r\n }  \r\n return \"\";  \r\n }  \r\n }\r\n\r\nIs this ok? or can it leads to deadlock?\r\n\r\nThanks","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"","date":"2016-09-02T15:17:00Z","timestamp":1472829420,"authorUserId":"disqus:paoloponzano"}