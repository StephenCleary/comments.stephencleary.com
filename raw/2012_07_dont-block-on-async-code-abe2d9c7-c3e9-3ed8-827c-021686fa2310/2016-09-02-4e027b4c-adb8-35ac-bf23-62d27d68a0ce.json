{"_id":"4e027b4c-adb8-35ac-bf23-62d27d68a0ce","authorName":"paolo ponzano","authorEmailEncrypted":"Ig/FbY8OIwqN/ArKNxgtZkezL5jB6KNMqEwan8n1YW7wzebiVlhcS3cCAtezuTfDXz0q/qfkBiF0k1iSVVHG5gO41NfUR50Xj7tNbJgHWHTqhmWRSkkdI4WPleD8MGpQw3Cm+Qw0EAae+WhAzk7hc1degWAEk51hE+EgU3Hl4AsoAJ9qeErFGRWRXOAz1UOvVCLp4biqyO7kfXIukzsSaNq5WAbv2P0BYvwZLoPGyARYMIFhwFqT6mJt40ePSAGVcA5owuWdr9Fe04LsOJtZTwVNdBgVtK+fQ/mT4dA/VdAB29fFiKy8B/C2nhB0s20JOhmhPliic8UpyFaCUGRehsXkhpi6NEUIKfhcdoY4R2z0o5tUoi494YUMVeq+mVbb8+OJzhWbll84CUESaKbZvIhtWA1h2isnP5DJ/pwpoZrP2oE/QF3f6OGjJDuarOd1pBIMAkfV7t8Snso/pi0FiSHP7RhYUzJJsN2mnn4hyGm4TJUoKRyG2LJRkd4GYrxfAHY9btzqiKvy85pW6oENVtsb9HgrwAq0TaJXI3ItWMkmBBWxnrqysYIwiR+Bdbk/+z7gCanKtQh4arDu5wSmdaPkfCjztw+L5dnTmnUV3SGWICUDVjjVhAJOfIN/y+Al6cafSC5xfG5CFqH6Q7O3YcXEr4tDWt3Kpi0h3jVJGiA=","authorEmailMD5":"6a7ab997c42f99015f3cb779987ab080","authorUri":"","authorUserId":"disqus:paoloponzano","message":"Excuse me, I've read your post and find it really intresting, but a Thing is not clear to me...I've got a WPF application that uses Catel as MVVM Framework.  \r\nI've some services as\r\n\r\n public sealed class CurrenciesService : ContainerServiceBase<currency>, ICurrenciesService  \r\n {  \r\n public override Task<currency> GetItem(int id)  \r\n {  \r\n return GetItem(x => x.Id == id);  \r\n }\r\n\r\n protected override Task Init()  \r\n {  \r\n return PerformInitInternal(InitCacheMessages.STR_GET_COUNTERPARTS,  \r\n InitCacheMessages.STR_GET_COUNTERPARTS_FAILED,()=> CommonRepository.GetCurrenciesAsync());  \r\n }\r\n\r\nprotected IEnumerable<t> Items { get; private set; }\r\n\r\n public async Task<ienumerable<currency>> GetItems()  \r\n {  \r\n using (await asyncLock.LockAsync())  \r\n {  \r\n if (IsInitialized && !IsFaulted)  \r\n {  \r\n return Items;  \r\n }\r\n\r\n try  \r\n {  \r\n await Init();  \r\n IsInitialized = true;  \r\n }  \r\n catch (Exception ex)  \r\n {  \r\n IsFaulted = true;  \r\n ServiceLocator.Default.ResolveType<iexceptionservice>().Process(() => { throw new DefaultException(ex); });  \r\n }\r\n\r\n return Items;  \r\n }  \r\n }  \r\n }\r\n\r\nWhere I can I use an async/await pattern to wait for the result, but in some pleces I used this\r\n\r\n public string Description  \r\n {  \r\n get  \r\n {  \r\n if (Currency.HasValue)  \r\n {  \r\n var item = currenciesService.GetItem(Currency.Value).Result;  \r\n return item?.Description;  \r\n }  \r\n return \"\";  \r\n }  \r\n }\r\n\r\nIs this ok? or can it leads to deadlock?\r\n\r\nThanks","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"","date":"2016-09-02T15:17:00Z","timestamp":1472829420}