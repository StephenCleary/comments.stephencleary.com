{"_id":"34739fc7-bd82-37e6-a412-86dac1077d1b","authorName":"Stephen Cleary","authorEmailEncrypted":"Rzj+3pJcuji7CaCvq5rXWl4Z4QwsqohLf/Kd6cJiGfEcLp7nH/OXZBJv3Izxnmulu3oiMGcLegSDKRTddLqYdQ04tgGjP6q4/SydvlweTvKl0by0yAsL6OZA6YzFz2goGr5s//i05yYiymGpylZeQUP2AuNK3162wxPUqef4AZWXcyq9VIyQA6DDvynzl3oWaPSgyQ7qXl4x/85v2O3Weu0vfrzv9iEGL302q/gwRJYUWDhz8+8EGn6G5BsoY+lYO6SqxwawnhfJvRJaSyTpFKb4K0L8YpsOsTleW60DMsMSpP9Cwphnye1hf8Ou3zvOU2pRmdzR1hrOw6GKwQNyaYOwq3cPdxh+ccp7OpZq7NtPRp2utQNxf9XZs0O49TtGx+Po1TJdLVNi7841IslH7upKvtNqkekWTNjEL1ltFrkSi5S9mKZ2JgpVVCgO98miZzNZiFy7Gq2SA692/6UEs+yK4VGiWE2ZD/w9NpuPGaRpm9HAcZ0APoo2poklzvUzqMIagvtxl3ZRNkp9g+SeJ7LCT3u5++7sCprlQR9OBhJ37EhnSpvY8a+MqzQU1Nr57s5o2ts7rzKOqsHeiy3po4WZ/EotidJa5fI94vhfJ+6U45NKKo3WzRg2+74EB9IqlGIvsj9azhvnNoHlq+NyiRjyw4Fs92nGqZ1GB8ZH7DI=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"> Is this code okay for a console or ASP.NET app?\r\n\r\nIt looks fine to me.\r\n\r\n> Is it helpful, or should I just use synchronous HTTP access?\r\n\r\nI think it would be helpful to keep the HTTP asynchronous. Making database access async is more debatable - it's only really helpful if the database can scale. But you can generally assume HTTP servers can scale.\r\n\r\n> Is it bad to have any blocking io in an async method?\r\n\r\nIt's not too bad; I cover this in a blog post here: [http://blog.stephencleary.c...](http://blog.stephencleary.com/2013/11/taskrun-etiquette-examples-even-in.html \"http://blog.stephencleary.com/2013/11/taskrun-etiquette-examples-even-in.html\")\r\n\r\nI would say just add a comment to your method stating that it has some blocking in it as well as async code. That way, if it's ever called from a UI app, the dev knows to use Task.Run. It should be called directly (just like you already are doing) when in a Console / ASP.NET / background thread context.","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"07135cab-780c-3f04-a634-790fce7c5031","date":"2016-08-24T20:19:06Z","timestamp":1472069946,"authorUserId":"disqus:stephen_cleary"}