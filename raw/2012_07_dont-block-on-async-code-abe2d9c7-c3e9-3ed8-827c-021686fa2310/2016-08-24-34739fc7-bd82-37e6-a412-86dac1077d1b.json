{"_id":"34739fc7-bd82-37e6-a412-86dac1077d1b","authorName":"Stephen Cleary","authorEmailEncrypted":"IBIvBX3vmTFiCnk8QVGMVSlJ2bscqAU1LEH0+Ou/gT1NYcSKU6UsxAEECw3NaG5p2xObeErxaAArAFzi8LZAYJNS5XjxgRuB7NZDXB3jmRT8yjRsAa3JkWApOxB0K2g5ODAoMo47Egbg/iJOIVlrTtx0AFvEb7Y9vlUmXhgLwRFppnvAbVDSOLLjsQ3HFUMHjw7tybVj2yJotVxb4i+y09l91eNgcXjAAl2GJtwkOMqR9tANngdUG9qhmLv1RiJwo4VLgLDmfKNatOdvKvzCi1nriEYSDnSUmnjpkPSRrGBKtbbDe/ujvkqX8DiV0n87NRG2pXctc3f0zl4ZwYhkV1P+T17IyrLqeyAx/9SFwcIC5xU77S0DkamRP8HmaibHcybL8yLIhYsG14Ne0th+O7OPzOFAEDC4IQYluIFyqIzyaDTFOEp9R0yF8qj+UdlxK0zlA4eXdRcTWvNqY5Wc7pDOcYFg9hAkKuwSjKg6fbCeRyed621ag/TNC4/U7oHSQq9Pi+XcU19dZPCNIIh503w2cqo4LZWFBp9yHcUH86ddOm0h1PFRgGVB+ow6PmylaIw4bJwd287C501T3F5RzC+Nf0SdtIjC9s8tFSgmcTgGO5SUwV8natDl3Dxhl7k4JugOsaDz3NIVOTAm9bLGCv/KrGwQ+wDVq0TzNuiu6Qw=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"> Is this code okay for a console or ASP.NET app?\r\n\r\nIt looks fine to me.\r\n\r\n> Is it helpful, or should I just use synchronous HTTP access?\r\n\r\nI think it would be helpful to keep the HTTP asynchronous. Making database access async is more debatable - it's only really helpful if the database can scale. But you can generally assume HTTP servers can scale.\r\n\r\n> Is it bad to have any blocking io in an async method?\r\n\r\nIt's not too bad; I cover this in a blog post here: [http://blog.stephencleary.com/2013/11/taskrun-etiquette-examples-even-in.html](http://blog.stephencleary.com/2013/11/taskrun-etiquette-examples-even-in.html)\r\n\r\nI would say just add a comment to your method stating that it has some blocking in it as well as async code. That way, if it's ever called from a UI app, the dev knows to use Task.Run. It should be called directly (just like you already are doing) when in a Console / ASP.NET / background thread context.","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"07135cab-780c-3f04-a634-790fce7c5031","date":"2016-08-24T20:19:06Z","timestamp":1472069946,"authorUserId":"disqus:stephen_cleary"}