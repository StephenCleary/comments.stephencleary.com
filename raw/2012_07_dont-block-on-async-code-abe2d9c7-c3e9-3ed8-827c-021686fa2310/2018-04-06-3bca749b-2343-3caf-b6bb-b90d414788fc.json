{"_id":"3bca749b-2343-3caf-b6bb-b90d414788fc","authorName":"Nikos Sideris","authorEmailEncrypted":"njjmd8RHTrY0lOmm54V9mdVfiBuTdE45/SJ2eaZQ6AhBVHp0JaO8z7ZB61AaOcNOgdFeDc2qt5A9FQI0lcAhGeTfgiPF7aDyTyQMy4UpyIYw4OtEt7/z7YEmPW8yWhUBC5igYboCZwrRUsg7IGO0h3SxPdnTTe+jFc0T9s8YM72Ay38CSiwlKAQqPlBqeujA9YEgtRXlxT1IKxGK4bhkNVgP0hByjuUGDDvj3gFxoq7cXJJXHTx2EDt3BBCFIsMs1bRsIV4lUdLYGyK2p4U4OC4/yqIwIZVArM8c+RNXqm6kVhseCXX75xMCSRK5983QICTL758PAuExjwCsrFx7dv55rR4LjPpeyX6B2gHwSGgJ/OymGrV3kLx9cetktKkCAnAERgsO9JaUuuAVnchWJqcv0rcjpWEqNGdxOrjIbqzp9aE2c/h42tAs0oX36Vrz7X6pAMBc3K6dNiH8uLpyeN6sEdNVpvWrupGftOlzXtuXV7TY4mCduQCgwJ2t572O9CZt0iE+V6AFBPd2yqnPgjGiDLT56wQ5ziFYnFIyA7EEQf9uv9WpaiNoEX+ss4x5+BaUyQOPJ+KVds17OmXFwv9xh0s+67EvPnWH7aJL323Y/RmO1WrQel8PcFTvv99c2LOVS+W82ZeUkNV9Z7LrsR48vlPW65ISLOv6OegsJcA=","authorEmailMD5":"2cb0e53f5c57d64f749a46884c8ef829","message":"Hello Stephen,\r\n\r\nI would like to ask you why you mention that statement :\r\n\r\n \"Using ConfigureAwait(false) to avoid deadlocks is a dangerous practice. You would have to use ConfigureAwait(false) for every await in the transitive closure of all methods called by the blocking code, including all third- and second-party code. Using ConfigureAwait(false) to avoid deadlock is at best just a hack).\"\r\n\r\nOn your msdn article ([https://msdn.microsoft.com/...](https://msdn.microsoft.com/en-us/magazine/jj991977.aspx) \"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx)\") you strongly suggest using ConfigureAwait(false) whenever possible. Its good for performance and prevents deadlocks.\r\n\r\nMoreover from Stephan Taub ([https://blogs.msdn.microsof...](https://blogs.msdn.microsoft.com/pfxteam/2012/04/13/should-i-expose-synchronous-wrappers-for-asynchronous-methods/) \"https://blogs.msdn.microsoft.com/pfxteam/2012/04/13/should-i-expose-synchronous-wrappers-for-asynchronous-methods/)\") is always suggested to use ConfigureAwait(false).\r\n\r\n\"As a library implementer, itâ€™s a best practice to always use ConfigureAwait(false) on all of your awaits, unless you have a specific reason not to; this is good not only to help avoid these kinds of deadlock problems, but also for performance, as it avoids unnecessary marshaling costs.\"\r\n\r\nAlso its quite difficult to ensure that all third- and second-party code will go async all the way. So using ConfigureAwait(false) on the caller might prevent from deadlocks.\r\n\r\nRegards  \r\nSideris Nikos","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"","date":"2018-04-06T09:51:48Z","timestamp":1523008308,"authorUserId":"disqus:disqus_FlUbdZq63t"}