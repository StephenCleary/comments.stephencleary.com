{"_id":"750e3399-d230-3501-a17f-b4cbfa1080e6","authorName":"Piet","authorEmailEncrypted":"q0k6AuU3xcseGRujtPKtP9xv4OBTlwtmWBipX6/mNx5Svo8Y0D5+s0g4eA8ltmOiS5ZtVt+EdqchHShj8NDfw2L8U08kTcRi9ITmytoDX/5uRodRSmwn/tzKPzsPLv0IYArRE+GSb3dVqynyAKtdzBvzYfhCx7CM2LRGoo8yqZVG1wsDgoTGzpTYRI99fR5NUZ/OHKcYpx2dN9AWdO8OTUtSmDR2qgP6Ac8f2R8AwMn4aXdyRw/1DTeoTI15AOo1GsH139RGPSDBGUphHmISCVKRjQjDaZGbuxutIRrLiGscmQ6AFT5Ulf7HGQSlPk9t6G2IVhpbZRKrvMsI5fhDdbzFW3E8TPr+tKjBSliA670eOAsQ6h5vx+ONc3SddByWHltcVpjFOKeWkgdNcr8o5ROYeqd0/egsIbLZ0pf/SzUjcg5GDURkV9QLybEcF1JbGfsb00igY1xO/Bf9JN5a4M4i3SLCeC/jZDVkIf94aKEvRMBpRcRf15c70sCHgESni65NzXUSE6vLP94Dg/HGBoayHQI9ttgSEEDG7TE5+v6VfniYR5GM+5GsUwnH2pINBCJ/t67A52tBMy7hPcnn1x+iqUKKXhkxr2LtysJ+tm15eJejeeYWbejGb71XnfaiUKporePr6T7j+CvbY39t5j7U38kllIkVjhsy/LvckI0=","authorEmailMD5":"b3029fe9f1cea0938143f07a0dddd5d6","message":"Thanks for the quick response..\r\n\r\nFinally found the problem, turned out it had nothing to do with async issues, but with the folowing:\r\n\r\n\"Azure Load Balancer has an ‘idle timeout’ setting of 4 minutes\"\r\n\r\nSo after 4 minutes the connection was closed and no exception was thrown (or catched) and my call keeps waiting.\r\n\r\nSolution:\r\n\r\n var servicePoint = System.Net.ServicePointManager.FindServicePoint(new Uri(ToolboxSettings.GetSetting(ToolboxSettings.Settings.StorageServiceBaseUrl)));\r\n\r\nif (servicePoint != null)  \r\n{  \r\n servicePoint.SetTcpKeepAlive(true, 60000, 60000);  \r\n}","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"50f7875b-ef7e-3516-b4a5-2ba91aaf283a","date":"2015-11-11T16:18:13Z","timestamp":1447258693,"authorUserId":""}