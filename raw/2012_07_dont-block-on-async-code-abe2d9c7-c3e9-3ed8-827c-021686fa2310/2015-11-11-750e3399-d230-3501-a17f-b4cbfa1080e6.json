{"_id":"750e3399-d230-3501-a17f-b4cbfa1080e6","authorName":"Piet","authorEmailEncrypted":"sxOAMAHtLeEITPJoQB2QeeJs9d7mrWAHbyuyrGuvfF+B66Smes1EqzHQ6BVpGDFHLKU4jEIwZaXuuq11a1i/17komyM2CUtLZzMN2Jn01TmtjsT2S/G0iGxrRmXuCg9YNPzoLy9z8Psn8Ws5beQX8c+0obuGwQlOVrt5kFaGehVuW/rEehQBmlK2Twz0rAhaMBAQ4ZQ5jhPLKMax+XK3gQucwa4ZvQwG2d5DALwH/ba0pl/e5Pqf4rsQ+SmCBxxuj7SQEPBtxw2z82aVrOxBElkJL3PsVLJaw766OFUcPqGexat3n4707CmeSvn9N3U6Z7bmbQ5jx2o2apHW00rS3YkViPr23aS8yMRzK0c0jItoN6yduFjEHcMc2x8d6ssThQinC7snP/deT8xHDfDO+UiULwMfi5pHwxqIiaPB6UZi90SP+3eOnu6SS0r5Ffp/traPILKOTdqh8DoNfn1aNmegtXQcEstxRg/xO6OT35PjtLS0g8jDkbY2Mwufjmf685hbo6ydjoShm1Mt6kbrLyx7oWLeRXIIDMcS6AiL9bFj03n2+hiBxmkQuk0bLRCw+W9+KfGmhRY7AMvxEZVXSX2a8zVP+HoGh7FQeOGQCXU2Dos3ZP6AJTfK8jbiSQj+PdnY8Ym1NrlxczigtYUbmfTmHQZOt6kH7m7iiBcvklY=","authorEmailMD5":"b3029fe9f1cea0938143f07a0dddd5d6","message":"Thanks for the quick response..\r\n\r\nFinally found the problem, turned out it had nothing to do with async issues, but with the folowing:\r\n\r\n\"Azure Load Balancer has an ‘idle timeout’ setting of 4 minutes\"\r\n\r\nSo after 4 minutes the connection was closed and no exception was thrown (or catched) and my call keeps waiting.\r\n\r\nSolution:\r\n\r\n var servicePoint = System.Net.ServicePointManager.FindServicePoint(new Uri(ToolboxSettings.GetSetting(ToolboxSettings.Settings.StorageServiceBaseUrl)));\r\n\r\nif (servicePoint != null)  \r\n{  \r\n servicePoint.SetTcpKeepAlive(true, 60000, 60000);  \r\n}","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"50f7875b-ef7e-3516-b4a5-2ba91aaf283a","date":"2015-11-11T16:18:13Z","timestamp":1447258693,"authorUserId":""}