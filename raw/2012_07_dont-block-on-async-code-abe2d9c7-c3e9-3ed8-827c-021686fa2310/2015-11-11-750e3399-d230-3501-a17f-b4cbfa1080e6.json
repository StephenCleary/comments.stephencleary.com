{"_id":"750e3399-d230-3501-a17f-b4cbfa1080e6","authorName":"Piet","authorEmailEncrypted":"YwqOimeDtqo8wkbcRaxPWt1NapxrSfbSghMyccEmtsoLbj+yqdly2AqqklOCwfa0SWZtZM9enHNBuuh0WyC24xyvceKMPtMzGG9nsQmC9JjXE42bbzyWDRWha/OtxqVdk9TITNuvCxNQugbiv0oOqINoxLiB6UtYtkLaZdYHcR1heBd5Qsc3joho/ldEiCw4rKljx9zwqvymlI2YKjb6blVIxTaPB6UNAabWsbs+ONIvOHJz9kHqQVON3TpFMUL6KM+YZVxNXchjRwzmUSXLdaVNPETot+3dZJ7K/JBEwg3L3BgQS0TwmCA8eo+P7s9Q3jIY5+/Pn8cXNTivICxQgyQJqAOlY42vja77Mav3TReZU3NbOEpChrMWbegMPvYpfMkewKziBJZ53QBUZBw03s8Hq9lIrob8aCQ4Ts5QkvVi7ulqbbf0+gUQFCGE/tNht+ZaBsJfpLKsWqfRfEw7Yv0RWM4dqjpabtHk+KMD069Jzi/hguyHTS8bi53WDU/qRBtKEh067s0uUZw+6yzBgSNHZdsDUVDhywBkco79C+KasGMQD7/e9R2vWdnqO3o77OLfA0sJeknwJITvD9SrALO/xFr+ZwMZUw4PDNr8PNLxDbSPWlB+BSehpQv49gKIrJIPoQ09gguFoSde2vCCbed3bUN9BvZ6biufJZvG2f4=","authorEmailMD5":"b3029fe9f1cea0938143f07a0dddd5d6","message":"Thanks for the quick response..\r\n\r\nFinally found the problem, turned out it had nothing to do with async issues, but with the folowing:\r\n\r\n\"Azure Load Balancer has an ‘idle timeout’ setting of 4 minutes\"\r\n\r\nSo after 4 minutes the connection was closed and no exception was thrown (or catched) and my call keeps waiting.\r\n\r\nSolution:\r\n\r\n var servicePoint = System.Net.ServicePointManager.FindServicePoint(new Uri(ToolboxSettings.GetSetting(ToolboxSettings.Settings.StorageServiceBaseUrl)));\r\n\r\nif (servicePoint != null)  \r\n{  \r\n servicePoint.SetTcpKeepAlive(true, 60000, 60000);  \r\n}","postId":"2012_07_dont-block-on-async-code-abe2d9c7-c3e9-3ed8-827c-021686fa2310","replyTo":"50f7875b-ef7e-3516-b4a5-2ba91aaf283a","date":"2015-11-11T16:18:13Z","timestamp":1447258693,"authorUserId":""}