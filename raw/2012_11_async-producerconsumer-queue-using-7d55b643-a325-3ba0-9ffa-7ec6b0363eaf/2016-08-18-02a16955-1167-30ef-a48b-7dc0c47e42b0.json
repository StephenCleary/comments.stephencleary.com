{"_id":"02a16955-1167-30ef-a48b-7dc0c47e42b0","authorName":"Buggy Squashy","authorEmailEncrypted":"r0T26wP99BOdIrDHBxvNtiIhiTToZPiUQmczR87Ld7sggUmckXiMH1Xhun9tmAI7JfmSXCWIeFu3YMBKTKY3Lfx8XbRYXX5u8iQn0fZHcvkEXwgu5po6i/3YsdPokOCj9kc607tlJRe+8wnyua4ecv68S5ifKGXl6I8bK8FoqH4kxz6SwHWcDrDlQkunXQ1j6C+AxkwVu9K69H8D3tJT1Y/ss5lthedlS62ErYXUd/mTBfVoyPaGnQdsN2UX+5MpIz797s4JimP3tcbUOcu5rSghtv/TPBnhubnKY47ITDARH74WMkgG0vMqLO47qm0iKoIPNKNf4wAKwzOEOsVOJyv3NyoeDiiS0ZsYBoVU7nNK76JWCNX/LbZeI2b1qJqW7j2Td6WoFKVM8Ao7SoZGiAbrnNMNVAkTa1hizaVC5IzscgOtzU/Mmor9IX3gr6igcJDmKhMHvAYomjxOvtiO4GX7hUJ3lyxp3Cp6EqngaptbTAH0CkNCuav3h2UgH/JToR8HUWgIGDn/01/YF5i3qlKcfJG5fhZn0ILDA0jD9GuJTE+JngVKM9u+mHFaUQCgwFPRa+gPRrrnRE9/yoiamlY/3mIWFvo5xbMROIEoL9LTEFoAZfdDefT438w5fwwayIwE7YUSp4GH0ETf4W7Zx9p6Bl47B9PgG6KxQom1+rY=","authorEmailMD5":"b13725d59b683df333736b9a404801df","message":"Hi Stephen, regarding the above, I guess a couple of more questions. Thanks so much for your patience, and apologies, I accidentally deleted my top level original post/comment, not sure how to re-insert it. Anyway here are my questions, (9) In the Consume method, right after I get the current item from ReceiveAsync() and am ready to process it, supposing there's segments of this processing code which are blocking, is it better to do move these out to some point so they are executed before I even enter the Produce/Consume cycle (e.g., in your test method before I get in the Produce method call? Is there a way to do this between the Produce and Consume calls? (10) For the CancellationTokenSource corresponding to each item, and other such flags or data structures associated with each item, if I initialize them before the call to Produce, then in the Consume method inside the while loop, if my process on each item received is invoked as an awaitable as: bool ok = await my_process(item), and if I check the boolean \"ok\", before populating the CancellationTokenSource or any other other flag or data structure corresponding to the item, then there shouldn't arise any race conditions, am I correct? I'll plan to test these also myself. Thank you.","postId":"2012_11_async-producerconsumer-queue-using-7d55b643-a325-3ba0-9ffa-7ec6b0363eaf","replyTo":"e1a40902-dfa8-3d2b-a7f0-2081bbc6a956","date":"2016-08-18T14:49:37Z","timestamp":1471531777,"authorUserId":"disqus:buggysquashy"}