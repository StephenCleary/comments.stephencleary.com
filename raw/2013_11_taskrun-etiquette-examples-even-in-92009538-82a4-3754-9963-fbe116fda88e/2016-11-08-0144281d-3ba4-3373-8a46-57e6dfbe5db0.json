{"_id":"0144281d-3ba4-3373-8a46-57e6dfbe5db0","authorName":"UncleBeer","authorEmailEncrypted":"jh8Kz1L3ZfwMzlQl2Sa/CxhHCun9f9/KsBhvq+aqpusApfdtSixRUSImiwHMh2nCTzWTTjkhgA1wccXKMkpIbu7k5p8+W+/g2g1vK0sexDw5+ArTMfP7fsMcpLbvSxNg4LgaAeATekq5o4HyjU+liwPlKeWMWQsB7xUJmLk9aT+zJgBUzB6ug+z6bXL2bOPsP+i+0e7yfXY2TIJuxxM5k8lEAGzfxcYzLCeGukbackqWUhsw/1L205/UeNgzkbKdPIpaiYxp5MBisC/6CmHxp7NC9R/AIyFJ/wG4mo9wbHuLn1KylO5oEqCtVfBsV0VhxfenUFMQAFznKIuAyo5RT0gsBkxyT83s1UZk8miYMIzQdzTurKfDS1CnjwTsDEQJ8Uo85gsK/gkdnC5/r3OiGsbXe6OqHRcG2x/yWCZbbmdVwk/1VKVxkxSTcQ0jSCQJ2XeTkLNnCrvi9nAx7hnUf4JujChlIAzYTfp1QTLWJ9fHyOdUY7Vg2kt1J/cPh2bvtfhApPhNN2jiVpNEwR2TDLziS6qB1oIUlt0oOthcFHQT/We6cwAXOOl2/azPlB6GvZ/8AM62k8KO5ebnmzGejJUhrNZ4F8VjOj5Tcysb950TARFy5YFeAycvkn959AY+GeyRldbGeUctWSMfyXX9EEuiE71NseK0ODTVUubo6Ok=","authorEmailMD5":"0b5fe433afdeb475554873eb12d3c983","authorUri":"","authorUserId":"disqus:disqus_oxBAuCWbiJ","message":"Hi Stephen,   \r\nthanks a lot for your useful article. However, I have some doubts about my implementation, which I copied below. I'm starting from an existing class MyController, which is handling HTTP requests. I tried to make the class asynchronous by wrapping the synchronous code with Task.Run.   \r\nWhat do you think, is the usage of Task.Run in this case correct and am I using it in a proper way at all?   \r\nThanks a lot in advance. :)  \r\nP.S.: Don't know why, the site is adding stuff: 'myresponsedto=\"\" ' should be simply myresponsedto\r\n\r\npublic class MyController  \r\n{  \r\n public virtual async Task<ihttpactionresult> PostAsync([FromBody] MyRequestDto objDto)  \r\n {  \r\n var response = await Task.Run(() =>_myHandler.Execute(objDto));  \r\n return Ok(response);  \r\n }  \r\n}\r\n\r\npublic class MyHandler : IHandler<myrequestdto, myresponsedto=\"\">  \r\n{  \r\n public MyResponseDto Execute(MyRequestDto requestDto)  \r\n {  \r\n MyResponseDto responseDto = Router.Call(requestDto);  \r\n return responseDto;  \r\n }  \r\n}\r\n\r\npublic class Router<myrequestdto, myresponsedto=\"\">  \r\n{  \r\n private System.Net.Http.HttpClient _httpClient;\r\n\r\n public void Initialize()  \r\n {  \r\n _httpClient = new System.Net.Http.HttpClient();  \r\n }\r\n\r\n public MyResponseDto Call(MyRequestDto requestDTO)  \r\n {  \r\n var myResponse = _httpClient.SendAsync(myRequest).Result;  \r\n return Map<myresponsedto>(myResponse);  \r\n }  \r\n}","postId":"2013_11_taskrun-etiquette-examples-even-in-92009538-82a4-3754-9963-fbe116fda88e","replyTo":"","date":"2016-11-08T11:28:22Z","timestamp":1478604502}