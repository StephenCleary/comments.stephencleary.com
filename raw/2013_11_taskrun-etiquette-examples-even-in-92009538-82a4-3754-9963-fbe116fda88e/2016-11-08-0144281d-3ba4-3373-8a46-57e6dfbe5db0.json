{"_id":"0144281d-3ba4-3373-8a46-57e6dfbe5db0","authorName":"UncleBeer","authorEmailEncrypted":"ft3OBrnyGJliK4Ow2eFhyAiKjZRVfHFj0SZsd2I8SGj5ZLunbz1HjyQN5M3oK/mTLQXVRXgm0DNY3eSUQ1HhZJWUdCv32gFIcDiEOck696gVFRZrXKpdzyXFOAeEJpbJvp72KqA0eN+v0QDmn6q+H2332SZkXQDXvCKzXp7dwg+mAYwF9EqiyVpFpiALt3pgW2/PF9GPL1E9bqdirwx5p9RstUpP8qRpz/WnAZoZI43rSikW3kVuG7mqBe8socM136mqrdKQRJJU2cc9Dkp0BbJiVcDnIIQuBnL/+WWYENKzG4peRlyQXx16H+QCRyeu4hg0RiymQTeJDcXX89/QkdglwkMvIeJ48MftTxxJSBafbrCgPpyR1Tyiq02QdxSo7/rckW2dZ5WifClub8nM9Zt/MY1YCD8ZrgoTgyJwjdlDpIaXlmmZrnqNekmmCWQUWph6H1eTumyvfoFu4reXG5faKNSNShR/qNt9aXn9cQRrSyN2EGqeUdUFlh3FGCUBwp87YRPFFFmOHVYvfunWWn5Kl/kNMy89kaeyIkQ60hFMWu1H9eGaS5xbyISdh2C0Grv00EeHJaD8qqh8JAfpAg2Ajldiqe07cZJoXGCio/1e6Qt7OpGScTM/uRVqe93DIH0HWNMcPMLZV4CyiORnV0LNDMOR4oESVXySAdXrrWU=","authorEmailMD5":"0b5fe433afdeb475554873eb12d3c983","message":"Hi Stephen,   \r\nthanks a lot for your useful article. However, I have some doubts about my implementation, which I copied below. I'm starting from an existing class MyController, which is handling HTTP requests. I tried to make the class asynchronous by wrapping the synchronous code with Task.Run.   \r\nWhat do you think, is the usage of Task.Run in this case correct and am I using it in a proper way at all?   \r\nThanks a lot in advance. :)  \r\nP.S.: Don't know why, the site is adding stuff: 'myresponsedto=\"\" ' should be simply myresponsedto\r\n\r\npublic class MyController  \r\n{  \r\n public virtual async Task<ihttpactionresult> PostAsync([FromBody] MyRequestDto objDto)  \r\n {  \r\n var response = await Task.Run(() =>_myHandler.Execute(objDto));  \r\n return Ok(response);  \r\n }  \r\n}\r\n\r\npublic class MyHandler : IHandler<myrequestdto, myresponsedto=\"\">  \r\n{  \r\n public MyResponseDto Execute(MyRequestDto requestDto)  \r\n {  \r\n MyResponseDto responseDto = Router.Call(requestDto);  \r\n return responseDto;  \r\n }  \r\n}\r\n\r\npublic class Router<myrequestdto, myresponsedto=\"\">  \r\n{  \r\n private System.Net.Http.HttpClient _httpClient;\r\n\r\n public void Initialize()  \r\n {  \r\n _httpClient = new System.Net.Http.HttpClient();  \r\n }\r\n\r\n public MyResponseDto Call(MyRequestDto requestDTO)  \r\n {  \r\n var myResponse = _httpClient.SendAsync(myRequest).Result;  \r\n return Map<myresponsedto>(myResponse);  \r\n }  \r\n}","postId":"2013_11_taskrun-etiquette-examples-even-in-92009538-82a4-3754-9963-fbe116fda88e","replyTo":"","date":"2016-11-08T11:28:22Z","timestamp":1478604502,"authorUserId":"disqus:disqus_oxBAuCWbiJ"}