{"_id":"6c1ae3bd-9a68-3cc4-b000-3d4d6a0fc87b","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"","authorUserId":"disqus:stephen_cleary","message":"\"Estimated download time\" needs a content length to calculate the time remaining.  \r\nI assume that \"pause\" and \"resume\" are using range requests.\r\n\r\nIt's not possible to generate a zip on the fly and also support content length and range requests.\r\n\r\nFor content length: the server is generating the zip on the fly. It won't know how large it is until it's done generating the entire zip file. So it can't send the content length as part of the header (the very first part of the HTTP response) unless it generates the entire zip somewhere and *then* sends it. It's not possible to generate the zip on the fly and also send the content length at the beginning.\r\n\r\nFor range requests, it could - in theory - be possible, but you probably wouldn't want to. You could in theory serve a range request (e.g., \"start at byte 1000000\"), but you'd have to re-compress on the server everything up until that point (e.g., throwing away the first 1000000 bytes of the zip) and *then* start writing to the output stream at that point. This would be slow and wasteful.\r\n\r\nIf you must support \"estimated download time\", \"pause\", and \"resume\", then you can't generate a zip on the fly. You'll have to zip it up and save it somewhere zipped, and then just serve that file like a normal file.","postId":"2016_11_streaming-zip-on-aspnet-core-66a49df2-4f92-385b-8999-87a9f3054346","replyTo":"8ddffea6-bf06-3c67-8f89-facc7ecc47c5","date":"2018-05-23T15:13:07Z","timestamp":1527088387}