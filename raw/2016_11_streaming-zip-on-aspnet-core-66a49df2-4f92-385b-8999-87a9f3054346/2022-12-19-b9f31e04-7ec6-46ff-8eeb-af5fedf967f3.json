{"_id":"b9f31e04-7ec6-46ff-8eeb-af5fedf967f3","postId":"2016_11_streaming-zip-on-aspnet-core-66a49df2-4f92-385b-8999-87a9f3054346","postUri":"https://blog.stephencleary.com/2016/11/streaming-zip-on-aspnet-core.html","replyTo":"","authorEmailEncrypted":"Kq6tai9L7MYwbDIaXfssoPI3tY4WVfAE25AOq0fUfKoko40vcH5dP8QDRR7ZsuQh1cxQgLO/f/VqAg0gMn3WsW8Vbsj5TAUgiv9d6UYieL5az8NN8u7CDgIQMnlJaTqO2215n9jw4RSukYsp3mpbdc7jd9qBd3/tHlPqS1gr8VDn\u002BwWvmE9oIiCQOeteplxOa8hbiveRX74EBCVMbzBk4DUycybrCUxiOQvXWGTJH8LXTpX9vEbqVDJfD0REW62Ey/MBUj62TRXfd3r5\u002BfwwiNPVpt6kwPcM/TuwkLTkI\u002BA4rrA1cNRf1i9ZLW6PLH5gSHnbq/5SsKDE6oz34YP1LKeOLrGgAntinTd6RPMdCNXGFe9Xr\u002BXjZsRL98wEauvT/UweHYkwxjxg1QEGdbTjBSwx5awM1qIEW0HnVfF4ifahtVSjUZYe1b0oZK2\u002BhDqvXM8dlZmWnnuklPC4yibGjwPnKL6kpZ7F0zC/OXRYRrD4cPIKltqWPZK\u002B2MEU2sFphvkvFM7kH0Mx\u002BOObjMgtsCfh8P1ggzhYICajNYESiC9eRmoxFH9Z7DdLxth7eRi5BxM8aEhKWCZ3T\u002B6oq63qOV5OSCUZI5mE7iSC2/kFhUG8Twf96NtPgnGUf113T9AFZgglaKmgry584LzZQrwLEADc4Gfn3hT1h40H4v42PSA=","authorEmailMD5":"765809ea8423fc957649c71842f53342","authorName":"Matt","authorUri":"","message":"To anyone trying this behind nginx and experiencing problems with the download not starting until the zip has completed building on the server. Check your nginx config to see if you have [proxy_buffering](http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_buffering) enabled or various proxy_buffering settings turned on. You can either set this to off in the config (**proxy_buffering off**) or have a header in the HTTP response from the endpoint with **\u0022X-Accel-Buffering\u0022:\u0022no\u0022**. Nginx can save to a buffer before passing this down to the client which can cause issues when implementing this behind nginx. Other web servers may have similar configs that cause similar issues.","date":"2022-12-19T14:08:48.1766161Z"}