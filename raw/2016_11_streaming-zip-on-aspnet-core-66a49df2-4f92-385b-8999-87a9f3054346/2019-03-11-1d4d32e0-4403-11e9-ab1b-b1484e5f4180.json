{"_id":"1d4d32e0-4403-11e9-ab1b-b1484e5f4180","postId":"2016_11_streaming-zip-on-aspnet-core-66a49df2-4f92-385b-8999-87a9f3054346","postUri":"https://blog.stephencleary.com/2016/11/streaming-zip-on-aspnet-core.html","replyTo":"4e81f180-43f8-11e9-ab1b-b1484e5f4180","authorEmailEncrypted":"k3mB4vNvOcTG9UXHJeZqxBGCtIAzISggW2BbuuRG0Dydb6i+aAw1QOPvvmbuOiiLaoM+2OSm/qDKAoRCiQEtQqvdQha8iDD68D2li5tvmS9o+HtmL94cRjQ/0St+PmDXBxY6TD59J2YORidmfRzndVk0MhUDmPOM2hnXNSO8BMqu5AeKu4qNUOO5yya7XyM/zSE2najj3FSGocyu2Uzw+lYm6WX/Ssliv0KvXlzJ/bqZ+W9WeNT99STuLWcYi+paHBSF4Yrc0IZ18CK/S0BVENpjS2yxXuZXFx+JDyRT1K8VM+XmQ0BKCY7xnrzg2s85hSLVdNzaWv1fX+10AnsDiiYsixd+DvJDVAr7S5FtsjAYUUrXfrHN1w4Drxt2TXx+Pof0WduaHauGNa/+8MKZP2zqb77e+StRsNSX8741iaAC99ujfEFIqNUOgwTKJtRS7BdcqI1q8cyUy7O0xvPeJkKPEMRW04qBVJoXcXpnjnnlQPYRW8ptc4nRTmgcKZvKZW22Ks1YQHixTAggw0VT36T5NxsFbxgx48Iocj6ujU7Ot0ICfD/ZfM9acI2n8jT4Dpu/CNbnGXcksS5mgXeiteWgeLgYHEceqzJ3b3OQ9nKqFdzmHjxyiZtbmFfTrgHjHia2kATDHy7qSHHGsPvHIpFUGAVr2hlDJiGYfPK+Fsk=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Have you tried this? AFAIK, it's not possible to send the status code after writing to the output stream. The HTTP protocol requires the status code to be sent *before* the response body.\r\n\r\nIn the case of failure, your best option is to just let the exception propagate, which will cause ASP.NET Core to \"clamp shut\" the connection, which clients *should* interpret as a generic error.","date":"2019-03-11T13:39:38.466Z"}