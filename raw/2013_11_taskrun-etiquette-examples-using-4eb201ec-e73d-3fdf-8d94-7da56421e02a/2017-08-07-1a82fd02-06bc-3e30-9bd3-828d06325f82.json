{"_id":"1a82fd02-06bc-3e30-9bd3-828d06325f82","authorName":"Aria Roller","authorEmailEncrypted":"RipfZSn70XTQT0YHUdzkrm4/rIRf113IaOmYpgqEsCwkIVM/JW2rY7zdn9/StXydaTuPFDymbv+r9Cxm+ywpJE0/jXVCQ2jtQEfbA4liIxeNMnwvmG5oA5O9d56R8FP4lflBDzPbacfLFTwqPDeKylfWdjxNsFwo3MwCWmuujp+bnWjwH6dLRA6XjSsDggifEsYxfpLQe30njVwPgEIPfH8ZZfblPwKAT5SrG/wMglpYeaTzl4D9GLb4WLYlgeqtyd8o3uq2BWu4CzVFBzZGP723UPHUiasgvILvTqghyjWIrYR4aMONoRTGD2OzVfzAqSH4buozcQDr/cET/9RgxPbQzR7BJn7K7Gu7nXUU+K6pOD6ZhkVckAqAlHXlEHGV2MqtwxpmdGO/UAbO7MOX2GwIZPymn9HaUEw5e14i+yR2o5sEY4VuiEzs6QD5YG1tu0AcaAdg7zRYUdNQP4ihQ7s34+zBsU10L0yv46y8zkmW0Z4P5A9N5QJ7Gmc24mHnT/Ke+fSqwtsa5rJ+7am/oxiMhrUv3hb7aaW7hZTu+dDdAk4Elgkz7475XqAgxB7cCFFvaCcB+FGE6WK4yem+KhXHB4pnJZljWqtLtDqbEgk9SZToF9n/TunALfNSJ2TJ8rn71zuIgXJWtrN5ODBDtkLtlidzGUrpB/Q4ldbT6ho=","authorEmailMD5":"635f80f6f28bd346fa155fb2f1f053f5","message":"Hello Stephen,\r\n\r\nI know this is an old thread so I'm hoping you still see these comments =)\r\n\r\nI have a question on Task.Run implementation. We have a page that is being loaded synchronously using HTML.Action calls. These are calling sync controller functions which are then calling an async function with .Result. I beleive this should cause a deadlock situation but it doesnt appear to... code below. I'd love to understand what is happening here. My understanding is:\r\n\r\n1. Call to Task.Run gets thread from threadpool  \r\n2. Start execution of MyMethodAsync  \r\n3. When await is called, synchronization thread places a pointer in the Task object being returned to MyMethod()  \r\n4. Control is returned to MyMethod which then blocks the main thread waiting for Task completion  \r\nHere is where I get fuzzy:  \r\n5. Task completes and sync context tells main thread I'm done  \r\n6. Main context is blocked?? and cant run continuation of Task from MyMethodAsync()  \r\n7. Deadlock.... but this doesnt seem to deadlock.\r\n\r\nDoes calling .Result do some sort of thread synchronization behind the scenes? Thanks in advance if you see this!\r\n\r\nWhat am I misunderstanding?\r\n\r\npublic ActionResult MyMethod()  \r\n{  \r\n var item = Task.Run(() => service.MyMethodAsync()).Result;  \r\n ....  \r\n return PartialView(stuff);  \r\n}\r\n\r\npublic Task<t> MyMethodAsync()  \r\n{  \r\n return await SomeOtherAsyncTask();  \r\n}","postId":"2013_11_taskrun-etiquette-examples-using-4eb201ec-e73d-3fdf-8d94-7da56421e02a","replyTo":"","date":"2017-08-07T15:54:32Z","timestamp":1502121272,"authorUserId":"disqus:ariaroller"}