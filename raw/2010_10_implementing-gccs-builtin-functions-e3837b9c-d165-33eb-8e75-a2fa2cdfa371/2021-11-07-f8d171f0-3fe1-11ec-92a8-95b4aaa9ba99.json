{"_id":"f8d171f0-3fe1-11ec-92a8-95b4aaa9ba99","postId":"2010_10_implementing-gccs-builtin-functions-e3837b9c-d165-33eb-8e75-a2fa2cdfa371","postUri":"https://blog.stephencleary.com/2010/10/implementing-gccs-builtin-functions.html","replyTo":"2a9ad470-0720-11eb-8283-ad0ae3d0eae5","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"bodiccea","authorUri":"","message":"From gcc 10 and clang 3, you can use __has_builtin(). Therefore, you may use something like :\r\n<pre>#ifndef __has_builtin\r\n#define __has_builtin(x) 0\r\n#endif\r\n</pre>\r\nAnd later, in the code :\r\n<pre>\r\nint ffsll(long long mask)\r\n{\r\n#if __has_builtin(__builtin_ffsll)\r\n\treturn __builtin_ffsll(mask);\r\n#else\r\n\t[your implementation here>]\r\n#endif\r\n}\r\n</pre>\r\nThe drawback is that you will not use the builtin version for older compilers, but it is better than nothing :-)","date":"2021-11-07T15:47:11.914Z"}