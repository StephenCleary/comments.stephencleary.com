{"_id":"fb5c1dc0-e637-11eb-8a15-2368fa826762","postId":"2020_03_valuetask-b9bb171a-f89c-302e-8f06-64dd691d79fc","postUri":"https://blog.stephencleary.com/2020/03/valuetask.html","replyTo":"7bbe0370-e629-11eb-935e-d73f91f54c03","authorEmailEncrypted":"QwT6flmp4R8TMjU7qRhjwRzE3+JGV5yGClHRI5LnTBH5yycr3AIYlE4haOUd6C3o8IntL7VK92wGNZj1As0oSyTbMylaNaBQxOWCjmSUkXGxtFtprra6/OErkqiVPPOESXSEH0qPhqUUPNmrIixTD49WlpsTbZoo2z2rbZGVABOyJ7YQYrUGY+EjyaJtm1gex2A1WP4JH/A51l6kOmamopCSH9IWwYdF0AeepvsoPPOmYksAk/J/6MgTJRab/Am56Z6uFVD1WRxhHCtVqnGFed4iaMFDKWDZcpDEc9WgtYwaGL3Pt5FGaqT8yeopny5xex2ggZ1dTA/IOc95tK3roaVZl43x5+WYseIJgjmMIlVYJjuytrvoULlKitDQYvw4g5t2vkhfvvcDSeggZ0C6G7sS6gTCRnzeim/IpIBhhwqGbPgfjK7qEi1ND84fBeyXbYH8jyHRjt/YyDDUZuXlCHn4v3eyWsA8/+LLSkn5ZPqztIyjlpXMnWkStSWZlx8Hyx6ThEWSbo2zu+LjbxvvyoBl5Fm58RXZpXFxXkyMPobvhBxeAtJZG4snId2gG3UrXV7fb+seUY2NxdAWB2WVE6hOOivvcjpI9M3XeRwPbjCNmMnoPwstVg9b1phgXcPQDKrlpMAgwXvf24dLY1/EUtVjmR096ujQrOkvwCj6rJs=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"That's a great idea! Ignoring a `ValueTask<T>` *could* result in degraded performance, because `ValueTask<T>` sources are often reused, and the result has to be retrieved before the `ValueTask<T>` source can be reused. It's very likely that in the next version of .NET Core all `ValueTask<T>` instances created by the `async` keyword would be pooled by default.\r\n\r\nIt *might* be possible to avoid the performance degradation by calling `AsTask()` and then discarding the `Task<T>`, but I'll have to look into the code to be sure...","date":"2021-07-16T13:16:08.443Z"}