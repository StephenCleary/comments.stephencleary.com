{"_id":"5d0190e0-2294-11eb-a090-3b27858fcd8f","postId":"2020_03_valuetask-b9bb171a-f89c-302e-8f06-64dd691d79fc","postUri":"https://blog.stephencleary.com/2020/03/valuetask.html","replyTo":"1e983080-1f05-11eb-ace7-4d6445a11c3f","authorEmailEncrypted":"u+UD8mgaoKBf4RBbzAggm4k2CfeL9yVRgQnzbSdqB5sbQcrYmkiDxf69TnzC1GP+n6sSFg1wocDeYS5mbkTz08le9QGt62F0moVYzhZkT1EHE3iTEko8WFaUQJkCuZodbUTkju1wZxA6bFc3AHZcm7vnH9miVnt9zwXmyiOPHwz/yyxqYlD//W69arYiCaeNKVVJcLN/le8nlhuKWFoAXkMiqI6YvW6bun+IZ7a4vxZDwgBd8NJUdQqWaYVvF/p4TAjmk7NW6H6lJbP/Oz/hWH7/Hsl6VIzGamk0pBO1zEt5nRR0McaV8G1HX/u6fsDRUqMNh/ovFV5YZsr4BF6KOR0bSWaLlJ/oJ1dqlNFG5Rsmei13s2xiaO2z7klZUQ4rivWe/T+i2zlX4KxdyOMjv0rfga7JdcDuTtxCza6adqQWVNNF5dl7vc15lERD3m0C/c4tQyYGLg46/td7b9byC1qLjhTru32yrseoS0qzrt5pIpXwwrWBLKSXz7iRffgPO94xQdX2mOOZlKNJuVJGrGwzM03Mz2K1XttR1ioLrrBepxUPB6UsS2BSIJ96C5d9NiHuGLjY5FoJG3pxF0yXxfB0DdKqR1PrzSqthF4LrFNULohR60+/MTK/JTWpWmN0FX3GFBtNPrQzPdEeTeAhRqFRXuZgnMcPRWuReOjPfiE=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I think it is surprising because developers are used to being pretty free with `Task<T>`, and `ValueTask<T>` is a lot more restrictive *while keeping the same API*. I wonder if it would have been better to change the `ValueTask<T>` API to be prefixed with `Dangerous` or something like that. :)\r\n\r\nAs for other pitfalls, the only one that really comes to mind is mutable structs, which can behave oddly when they are a `readonly` field. Many (most?) of the enumerators in the BCL are actually mutable structs.","date":"2020-11-09T14:03:37.810Z"}