{"_id":"43f0e380-b02d-11ec-82e2-516ed88685ae","postId":"2013_04_implicit-async-context-asynclocal-f13467e9-235a-3d80-9d73-143a2fd30bb5","postUri":"https://blog.stephencleary.com/2013/04/implicit-async-context-asynclocal.html","replyTo":"1d6cdab0-aecb-11ec-8467-018cc2850665","authorEmailEncrypted":"QwuqCs1/xACBqwnIWRZ72sOJ5DZckRCPLPPCv+9fAxe6WLnGp9rJT++CCpc9AFjYbxJafelouKEGGE8ZKfYS0PIPTzQlwrfwxS5UojWdexkjmmam422WjcAxg8AzfzE8Y7l46ZtrNZq58D7WzpwT12mnxDyCZykEGFZeu8JYsqEHwaw+XLoF1zBzdE0uHqLmyTpVa1I6VnIyYLUuDslYcE1fyh5skOy0vViLGAQQrZx9qzibgiG/LHRSNv1LI44FB+PfIxhO2gUIJsg7yq6u94Zm10WhdNRFolmTm40Rbcon3lK1JxOAlQlHx38R/kBsES9mn9/yiZ97AgE2bcDrp7aUj+XkoKXhiE+PfJTc8sKfo+nHqYxfTi84Jg+tNo/hsjx1YtikDr+YjnHiB7+j7RM04BpyArOyKYjG0SGrUQTPLfiN2N4mTvWXHDCjtFGSCnQ73w143BawTbEg+22V91oewrhmScmyurP1ciuqJ7hqT6b7gEcDFq8qJ+UxtXZjQWBneLglQFvQzS28TvEN/MsiPNvwXiBkQqH4NMbj+4f41ZiVkOBknwj92G0SPegT3/gESqOnkQNgY+KuktgYq5v8swDJ7VnE0jl7lpcvH6KnOFIdbxicGRkEi8CKUxfUoOwfvxFXLOFy0JllSIg/J3asHOpMr8ptmj7YRKRlX9o=","authorEmailMD5":"73297e3d31d61e97f2dd9e2c1a554f78","authorName":"rioka","authorUri":"","message":"Thanks for your reply.\r\n\r\nStill not sure I understand the difference, so let me be more explicit; looking at something concrete, ie `HttpContextAccessor`\r\n\r\n```csharp\r\npublic class HttpContextAccessor : IHttpContextAccessor\r\n{\r\n    private static readonly AsyncLocal<HttpContextHolder> _httpContextCurrent = new AsyncLocal<HttpContextHolder>();\r\n    /* ... */   \r\n}\r\n```\r\n\r\nWould it be different if the code was changed this way, ie removing `static` from `AsyncLocal<>`\r\n```csharp\r\npublic class HttpContextAccessor : IHttpContextAccessor\r\n{\r\n    /* static removed */\r\n    private readonly AsyncLocal<HttpContextHolder> _httpContextCurrent = new AsyncLocal<HttpContextHolder>();\r\n    /* ... */   \r\n}\r\n```\r\n\r\nThanks","date":"2022-03-30T13:28:20.324Z"}