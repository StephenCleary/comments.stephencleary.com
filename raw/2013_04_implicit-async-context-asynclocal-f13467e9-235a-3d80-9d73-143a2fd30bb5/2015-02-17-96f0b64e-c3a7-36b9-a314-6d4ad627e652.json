{"_id":"96f0b64e-c3a7-36b9-a314-6d4ad627e652","authorName":"Stephen Cleary","authorEmailEncrypted":"OE/w7pPnTeKy6D4K47oNBsgs5FInWPXpEm2vYmwJWDS4KzmUfhBByEocTFYEWzZ2D4hbHiHY4In8FKL9HF7eDyIsVmNeoYcQ5l5QsJd3YGN6j9EZfVU8K1ogSc7lT+hWVgmed4d6Epot0N/o9msCCaYolKVxt4kXF62LLEJjbVo6K4t0dISOg7CTkIcdKjnt84cfmkmTXdNwpAe0jgTDhJ/v6YFG6HtXPbnyrEq7rhu1ed2P6rx+XIBeCo43Eu/St+vpHwoEp4+3ficSMwS/OOT1JhUpMOXJbhi4dL/duBP0d0vyGCKqcHFeghv65zTMgPqFSzbbpwypFDq5MaQhb4ZrQ9CBUBBhJ/WCyj9LwGUR718vGQ0ejHmFLeJnRXT4XNqyR9Q6ugVm70JQCO9o0fX09Uu283PIKqNqWTgA8o4JT+J2x0VHt1X1EVnEVe/OWmpUsiMPWDyu8bbSMM/2cwBJXVp3BVW8YjSxr4JEQkapz1yT7xK6D7mPXBS7ic9qqECIDb8CQqmIsTzJ6jPi0tYkEIKSRbS4w2CYN+J59LlraoCIZVtbmZ0C2mXsG2D0H97uHoOVhGf/B+52jp90qK0JXN4J/6yjiPGM7J17zpLHNVdWBtmqORzD6uCj9+w82IoHHJQWmZgCC5rPdb3G65mDXGidIUGlUxuUOaZ6uHE=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Well, for one thing, this post is a more general approach for \"async-local\" data. It *can* be used as a diagnostic causation-stack, but it can just as easily be used to store other contextual data (i.e., a kind of application-specific HttpContext).\r\n\r\nHowever, I did look into LogicalOperationStack when you commented, and it turns out that it does (correctly) use the logical call context, but it (incorrectly) uses a mutable stack. So it will not operate correctly when your code uses asynchronous concurrency (i.e., Task.WhenAll).","postId":"2013_04_implicit-async-context-asynclocal-f13467e9-235a-3d80-9d73-143a2fd30bb5","replyTo":"51403dc2-c17a-3cd6-8d09-40199c253938","date":"2015-02-17T02:05:27Z","timestamp":1424138727,"authorUserId":"disqus:stephen_cleary"}