{"_id":"3148f625-74e2-37ec-abd0-d04dfdff18ed","authorName":"Riko","authorEmailEncrypted":"RtVu89yDLAE5lnXj/iA9+tHkHZjji3slyukBtss2O19C580vXVOpcqa7kGbDRnDw4JZcnS/jOnIe6hxnKaS7/+pJ/uhlze+l0D3cpnDoFzu1MkSKwyhCd2eZ7n3RHGDilPqitMbgnGzCea4grspUhx91PfJVL3szBOv5Vuvu42reDwqRMUHDv3jvEKqyCxaKAZzxquMUIykuNcTOvyXdPEe6s2gJOTLX1g4IEC9DmTyjzh7HJsoHlxgxDD2eqJdaPqpaYrKmapSIvhXwj+Oxbuwzhkv9xDwpssmz7cmjgW6P12GrM6LGgQw2b8j7w9vNTAeIId91CQl56nFEECEgyRpphSmCDt0xsdMUws8BRFZGgKyfOQouccNpenWb4vqOzGA2rYGs8YrYJQkHsbG2HiKy+kuf+Aw3yZLHPaqq04QUQqIEwgrnLdIUKCwtuZldCfS+bKuPzjtdpkgui+fATW9JlYk9D8TkwwyY0Jiw5SDKegiWXydXe0xjZyF+d7qegQFac6VIVPk66NVG8ttQ8clHSRqG3VAqiooe+5hK8BmpZXHc9y2o7bIxIX4+98smPGU+/RFZY+XxE27PEGa29CZ3pyCMzZyL0QWJhAozIL0qjig6tzeLw57EJl1yqTEd7NdGEk+z7XI13egVWMkEFV2iiT55XOG0+XtXAOnjyMY=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","authorUri":"","authorUserId":"","message":"Hi Stephen\r\n\r\nI am very interested asynchronously. Really want to understand it deeply.  \r\nI have a good understanding of the theory. But the feeling of a huge gap in practice.  \r\nI am very pleased that you, Stephen, deeply versed in this subject, so I have to ask you  \r\nI wrote a test Client / WCF Service, using async/awaits. Here is their code.\r\n\r\n// Client  \r\n class Program  \r\n {  \r\n private static ConcurrentQueue<task> tskList = new ConcurrentQueue<task>();\r\n\r\n private static async Task MyMethod(int i)  \r\n {   \r\n Service1Client client = new Service1Client();  \r\n Console.WriteLine(string.Format(@\"Exec: {0} {1}\", i, DateTime.Now.Second));\r\n\r\n await client.GetDataAsync(i);\r\n\r\n Console.WriteLine(string.Format(@\"Exec Done: {0} {1}\", i, DateTime.Now.Second));  \r\n }\r\n\r\n private static async Task OuterMethod()  \r\n {  \r\n for (int i = 0; i < 100; i++)  \r\n {  \r\n tskList.Enqueue(MyMethod(i));   \r\n }\r\n\r\n for (int i = 0; i < 100; i++)  \r\n {  \r\n Task task;  \r\n tskList.TryDequeue(out task);  \r\n Console.WriteLine(string.Format(@\"TryDeque: {0} {1}\", i, DateTime.Now.Second));  \r\n await task;  \r\n }  \r\n }\r\n\r\n static void Main(string[] args)\r\n\r\n {  \r\n OuterMethod().Wait();  \r\n//Console.WriteLine(\"Done\");   \r\n }  \r\n }\r\n\r\n// Service  \r\npublic class Service1 : IService1  \r\n {  \r\n public async Task<string> GetData(int value)  \r\n {  \r\n await Task.Delay(4500);  \r\n return string.Format(\"You entered: {0}\", value);  \r\n }\r\n\r\n}\r\n\r\nWhen performing, I see that the console displays several tens of messages simultaneously.  \r\nI have an understanding that this code is optimal in terms of async/await (more or less).  \r\nHowever, and this is what I ask, I can not understand how to interpret the data that shows the concurrency visualizer !\r\n\r\nSteven. Can you write an article, video review. How to interpret the data concurrency visualizer on the example of the code (or any other). How to really understand that work is carried out effectively, asynchronously !  \r\nThis example is academic. There is enough theoretical understanding to see that the code actually works asynchronously-effectively.  \r\nAs a practical example, however, need to see that everything is working effectively - not just understand it in theory.\r\n\r\nI think this article would be a wonderful addition to your blog. Explanation of a practical example how to debug multithreaded programs. How to interpret the data supporting tools for deep understanding in practice, multi-threaded programs.\r\n\r\nThanks !\r\n\r\nPS. Google translator works not bad :)","postId":"2015_03_async-console-apps-on-net-coreclr-9bb5cb5b-966c-3f97-ab72-fdc6970a9427","replyTo":"","date":"2015-03-11T18:36:25Z","timestamp":1426098985}