[{"_id":"89e80799-66a9-3b33-b87d-e4065b57b56f","authorName":"Stephen Cleary","authorEmailEncrypted":"BAk8tPtI5wx2VDHkHLLlL63Mc8WPcytQ6lHOVr159ZSsqdIm6Gk4rSqP3b+xf6sfZF9kl8UgrBNFO49P+66RpYAIERzd5yXgdUz7ICFXiCkx0TBQmOGZXh2ivrmVkKsN4E7oR4SNSSZzkAGMCKztYQrYPo8o5Vvnv48TpskdEE01vPk/MTQOWRXV+w/Rt8Oh7M7ewzibnaL661l5/FnKJFQSNX6sqn3e0pRKFOBLmbPJDHQRam4UDCrCz4Z6zRIES4WnEPCEuyaB1i75+bxPhAxg6iLlnRfstLOVZbmz9AZXpN1nb/Iv0hAdVbpVIH/9XE8/0XdaoQ629xabdPR1untyBEDFdvgNhOuaLIWrlykbdMvdtqRo6ND0vUWGlrkadrePSPYYrVl6/KIaIb33Ce3H9C171/oTGvsoT+oCjTvwCtZUZ3Jq5ybTfDh1M6Kbgmv/il0ZD4NtaxWZfX7WrUrnTp/9/jA2Mp2WSwMschxY61oHK+5xwgP//NeeNKhNRa1E0mIRf2AowcSb8EcdoKV8L5+uIRxfWcgbTuNS/FgS0Wn/hItndNG51uTBwkYKL+rBNZmY0YkSBnvFQTt6Ho1ayeAbP/93J4f5HhZYRJBSePbiergr50AhAYJl4R3HJQt3vMhDRjfzAuisvXz4VZYm9QAUjiAeahLj1p8WQvk=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Actually - and this may sound weird - one of the most straightforward ways I debug multithreaded code is to just read it. I don't have a lot of experience using the VS multithreading debugging tools.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"f95bb119-8f39-3544-9674-a59ad3aa2764","date":"2015-05-29T11:43:14Z","timestamp":1432899794,"authorUserId":"disqus:stephen_cleary"},{"_id":"f95bb119-8f39-3544-9674-a59ad3aa2764","authorName":"Riko","authorEmailEncrypted":"kIeK3gKm9a988OWomHpom/DjCdGxUyXLlhRuNBimRK6h+bC9gYaZAsfIhiKSKg1wW2ht8igQAv5oQQHMd/YWyL7KR7H+jzL07SURoUM8LgTyOT3rTt612DbEEWPmueQSZTHsQF5HiRxcqPigbQuOS3EG9rUje2R53o4w5Y9UQDWDWDhbnXJoiZRK4T6p8AfWISrw/oz0OWreir2PEGBCzsxmolevDg0z4H6s4TPGDTNg7/QZbspbt918EAEQVJVvUzlN2OGoRjGVJngGoBKnNi9H41S4vIJiG456Oc5Ym4SGVMWuacUMgRwUEBcMANhDJoSWBOmTAi4NVDEXjH4AlQcI8iVlP4l9qjd2rwLj9GbA9Ft/1HcnBEW80njSM/N3qGiCI+YZ+wRAJhvsTD4gKzOaZg6pbxXPFhnCAOLadQJPrpEQu/+hciD80ojr+iMGwqzBx94k1UnrD3G7cABJHxAA26I693fn8AZNTHkZZNm59veeho2KA/Og3GurtUjQgalEKehb9/GQJL/svdTTQdXQDOVu6iOH70vtDAssfNML+HVq/RvueQcNEIIQm9hbzKiRoalTiMK35foHPafr/QzsYv4ZLpzWFNLQWcSVJJQEazlAlQ3ApWxp+FVx2czc6fBivDUY7gR+dkFWXnScSfhdsybRYKbRTb0vPYb38AU=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Great.\r\n\r\nYet it would be interesting to see your tutorials about debugging real multithreaded code :))","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-05-29T08:39:44Z","timestamp":1432888784,"authorUserId":""},{"_id":"94478134-438f-3b66-9b1f-bc9052572f95","authorName":"Nick Spreitzer","authorEmailEncrypted":"iz+ca0a/xkfUWBuQfNzwdjlj9KxmUR07juc3htE6MaAOP9jAoWfxYaD4ajBlMA1XSyJP8yz+38r9zadOF5JXbv1aHo68r6aGDv+hVgRFEp7hbXHaX4rjVEp8Csk3XBKPUxiqfVMZ79g6JggfaAEOGpUvBrG8MJkZncblZEM1SAiM+KtbOYenuGbRdx6tJaK5NcM0oq56HWv3A+9hNHAyQrwK/zw1aPJ0rrSkmL4AXuCMddmaicM8NK3vA5dJLU7NAy7Iij6UOQIhxhNze3t5QGlvdJL1cdJO+gdkNORgrh51snkfPj5aJ8XPh67fNfi8K6aYQNLxe5h+y+FshwLfFQcar75mcpgs1oInttFtO2rsyNRVPjknkQlm3618De4KWFL2O/DOfXwEO3vxwemN4wBEbixX1sivf2Ll7AMnTuKl2Ms57IzsDfFGgut0/Yya92IB1H/bAAxaJHb2fuOfOB+r+zwL8zRWVUqRCSpc4MAeDJ7zgV0yNaFQG13YtfC+fc0QhrfLZGmoKQbOHdRvJ1YTqdBzfLfpxK/dwJNvdPWaeJqfdNGV99s3xSCl+NF8NfhO8jrTI2W857Cac028C3Jf9qR5a3WiUVgcxyOldMd5f1mZnc52yT743dFPkQ6rmTNFSdWFB3Rig1NDoVgEPcQHBNFqbL2zYqYv9+9F10E=","authorEmailMD5":"54dfd3524f5f00f2d97b5e45863995e3","message":"Glad I'm not alone on that one. lol","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"89e80799-66a9-3b33-b87d-e4065b57b56f","date":"2015-06-30T18:54:15Z","timestamp":1435690455,"authorUserId":"disqus:nickspreitzer"},{"_id":"9001f636-c8bb-3dfa-a7d2-616accf2ef8a","authorName":"Stephen Cleary","authorEmailEncrypted":"rVamhjYe3F95qSEOppN5fdRkBGf37d+G/aPT/DLjCJmxfFxikstEZ1jVCjyNypnpTnh1Kcan6CyOpE+Es8If54dayIvJFe+rmJPOzjolZ2zoaXlrzy+JaHtpVOh3MFwbyKu5XEuZYERJkV1+yEXJ+R3c4qVgmeT0PEAeV82P7UIlE2/7LZ4aTzY1LhgVpomJbH3+vJwgtKNvpbKusvBvRV46Wo3xkMmzE7Z8bnQFnC1iqGkHLnZ0jvk0XKm151LJLm3zikuRjOJwt2ZXfIXpy57j5A207iWfzA8uHm7mdQunrQKyYHUMpE21mefWkgLrYOb8gdS0QcKB4MPm3aIL+WcMBLLwdoswSnIOpU/OFJehgDGojsFzUg3lGOoLwbu75TRTScmd3EcMGiNVjONaEqc7FAxEKEzhlTJ3mjv0fpQ27iBaFVtsGlm8qdTyxgskW1O9KFGm4338H/2D394KDignXey/XcXTl/9oko0uLJbxTN4kS+HfEmVSUTzgJFNWtnvKEf0S9/RFUpeC1pEYL42HolM07Z73J4bKFt7MAh9mIZxHoUvtexGbKDNUcR98pKSBM6DCa/9pde8Onfh60M8QoamD8csT+l+RIQLDbqQNiv2Nr5YopIyCoN0tpMpt098asfX21b3HqTtRKUG7Oe38dRVS10NQ3poQqIB4wN4=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"I have slides and demo code here: [https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing](https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing)\r\n\r\nNo video, unfortunately.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","date":"2015-08-27T20:31:21Z","timestamp":1440707481,"authorUserId":"disqus:stephen_cleary"},{"_id":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","authorName":"Ivan Schwarz","authorEmailEncrypted":"hd/2HnbBv+JiY7HNp3+lqYgY+H+pYzZ20CzvHmH0EgUuSgUA5ROtr+FqQzhBHiyQStuu1rq/W5bTAa0A5MSZ8qDS03ELm7bgXrAB3og2PShDPh/+4QtelDnaHxvujEYRlhKc6vchhYwBjG+QI5h6Iz1ldIxoOb6ZbzQ91s8w+PWwEw9wGWg4zUAC7/8U3YyUezYMrXQNjxHTrex+TlwShgflPqCC1QoKJ9/FY63EB0ukOtG2BxbHRtWD9b9GgIf3fS6wTlEtQZBndcMWk58n1+Pu8MhMm/xvhgg8nhKivKX3US59y4rejyRyQAjZtftB+U03+MhfgmJ9Vw3KzcDailSCm6xlnDR+6tA8Hvlwv1SlFDIoW1eh5RECqzFb7PK3OiyLBov2g75GCiXtC0B+r3bbypzT2JkeIrN6IupEIxNVUyOSDIlTBbOIaQdtN13m42SMakSfxA+JUjs8VNguR7XOJs9iqf+ETFUJxh06JPTgrhKYJI3J+I040NVWkZ/aR4ldbK9jKiffAaglrLj2EAEimVhBmZ4CRbKDYtqp3Y/FxqvMfCFOi83Ydm7lxVJ0Mpfqo1Qu1T7a+xHjpJM9CFPLwjiA768j2uEqslY1PCI4TglcrYL/NBG3sV/k3DqxuqnHbA2WLWz/z058s5HxpBg2d1PW96V9aX6GTHtgrzc=","authorEmailMD5":"14a834a671870a6851a82322d334776c","message":"Hello. First of all thank you for writing this blog. It was my breakthrough to async/await pattern. Is there somewhere a video or other resources available from your Unit Testing Asynchronous Code session? Thanks!","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-08-27T13:54:28Z","timestamp":1440683668,"authorUserId":""},{"_id":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","authorName":"Riko","authorEmailEncrypted":"BV61cL6712J1CZBoSoLQi8hTySQI6lrav86Dn3HGPwnP4oeH5W007HnEEqqgVjRB1na0ns7XikTunts9Ciap6+3t07hOM0ucW+lr83ip4eT2dqo+kIgbcytzYCW/SxUzP6DmINfmy8XteImbZWPxvnCrKK0IvDdxMjcfuMhF1XlnnorWSq6NUZISDy1hhfwC08UkLE2RUdSFmMY/9X5xTzgjXVK7mjYuwNZo3rTU+TdZ/De9o74Cr1td9MoQdP6E/iVVQe7pmK62xsZTnV74/4tHnYGmKeX/fZ070Z1iDUwIgAaEfqVEH/cNkPwLBbtc/mGqY2IkY6bTSITi6xBYVeSXSXkIRPpezdQ4GbDTzWY1yuMz8srh1C89bc6CYZE6SOdSRdqsqCUFfTr6un0aNKgg1wyp7E0Us11n7rCA9xlqmzmtL6xcPN1JWdygYZk7yovGU7SZRXBbDlYfv+OuYdUpdKhEmW6hXVYwDD7PsNykguQbFWTp0wujQ+2o+tDdeM7gLOu4Nc7+P/IBPZKMRigZF8SuPOLWFkomqwGqaFqKkdAV7LNVT4xtcKxtA57lbaxgY8NZLZI3GR52bmxsgRFVke+hNYk0wzNzjjkhzSmdCkLci85DMtLw/PB5CmctI5m5t4Deht1C2dDBkwpatXiFyHaXqAtdx3aI1iiw0Qg=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Stephe, where have you gone ? We are missing the interesting articles.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-09-30T14:23:58Z","timestamp":1443623038,"authorUserId":""},{"_id":"8655c842-4dcc-3459-8f40-6531124eac26","authorName":"Stephen Cleary","authorEmailEncrypted":"RoioeotA+6jwRv+XzYqpRh9YiBaj5XSnouMoHWKoT8x1lS2eiRXkqG7W37NHT6dVnnN5frKnP+gKXFrjTRy+lmEcyasoEosJTwnbPgI2f4KOtQItCIX+sb5Zbio/8lNqPLJ8Kf7kHJwfpW4R1rrFmT4gipCAuR7a8kTR5SNWTpDl2p0qpBk5mtvzqqfge+qjf1g84t6Y4hKZiAyc2GjI0tE9INy51mfPEGejdn0kR3cInJMM3nnYeSTIaMTqbH3H90l5z/yul1PtXiG15OY+et3z9XFRTep3E7ALGFDDOQ+GXiMBuMsNir4+iAZnKXuO6PlbKTEbPnV6ZbDui3KjODzPdp9QBbvgjzhYCUEqsIu4OG1E78pOIqIO7JaaqSPSPUcBaLcKEHk1g1xzHtQ12J+qV+5xCzSRffRZcrneKThv86zl/HbrNanfnfJqgUzLrhkKeFnsGn6whfREGFVsaF+jxSSJYQOJCcqd8dYSZj4bymeDfOWX6WgHLGHHLB9jtRrTbomrO0tiAvrjcs/Kv0gnoJfJk5/KWQ1sLKc/UPkFou7ZtwLewMKO50a4n9ItX4eQEAXOfizRg4xYA6VW4f2GBj8FttO0OFCG+C+lX2tEJeMut0OKe6t2p4m1Rs2sFWIBDSlxEVhYuGCYKnuvdPFdX8OSKmdpN/8mYN4i4Os=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"I'm still here - just very busy these days...","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","date":"2015-09-30T17:57:04Z","timestamp":1443635824,"authorUserId":"disqus:stephen_cleary"},{"_id":"28dd192e-b919-329d-b6a3-99a32d0933ce","authorName":"Stephen Cleary","authorEmailEncrypted":"pi4XTX5Ch3GZGZPoGqOJQgNqOT/DNr1K4iC+texrneZzPqUIq+Gh0etCbkKPVB+1LtZvrCEeETPisqHQQmlPWhg9m1oFPL0usv+yfZ9spl6YNBz1ZmHerfq32Qu+xHuxhPVlKjn03pNgWroVDoMnuzGZQzy4E5SctgJC0xK2KZehpZidtEkUTKSFonYThKNM6Vh9GRWd5VATf6CZIc35qzKJEh3Keze/d2rKn6McRc73obp27vkSnWomx+W2m8FsZ83wmctcQd6MeV3tbbo2ACLjZxJNoOu3ZqiAvYyLKyuIBTG8uyXGvVpVFLe4+8BwOoRa7cLW+wLQQ5zYLfX6OB290JHVaQej8htkoySHxI8S6F9saOXz3XZI2e65IisDJY1Zz1wX8HIHfGhd4kN5v59CMv1o5k7QBY49EffjQtLRtn394tvWipo8/WUQIJBRVXCCmr7e6PT5L9fDgImoiToPwqB+7G4XgrWLHjWE3eSorpbu22N6GveqMQLyH1LH9tueAyMS0ScPoLME3waXLKShBRuJFN5hh026/t7JwQj5cTI/rV1XQouGj7wh0ze/CpiKzcrQT/58htRKEK/4C7ZIo5/LVtDDmJNDW/Dwq31hywPhkwdfdWkIhdy1bMrmejapif/M2ywNEIwFxNV7VjkH5Phqaslr9Et593owwUg=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"It's very difficult to work on code in blog comments. I recommend you post on a site like Stack Overflow and then send me a link to your question.\r\n\r\nIn general, you should:  \r\n- Replace all ContinueWith calls with await.  \r\n- Not block on asynchronous code (i.e., use Task.WhenAll instead of Task.WaitAll).  \r\n- For console apps, have a single point in Main where you do wait; it's common to structure this as \"MainAsync().Wait()\" where MainAsync is the asynchronous equivalent of Main.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"e2471932-0168-331c-92ff-f02b14a1aa76","date":"2015-10-06T13:20:04Z","timestamp":1444137604,"authorUserId":"disqus:stephen_cleary"},{"_id":"e2471932-0168-331c-92ff-f02b14a1aa76","authorName":"Riko","authorEmailEncrypted":"OlpbnbL5XsmI1cDOo2ZVVBWXXZxFrnQ9kBb4cvmg5JoymwB973en6zbrCZVlIzKDGEsIcBOJxKdaS5PT3xA4WhlB0ZALKWyNCHu8UN7iNq9pHIkXHwB6zl2cJKqAkLENFeO0DPRlRs5aKDG+0xFrcCvOwSkV8MILIiY7FKqY+DHZk2nkTywF7tKlsLVV0FRLuNkRGG4h8HwC3I8o04mCg+QBq5gOm0zrCZU+C9ftJo57N8cVIt3AFdgCHp9TlTe3ndZyIDuKEn0LSGM28EXrWx3r/zNKF8ANqn0HIOUyllRkPk0XVPoqIUGJA20J6DaO7gMWLQkccpatDnbTh2GNiLjUikEtqBWAlhiskCKmqIeQfXRax6eraf8Fs4+sau03mJQX6E9hk7w5Nyti4Kr9Q29On8UNqieU92bDEmwdJ/CpfYU/rDOG76SxE0I2zch4FK+e4hP2pE1/FFTgYPRNmQvw1a8zgn2Qz0q0U1CQpqS4QStQcXgvn3jeGN4F/QovMvOiRM8OSXzYEssQaBjigp3PCDNRrwsiz4FI8ZQOZMJBMAmlGhbBLZ/T3mE6P8UpvJ7BqC5vkw6XDENoYTr8LrFEtF2m3VAzBe9nw3iPq6Rz4dwT+gDtttrjupKjKAKauVRUEh0IOAROT6pl4bF21DlsRrTHiBVY+QolA7G/F6I=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Hi Sthephen.\r\n\r\nCan you, please, help with Console project ?\r\n\r\nI have a few questions. And can you help make this code better (especially the part about working with the console).\r\n\r\nHere is the code:\r\n\r\nstatic void Main(string[] args)\r\n\r\n {\r\n\r\n CancellationTokenSource mycts = new CancellationTokenSource();\r\n\r\n var task1 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n var task2 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n // I do not know how to do better with Console !\r\n\r\n var consoleTask = Task.Factory.StartNew((cts) =>\r\n\r\n {\r\n\r\n Console.WriteLine(\"Press Enter to exit\");\r\n\r\n Console.ReadLine();\r\n\r\n }, mycts)\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n// We are waiting for the Completion or Exception  \r\n Task.WaitAny(task1, task2, consoleTask);\r\n\r\n // We are waiting for the completion of workflow  \r\n Task.WaitAll(task1, task2);\r\n\r\n // WHY this task is not Faulted ?  \r\n if (task1.IsFaulted || task2.IsFaulted)\r\n\r\n {\r\n\r\n //log\r\n\r\n }\r\n\r\n //Exit  \r\n }","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-10-06T09:06:14Z","timestamp":1444122374,"authorUserId":""},{"_id":"e81892c9-bb16-3917-88aa-0cc4eb03d468","authorName":"Riko","authorEmailEncrypted":"YQ78QtF5MU42+/fPdmwAtX+hhqMSAWRO9Lp+QnrnlbAQ3Bcqw4AMpkSKhGdk3XOEhCL1YxveH2Y6p6g9PS3M1vw6IbCjDv9qWCIiOjWDfHry3EKKlJ1/P3hlkf11ju9Z5Rqa+GqEZB4g/5lBbyal7TsFeIQo/vg2/NKHSRCD8LKbRtxD+Lfz4NLLC/e9GseUram/Q/yOmiyf6vQ5U7gMKy7dR8PHzNu6NFALB1YyyUSMTDs/zyAjY897tAiBCrzc9VT1gdHzoSSmMtnc/6v5dVOfFeWd5AEH4mFcCZIoo6YQmGapyzhKro4+Xc2fXNngXP9hLxdyayGGgtDoZVom96t1p+m+wbN0d0NZVJLb5nY7iBqh8PUpaszTPGWaQRnmXaViDKrj4El20GZ6uRNXsWOo3v2H3ZXJzC1HAogV1AG+YuYAX5YvHJOWcOX5GL5zr3OopJszJImqGJyZXAXGex+0hpnlC4SubulaNbxWjZEajl68GvuZ+6bauyhGwS//v/vM2MMov5o5DC6QBEC0DfG+YJ7zhrmQuEfakoYa6wVDmmGDuZ9UT40Jk8a6mb1v8C7NWsX2/dzz6mM/hqK2o7lWGRVEe09t62w2wZhHQEO8v5kYRSVtDU+l5ACh8CEvXY+f8rRmZZiZnMjzi0UInjdLWwnvpE96mMq5Itas7pQ=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Ok, here the link :)  \r\n[http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling](http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling)","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"28dd192e-b919-329d-b6a3-99a32d0933ce","date":"2015-10-06T14:04:16Z","timestamp":1444140256,"authorUserId":""}]