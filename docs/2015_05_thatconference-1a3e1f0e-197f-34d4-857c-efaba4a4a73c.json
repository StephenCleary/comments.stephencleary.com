[{"_id":"89e80799-66a9-3b33-b87d-e4065b57b56f","authorName":"Stephen Cleary","authorEmailEncrypted":"nNkBGSBUO2esS6cwM/+q4QK1Mx+TzbeRDt4IaeBV55f+JofhKtAMBaclkxrvVwOoY/3cYsGg7xOm849basred50xbH7wUVO3RLWe538w4FgaMxU0IUOHR7ornYwXuPY5IJVKoGrp1EYJrBS+rRHU0DkIWOyElwDIUQsGTf30nPrBjxpyVmrVibVU9dOl29WGfbVmPXYj/oD8E2tNofVfZ8T27TqNCHhWLxkzMu/YxitXxMgjLd3scDBGM0tD/nORurVbuobp+WcQdX42NQ/CZOdBHNl1xukrpCLPCLZfxHyxVuf4XVGb+Fs1ZIUj3d8jkL/aCqzyvyzDOwOtrP2YODQPa/R3CgDdL0h1+2TInhiT4Ygp0j7bi5OLny826jr4t+rwIJg9JpuqFjq6CQNvpkruBIHD67QVvBqwlc1q4AiY6CaMt4sOO5nYXeTIYhp2qprLg+druezdw9iJ3PnRWOm6sEIT22PT5rXoL3JC5NwBxyvdjSrrC6R7iWvm8PSOabfocqPYGL2LmDPVJMw1izFbExNfZPHoY8aJm3bxgDz8gUCs0yNXJx1c6SkegEnM/XmD79AnyaogUf+uHILm2xmmvk8T1w0GnqT9MTSgOhtdiALxxR3TK9iGfZ470Gh2nGN1gydgXAfPQcC+mZi5eNwchor6JRrjE9xu3ZrlnRg=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"Actually - and this may sound weird - one of the most straightforward ways I debug multithreaded code is to just read it. I don't have a lot of experience using the VS multithreading debugging tools.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"f95bb119-8f39-3544-9674-a59ad3aa2764","date":"2015-05-29T11:43:14Z","timestamp":1432899794,"authorUserId":"disqus:stephen_cleary"},{"_id":"f95bb119-8f39-3544-9674-a59ad3aa2764","authorName":"Riko","authorEmailEncrypted":"YCBuh/v6NoWF0Az4F6hmcXuMAaSYCsrryNh/gqNpx8GW1i45zW+PoZqq/c8nwjIXJZf3k3ApLT8tMixE7+IzbAp1dCRrDVjc/hIwEQ5hz/2+SY3n5ayBq+QnMrXwGkdfIniQJ63QKudKDTUvuhyj3oUewxDACxLnXmNSej9hScDgRX3KVtnaQTX3tkvTlZ3DbUUezCmfibr1Xzt9+xuoQK3DOVJxzQKD32m3tOjctgyC7QHJVMC1x2ztbcIs9wLeoxxaPbqHLbhK4VRouW/G74l9NQJXQ9uolm72vzOiOp48JjiNZ9peoS+9bXKxf+eF1L+NmoFsbSsHdnoBjuiQC3iriQorNBAph7bAKQjln0+Bt18ymKbAndNL4ieVX7JXDwphqShZ1LLJR1CK1ng77xuZEAzy4qJ3wtyQZUGh1qjfntzQZFuSgGh3cmuQvUgaaJvTsnflJNEJ3yQwa8kuXDB/uTQyAV4eRYDMbBZNQLMQPRo9N/783H/edN1fdTyD2CaTBCA9CiCG+g0DbfS5uvxJoZa0xSkDxpLbADMjCHNk0ljAGypWVeujShEQ6RXCkiqm20wlKk7QVrj+Vlv99Os4FyzugOGWfBkLzgm4y8Ngyrhv2pQlDYnNdtFTvd9dEbVSrkteJ2I/sHC/iSa/znxblb0o8wUUweQQjiCBBDw=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Great.\r\n\r\nYet it would be interesting to see your tutorials about debugging real multithreaded code :))","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-05-29T08:39:44Z","timestamp":1432888784,"authorUserId":""},{"_id":"94478134-438f-3b66-9b1f-bc9052572f95","authorName":"Nick Spreitzer","authorEmailEncrypted":"dVCQ8asjFsz+ENLHL8pNHYXuIQbLJne3UMsVudodCLLAHjalTWEoM5rZy+OX6WHP1Bt1Unr+F8YijDycrnW1g6UjlXPjyyr5q50rC+BJEt3PPxbmHs6ykxxzUk0o4Dq7u8RfC88bmwc/xRtRxfjxPeogy17QeJvpBm6m+M9EtCBSulF3sXseofNiHfA2dr7gwTgXPWTVjsrDeWjL+FVHnCE4VcwgxbhZZ2PRKvJBfaINq+bW9X+sv6im+wVbjJhQ678qjSvOuR5R0Wp5cgwctF36XmwYXFaQrTAJddYEbSG6slw9meQH7jm2ze7eU2kjQbnlJjWSkrKWhTmPDMHkhMvs3ni060E8FU2HhATjZKB4icko94wkzprZGkb8bVAYo229LOuKBT1quVvn2Jm/0sM7e8ZaoktWbMu8EuPOGYU+bafpDtbU/dKWo9FhwU60iRaEe5tEZup1EMLc5aBWRhFniUsx62XBWs21NFJ+xLV4TMgGzR4lqa6fRipnbRFGWN/PnO2/VwRD2G81btf9ifiqtlhs6EYCE30u5JQnFBw+n0TWjgq+lVYma/OwxsaQnmdHpMdY3zC6ZmZrQve08khooTZuwqRcGapTui+IEded2taH+GI/IwtEw8oyOOB7YVj4q1GtaLvOS5CKqWjcbS31l9ONHLaOTnj+acaX6/w=","authorEmailMD5":"54dfd3524f5f00f2d97b5e45863995e3","message":"Glad I'm not alone on that one. lol","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"89e80799-66a9-3b33-b87d-e4065b57b56f","date":"2015-06-30T18:54:15Z","timestamp":1435690455,"authorUserId":"disqus:nickspreitzer"},{"_id":"9001f636-c8bb-3dfa-a7d2-616accf2ef8a","authorName":"Stephen Cleary","authorEmailEncrypted":"R/r0CSGHV2jbFHfgVfRvUMfUYnm8y9FyOohIH8RnjK+4UQUopiBM3kda+InJBrjd+NWX68XX7+YMgKATkyhoQZ7eo5JpD0duxMsB+Gj7VHAIgYJUNKCGv1Wo/1eDLXqzrByq+npvP5nzmZR6MYVnByiWlBK4yaS6BLGuhZOWkQeIBeyjYDIpehbC1Ff5kd8KTTM5JRGcJP5eAxdRs4S0fIxbp1XN7MMLBRdsdOk/4ZsB1K9PCHRVUfD40z4WHF59CSuobtE7RHqK3spQnELrMrop2FHO0V/PoAUKFjyMv5LAbhqbtA6RUz+EfXlbvqcyOeXzS+xBPkT4LPr/vvaenkv+Mb0AsVWGXuPtou/IM+Yw+1zWIDiNP7gY4fXELoUz3g2qZzXQw0X72/1Q7HJfOmXj1csVcDyMjvZjZo1sBZOYJnmMLI4ftyNMFwbQXK99203NgHZoQI/4IkbxSsfcTem5f9GQ+urZ5vm65r0GA1OUhZ2HRgqcVKmpDT/ZEDxYXcV7aygpt10L/PGoHTK9cPQoRNinqEwGIpugY5v2l9GBqjHH3LyP22OL5kre12CfjhJb1duA0xsUhK9jp+OHmrbfvT1p/w87B/BiL+5JdZ0KT3iAx6jYwx6lJCWvWQx6R9mAmFCgrGQNCOXc9ZvgebucbQ3cP+Tner191oaI7T0=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"I have slides and demo code here: [https://github.com/StephenC...](https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing \"https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing\")\r\n\r\nNo video, unfortunately.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","date":"2015-08-27T20:31:21Z","timestamp":1440707481,"authorUserId":"disqus:stephen_cleary"},{"_id":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","authorName":"Ivan Schwarz","authorEmailEncrypted":"fKpq9g5PfTFBVmfLRW7MYXm5fFdoPKzSx0ZGo3f2TaxZ0ggpocsajIOiXy5NToZJS6L3299Ql/fIQRG8ebWWKAcWNwQPHXgy9ETkKkTozDlku3hcb7ZlDWMg0VOhbHZn521AeUUo6vgWDA+fzPre6IB9GB5+gkFA9e7fBBLS+l6pcg4S2TUiMC8asBDhcH6lsADtIg6IbUMkuunG9Xx+uY4nq3iiVC1J3EMtMHsLqK7RLriW5SI+9e5MSXbMmzV541HlW7thdE77QeLb4sUdOAlYFrTB3pKiYd6TMURZJ2bT5JppoImrosN8ySS7QZqwDTcUaI6ZvGHDRRvxz2Tz7urfT9A87x/h8Zui+nmEKew9/3on28CkKYkqBtIIUJk8Hm7JviyjJYsYdybjhsBw+iLlKido9zrjodcDP0esKEx2e+m+BlIRUGSD1zl+Hv/bh1vx8ckPFlXRK3yT1kOuNvXfdXP0QB+fGmLDYFZHwVI8LkaC7wXbS5kpSrShTxIzQjeh6aZOotx2RmIC3/7aBUi3iwRE9rjSa8EyK6nBsU5Wg4RrMRIQZj/oAGGm+ov5CStXAT5ppXN7+kaQbkQ+CkX/k2JHOlN9JEIRdMQ9URN2aB0+M5ok0yApRWGGd37LD/1D6j33MKE5gnZqHAhf5qPuaOljb/EaG/lHnHj4QlI=","authorEmailMD5":"14a834a671870a6851a82322d334776c","message":"Hello. First of all thank you for writing this blog. It was my breakthrough to async/await pattern. Is there somewhere a video or other resources available from your Unit Testing Asynchronous Code session? Thanks!","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-08-27T13:54:28Z","timestamp":1440683668,"authorUserId":""},{"_id":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","authorName":"Riko","authorEmailEncrypted":"PdQ6CNjwnJmzwZR73Xuga3a26jH61rgj4Hj3dykhORCYiHRPuiaia2LRQMk/xzswr5ytCIDGoAT2wHuKHVl5XfNryvr9g3UqNoYGCrZxNsIGtviUwdriZKFp8UY7J1MlukAOjMAGOr03y1NPrda6emvSur5hxNci082+RHopwu/aEoXaOGQHUosm66zDvN9NX4pcJw0dsPlryOlai5OU3zIkj3Q9ArxMhWnmAz5SDYW7G+26RLDVkEnrTs6UnF88ln0M0rOYn4YVcVzPmhPwjNI1b1UK+agGCI6bXtb0nmAS4FXcTQyIrwfp0js5keJXaLeBDSlrvlpImq8zH8uJ77jSKdxN52+rEuIoRMlk15eiwUdgLhc/yHsQB8jshHxmm3yff7ItTdahFrgj187CKSa7on7V9IqrdVYWBiAlvaNJ1oftJgL1PSIsp7LcSZ6V6CCCIUlGAfDEZKayvvm4nTv4tPSkwAFtLxyx1/7v5c0t4ouKa/DBS4wk9St4Oci33D1EfNmf0cQyUn8hFPBa9YcZzcRLdxD8eXsQpbn1UWGct4lZ+bhdqaaR+ZFgFJlG5FUyxG1CEa7F8V+7V5r9E56Dgbs7vAL1q1+zS0MV1s4m3JZi09cnE84lAaTeZzth2nSiyZ2Ew++Z9ICLijcxeVUgNyYnq6dhcJd37e18KlQ=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Stephe, where have you gone ? We are missing the interesting articles.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-09-30T14:23:58Z","timestamp":1443623038,"authorUserId":""},{"_id":"8655c842-4dcc-3459-8f40-6531124eac26","authorName":"Stephen Cleary","authorEmailEncrypted":"mXxi24uBjiIjdy3Mh/jHNOrmgJUvuN4U5exEi/wOY80IOlyOxXOBi1wnrrxaIge9/8qijsOoTXS9fRnDkmdvyWu5g95AHf9ipjwSku9IzPzimy5ZSEz1DH4yXuhBPpC0FwxzuB2i4wSsE357jww8p0hf7lbbErVuRZeHD6s50X5h2esdAhdXBI5cum345yOHX/qg5DF5xzpXmN+yXRFivD0gqSb6H+zWJfo356rn+EGTnWBaOjqpOTJK1dI9yYVrkx6JeN2dWKid0PKDvv/uepefXta2ja2I37TXdVjHnetwtUpJ9gq2yv+wpUkDWXp8jh/ys1/mJ6nI1ywnAQ7I9hPvvDSLijZ6qKvzD9xiCDVhfuocRBLvU1gcax7Iwt1HQfM/Mu/4ggAQBsTcBVrdoE9+zaLhSXMKwFu9gVpNjvsmWwnN112kOlI1V3GNoDOHgX3c8wLtqIaaNYsBJrjGuuwrXHRYGaxsnezFaINXhfmtnot/pd7HA/i2A/tad5D656mdYjokWeKgEugjDpUWa4CjNIjM1mMEMxhEGURoJwpfEiTdOlMqz4pcr5HmM4H8hsUOrkSEMjHp/iAHoeRBGhONNydKRw03Iq15XPBV30QHX33FlJZGFANZwwoF/vXrqE58kw/YD9LFuYKqHGBGGTZ9qYhVjlCf3zKqguFan48=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"I'm still here - just very busy these days...","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","date":"2015-09-30T17:57:04Z","timestamp":1443635824,"authorUserId":"disqus:stephen_cleary"},{"_id":"28dd192e-b919-329d-b6a3-99a32d0933ce","authorName":"Stephen Cleary","authorEmailEncrypted":"s2jF7rPRF5aMM+cddqsAB7o8LBo8Vob7TXMpd2BVwMVLfaTS7mbi8YsMfas6JiI5lpVJaCSaXZgGuDoVc/zQSlliGlHgQ1bUi/UNfo+AeWwuoBpbl1Gvqx/nP44k1MC+8vE5BgBwDBHcst/y3TECSIIgbGr8S6CForda6XW1HfDGUn9S/AS3diKe3LHh7qJESXfz/QcZtxQHlI4PgT6RQgkYpirmRZBau5720i0x3fX5brw4Sxhk1ff0vME2ajCFsTqZLehSSJUhT9i5HqVEntW7tGwPhYcTzfYSXZwsgdVYDxSUqLr4TCDXS7Ggm3DJwYnmbw5i7xJ5v9K6Jaqf8/8l0D//oNG67/zRaJvzMq9VHNRxqAtK3AOC1BZurS3/SrHmGW4LNXtkH/KvtXEFeZtT0jxsarXQIOh5mQKz7HuSgOkdsmIa5kAjsDgh6YSd6BiewTJuViG7wHBPqR5MhgjymIn0RQsYUwaNodE8pWepW33yW68OFE7NmYmMs2lNcIv/bIjr/1AdsM3RgV6fpUfdqOerl0x3/08wwxoBIy2ttF+NARVWSFhrSVD6kheKXGOYpIRBKAjUiao7cz5ERfqQCX49/uETAELePFMXNUM3D80Ont2JARvE8gPtfJFDzDgL/zk9ZFnfdzz9efCzOWZ5zkc5pAp/FfR2gnbvHOI=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"It's very difficult to work on code in blog comments. I recommend you post on a site like Stack Overflow and then send me a link to your question.\r\n\r\nIn general, you should:  \r\n- Replace all ContinueWith calls with await.  \r\n- Not block on asynchronous code (i.e., use Task.WhenAll instead of Task.WaitAll).  \r\n- For console apps, have a single point in Main where you do wait; it's common to structure this as \"MainAsync().Wait()\" where MainAsync is the asynchronous equivalent of Main.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"e2471932-0168-331c-92ff-f02b14a1aa76","date":"2015-10-06T13:20:04Z","timestamp":1444137604,"authorUserId":"disqus:stephen_cleary"},{"_id":"e2471932-0168-331c-92ff-f02b14a1aa76","authorName":"Riko","authorEmailEncrypted":"jY32Mhv7d9a1a23Wd84UwUjy6fstpNxoFcb7ywklQBQ7o8QCWp4QNmjUtbUNrTNIQO8NVWFlTYf2tpzh/oQpGgQ+MeNHsyOqXLzC0FYTqJArWDhjf9FbQc493Z+HsTZZENc+v/2z03KrRCD5omzt8RHNIEBRwoDUIrkt2ZGeQcPlmCrr+XUgNz0vsaq0GHp+Pvo2P05rXlF1d6FwNRNxHXwnecKu6IEegq2RTgVNpn/tHa52ggHeWRtejpWt20mjbc5tLtJM4o9sRr6ycVtBvx53of2fZgXGvPpSkLrh29ewOt1KFTIBqlKFdk3UqIR1V324IhnUsSe9P/oTgCotsQ89HNrySUVkPThBK14vQ3OleG3kmQMwGdQ6lvHd2jZwxc3L+OliMOuN+895xxrUoSKvHbC07BFVSJsLxaaKAlS6okOvudQmNghHpFg3QlZm2IfqQ6CdxIM0rsqeR1llI7EC3zJgALlj/iJEzhJMWzLy+ydkqi/SpcZNTv8b4gw6YR6TUi37aXawTbJDYDLzmb0ykpeo+5tigmMBoveFzSW2xxeq3WOuSZt1diTshOASV9T89cQYjiNDCQAYKeoqI7p533b8Mcc9W/f274L0o8kgVMHqPVde1SmB5eiFVUqVSt1mzs2CnbGyKEBFaozLl/umxrF4eZK/5RU28oGGM1w=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Hi Sthephen.\r\n\r\nCan you, please, help with Console project ?\r\n\r\nI have a few questions. And can you help make this code better (especially the part about working with the console).\r\n\r\nHere is the code:\r\n\r\nstatic void Main(string[] args)\r\n\r\n {\r\n\r\n CancellationTokenSource mycts = new CancellationTokenSource();\r\n\r\n var task1 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n var task2 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n // I do not know how to do better with Console !\r\n\r\n var consoleTask = Task.Factory.StartNew((cts) =>\r\n\r\n {\r\n\r\n Console.WriteLine(\"Press Enter to exit\");\r\n\r\n Console.ReadLine();\r\n\r\n }, mycts)\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n// We are waiting for the Completion or Exception  \r\n Task.WaitAny(task1, task2, consoleTask);\r\n\r\n // We are waiting for the completion of workflow  \r\n Task.WaitAll(task1, task2);\r\n\r\n // WHY this task is not Faulted ?  \r\n if (task1.IsFaulted || task2.IsFaulted)\r\n\r\n {\r\n\r\n //log\r\n\r\n }\r\n\r\n //Exit  \r\n }","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-10-06T09:06:14Z","timestamp":1444122374,"authorUserId":""},{"_id":"e81892c9-bb16-3917-88aa-0cc4eb03d468","authorName":"Riko","authorEmailEncrypted":"N7UPMa8J0MxRgY7ho5Z8IWoxLsqma7yoEoQnPu25cGIDV3FmK/in9k+qG5/aAzm6q5g4Y+NE+UQ3I4XO2dE0bv2eyiblwtNAdMOad/GT0gLNFIqMY5Q+NLsFSLGxbe0C0NQf5hauDuXTaOqSowjVngBad/UNN8jBmBFoFoeeGR0vCKPdE2tXl7DwLd0PTraTgbXwKwR/7Wl/gMqpMv9NGnHI/YoG3rGcz253oxHUEcq93pSbIqM5JOrbh6lm9X65xKs1sd7izo1UwCeUkoogT43e0yebWKq0BvCyIjPosAvPCvIkzcewGj72aXi/JCXI+ijILQLXHz2uqpEmWM3enFukWA3BjeQBwE+FrKnCbLvt0+cEJ6ERouZefvt0iw4Evm6vLQx+SLNZz3pJWw6Nb1S3SSN1M+5UxZaySh3sPGr0/lzNPGjO84PSqil6LZCJJSzHS+5fKnNKGOwyK1ScwH0qWY5bHPDtCwDQjMg6bFCMA8CGCI3KrfxFitOP6Y/sLoNYsWWkoTCL+gPhQl99nSpYrt3w6wCayyejuFmsxdt2eNhh70oAWlFaLDEat8bFCgk6gSd0RvLepXb9rEKNuA+5Pzwn8HHEQmZIIq8GQWOxa4QUP8jl7Cf5k16kuUirpcUubvLkGeCq5xqWfTjoAR6Xv+ymKRSJvtJsnfLehFE=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Ok, here the link :)  \r\n[http://stackoverflow.com/qu...](http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling \"http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling\")","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"28dd192e-b919-329d-b6a3-99a32d0933ce","date":"2015-10-06T14:04:16Z","timestamp":1444140256,"authorUserId":""}]