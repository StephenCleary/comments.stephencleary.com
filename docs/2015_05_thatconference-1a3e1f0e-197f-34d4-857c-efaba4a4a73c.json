[{"_id":"89e80799-66a9-3b33-b87d-e4065b57b56f","authorName":"Stephen Cleary","authorEmailEncrypted":"Bg98QAmymjYR0J1W9UNRLKqcvQtiLtjEpw7ATpdFnpKioAn8qWUWTGBIfWMRT4xzCCTkrzys0YhD3yXlrEhbFIHIDrpS9eFz0zL8xFHZsASfFwGTiSbP0QMT0Gmfd/MZTTbrzWHCdxwkMMGXhVwO2+Uo0wi5aIhA3DcirGkoIaE3JXu1x18YRXqdmC2Oz6ulzYfPiUA1ir8WL/JOsecijG2nBAyvwxfea2EX1ZjMJ9b9oZfniO3niJSfAg75gPLufM9KR9IffpBdjd9jyaoWBiZSwA11X6BGKhqJSnDgTKpDJ1CQGewpUh/a1jOBrTzcjiMo8IGAtJR2CUZSWjqgWSJbwmXXJQE9nDNaa8HquKcYEb0Gh11YRjvCloOS+Wq2CIQGYUO5mG4vtOR4HaLjfmzFRaDIP0iA/8a/ary598LaE7R4cUgIRBaPLjd4V5S3eXuRRTQ4be8AwVt1AnFTi+wjm8PPOx6XsisEvXsAY/3LSqd0GSeY4YzSVtmUwGVpggeWeWzeldbbL+rldfVd5lFCxUoasYp/DU7KWjjsEmlxwGRRIOz0iGioTE2hMYsJFS99ypQLATIfbGqdLKkWRlTUP25IfUNnf5JOf1D4zOTAVa+uY7vBlfl6NqEWmyftSQ288HmKFIzepfj0eMxGR3UyDAJOeWTy8Kq4SbiSyRA=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Actually - and this may sound weird - one of the most straightforward ways I debug multithreaded code is to just read it. I don't have a lot of experience using the VS multithreading debugging tools.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"f95bb119-8f39-3544-9674-a59ad3aa2764","date":"2015-05-29T11:43:14Z","timestamp":1432899794,"authorUserId":"disqus:stephen_cleary"},{"_id":"f95bb119-8f39-3544-9674-a59ad3aa2764","authorName":"Riko","authorEmailEncrypted":"fi7YktNlHmpUiNQSBD/vdnmGzL5rHO2EiO15Pdadwsgw6KMhmYShWFD6EF7SQ2v1ooOe/yZsmPz1c4FRkZkz20iYUVUl4fFLGrD3gStGVKUsimp1tmtPAzVm07gPlfI2mRmuRKHVo6HLjYhJ5KlFMcOwvDIet8hE5aZCnYnOs5J1OJ9hsKqHZJtVJ1/2vZ/5GIXSlTWDspTciHD93eYJmfsaVBWF9t3vNgitmrap9o6Coyb3v0JluCA75cGDXoCktVyc7z6xMvcyR5xrGxEamvFxo1VuISqGLQDbWQ4JbnNQM3aoTi0F7A64CFOQHWnmoS1KqzivD8vjjbX/dVRRCQyuhoqXrFfdEzrXLhAgZrZvYdkTaKDYYlKBx5p8QEuWMlZq06ngriA9ZWUuj3uiXfb8ng19meJP5EIr5ASrC8cNvfQYUO9w/X2wnAO5aMKxI2wg8+EKpRZyw5MBF6LM5MDqlPOZr9GeR34W00ceYVEwW3erOB7SDVxXWIVLKGSKM52huQt+2FGvXJOiia4JEAqgWONsR1dtAAM4UA2DPNXXVgGmDj86WQrAOf2qSjx+wC/4V9uSOfxyGTQvC6CGPL9UEB8JnwvpmGwp302srb7DjV6+uOv03M3uWv/RziXhka2bO5qBkgE5ssVHCVtgDd/jTIdpacoqdXunzCGa8Bw=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Great.\r\n\r\nYet it would be interesting to see your tutorials about debugging real multithreaded code :))","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-05-29T08:39:44Z","timestamp":1432888784,"authorUserId":""},{"_id":"94478134-438f-3b66-9b1f-bc9052572f95","authorName":"Nick Spreitzer","authorEmailEncrypted":"ns3wFbJ/JVoh0QNyfYlxXY3llLfyeS3MR2mQp590hD+zA0sYiLhfk2tq29AAv25Ic+zecgg3XfEM9nN6n9foDzzKvTje/H4m5bW4mr28TK1X8aQDQT67oLPj2M31y4qCf1KrS5FhuCTk7iTdVR3jGTZJpsNJLKflyynCKgiAaqs4BhC12YENxiX9+p+CO/RrjWZm2qxh0wgf/if+1OY0xqoXzveGJZvhbTXatwsBtPWY65zFDywINPIQdV/fUqVdAzVNuS49sGVU9TJHMiWkeYnXtFzA9WfZjP5kXj/rwXucCHmKsmLQmgEOlykNO0LUKtPi/5ZXCN/JBSAp1gVkE5j8jwu0ZvVOcPlQ8TRw3UKft492gTjA+up6d0Nr24s+InXJioIQkPmu5eREn+9wNrKZ3SLGp0N0xRAvYN3tHwLoZVe5vjkesfqvtz5v653H5SSDSjUwTz1ebU4E3KDKXFvHlBm73SFqiVp/KRlBGrVWPjutD26H4p5qa8wvYczyBhID9UHwTvpJzXJGGu6xCbr6PVmCXz5MUX5BXXtXji29imvLcfFLBi776/MVQBtv9Lsq7OX2wJRH4i00SXVYzz1lEJiX/TVFfDJ9qpei1wHVGXlV5CeDKIMvWhMsA1gbNWlxJwbWYGFDEiG61BqPdT4ovP/XnGOLcf/FQDk9yA8=","authorEmailMD5":"54dfd3524f5f00f2d97b5e45863995e3","message":"Glad I'm not alone on that one. lol","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"89e80799-66a9-3b33-b87d-e4065b57b56f","date":"2015-06-30T18:54:15Z","timestamp":1435690455,"authorUserId":"disqus:nickspreitzer"},{"_id":"9001f636-c8bb-3dfa-a7d2-616accf2ef8a","authorName":"Stephen Cleary","authorEmailEncrypted":"wpB9+4nEPP5PR9ow700V9p5B/WdvhAW5dPDSBGSHgqtOg5tMuhodrj5B2biKMtnPj16FnFl0x8/cP1DIOcXMlGKrDqj38zNl8rK80UbHb1sXAGXEyUtwPwFZKjv/Pd1LJdRHIswb6Mhcvk1pYbtPt05Rym9Br8r1KUSPpfANdrgAr62Jg/LJe8IYNP7voHfWKAxKMR69kz7WqX6C9AFaj48OQY1r+8pp8alCdwPizvI3jXi5H/PH2k0z6LrUHGojlkZAcRWBG8ukaeERWmVYK8nwsle0EtSSftfssM8FqiY4/b9Cie4lNnJ17c2fPOqBggndP7yN4zEmwyeJxplMy+wfbTImvzbOcKhbfqEK65bZI1FueN3teDH7a4m5VxMbKAle/Jh29K7x7CV/Xo3CUSRp1p0Uwnu/zoUZY9iWup6z4X8jYrVkQx8wySLiJNqt1aPXcfmBP6sgTSpgPx0YDBefQsle3kQ4qlSZYAU16foHy1NpQVv62rpIe2Y81eG8p7pxAJgKJ5HsMQNoGtqSXxiSHpTSdThuJ7zXOZTL9YMyJmxqQ3qn2jqvO7l0vkKRGi5XXvSbULkHsSVfXOdeUoo1otavnGZihw4/guaHDU/w23pNwH0vFccF4EieyGTr7vDlMOmK74fV2r4jvAk99Ujll0tjIRzRES+4v3scEP8=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"I have slides and demo code here: [https://github.com/StephenC...](https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing \"https://github.com/StephenCleary/Presentations/tree/ba85a29179091e86743ba0f45c01a1d93fb43f4b/Async%20Unit%20Testing\")\r\n\r\nNo video, unfortunately.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","date":"2015-08-27T20:31:21Z","timestamp":1440707481,"authorUserId":"disqus:stephen_cleary"},{"_id":"a61cb7c3-76a0-35a7-8975-9a013365fd6b","authorName":"Ivan Schwarz","authorEmailEncrypted":"L2jvwKZvKUQFRqhMTnkDFjnbb9ivTyzRle1m7QQAjQA4DIxi3CmuRWwuMQIsCgudCDHwvwgD6xQ+gz6Sa/ZeCpWjcRzg6RGCuzH8gCzRs/3ScoljU2gH4Y/i6k2zUoLLJjHnhxXUjF5/wD4ucM/jq7uffKl1cb567pWZbzLJPVZb7MhAfi68Qqs9iUFc0sFQOxk+UR0De3qfBK6HqS+sxLAotdEy1gbb7Y9hlHkZIPs7H2a9KmUQ7NDdxSgF6ue4N9ZA/7Gx2fdnHwK1QTLRwO9r6J581/f8eINd8mTkvHsIn7H2/rx37jub+fOIzfoAwIhuxDAaOgmRBrOKeh6SxUNsmnesq+Bn36PeqA3S++y7hSJAPsvDv0TxBd54H2D1LEFWhS7LrOpoAIItuudO3Uj2GWilB+hb9ciidHNrx+HtteZbwkUPlKSlachG2gnwdIwHQb0/aaXibEQgWpGTJZSJnssER+dIKBPqhjZyXXdj21nRSWV9GedEPoa8BAPEnPjMA3qGHlrXutjz0dMjyOhItcvdVOSp5laHIbmQBm99+7t2cPitTcgSMxyiVDtQ33T3Ps3d/DgaVpmn1blHwWEW/Jjs4S/k5xpjtNGylt7X+GBFnAWUIxCEGv7EiAc2AwFW/2FbnQyvzQS6hIjRyIgs19mYDDb+vr7mzFwRwqc=","authorEmailMD5":"14a834a671870a6851a82322d334776c","message":"Hello. First of all thank you for writing this blog. It was my breakthrough to async/await pattern. Is there somewhere a video or other resources available from your Unit Testing Asynchronous Code session? Thanks!","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-08-27T13:54:28Z","timestamp":1440683668,"authorUserId":""},{"_id":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","authorName":"Riko","authorEmailEncrypted":"QeFB9ZyTqwpIvRrbjJ2q5TgTF3pNbmJrV0+IZyyNKG0qmW5D2EijIV0deJ4QNH+cFaRRFapX5MqM9g413PaBaOPpnX0oTLd2T/VbSf3stzRRqtURBz2ND8qEQMmMn+fImZ1hqxNsV7/tmdOxLLtuCaaSheT7nNKqHj6ecsoELB1l5UtohfvkoLylq0XEln/h13U0MPf5tzgYY14UIZQn/fHrC4QmIzvY3PiR42CwAfHuzl6pKEUj4ANrJyO2R3WWyh1sx2ciYUQGpfTxQA3A3bxcPPtis5N6RYPeDKLrhAUm9MaLEml8HRojexGkboB9wMHavKLgkCmYxoPABKwCN4i9uwQfpwO8bAJwmCV0khuU5D0FI/3pD67LjNHUVRFxndh5QC67vuEMkZgv7yN7ozSUUxSmdTncpicJ6meumtadK6nYNHf6fHtffEP2gQk+g/SaHXpOODJzWfdIjEGubaQkop4TmATf14oUf82IoY0mxY8ijNq/LGeTMtDa32F7rfDKdu10gtD/drn35nxO8ueDOREvOUlMjhtnOgPL5dJKhPHLK0qH5gwQTRjj7z2fJ420vX4lKhRl/TMMOTusgj+8z9AsrpzIqBfeXy8x+DRxEbRqCUazZH5XT5Jb7ZMcC3UC+uKINo9yKFd2BHuCDu9wOqT5ozC3xu63KTcnpLA=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Stephe, where have you gone ? We are missing the interesting articles.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-09-30T14:23:58Z","timestamp":1443623038,"authorUserId":""},{"_id":"8655c842-4dcc-3459-8f40-6531124eac26","authorName":"Stephen Cleary","authorEmailEncrypted":"ZIT5Km0advbccbr7gaZoDy7Kw6BIvso9FTXrIvXAHAHDOyxnbm8TB/ejv4ZyFuHuCOJVAJhiiHZ0dU/ZqSpHjr2U9paIXhmg0hk4uMlapsntllmXLbxAoQxFW6gpNFkVuY9A2+HL6IS1xa/flRu6GtBahQRsmzQ2cZ9GUXGah7WtRgeZnzPRhAo6NOwDpJd2MS1V14/tt2Ie0oO9jc37xEbOkZ1n/Y7ZA3U8x/554GEE1Nj21471/e+8BLbKRVNaFOhmHIIvDnq+N2jrHRXaqnnriQR7svl6Rpv+oS/HNQ0Dg+6NQL+EUGxeWSTVKvCZCUEBBdlxyouX3pxlldEaP7XfH4d00Qysz/RMLCct8732S7YnCMtoXTgg510VGuTMCJMYQcU1jBnXUv21nYAugD6kw0TS4EYpWTyYqMc7Qhk5x4zvi637JqR3lDN+gxiU+roOrG3pmvVJZwNDeAam1vJ1UctpOtuqGfmOYVozDNR7zC7BbBXK+LQzMlG37o2vh2bGl+PvhmJN2b/vTRW7KDgLOnHIHg4dH5PdvoROTNGPI1sBNwQ4C0AVh/+u1p52nfOC5/J4jXiOavM/L2BNSd5Jm7lCWvm7/SxqUwNmKEAOZWD8LG3JGB0jLEL5RfRSK31lUun6io8wHzWxS5rQrWFoHFpLWAU0L59KnboFtQA=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"I'm still here - just very busy these days...","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"380ac7ec-fca8-3b94-bfb0-ba4f4c4704ac","date":"2015-09-30T17:57:04Z","timestamp":1443635824,"authorUserId":"disqus:stephen_cleary"},{"_id":"28dd192e-b919-329d-b6a3-99a32d0933ce","authorName":"Stephen Cleary","authorEmailEncrypted":"vgKrjy4iQfv3oCkEfE4nfy8+N4ZA85UOeqylyB1Jrrl5zPi/pMR3hjsCLdNUyc6j2MEbObnkKoFZXZKZ15lJwtb2TQeMVDQFcOi1l6XgMNoEfysjuGqgJ/B+W6ZLrkTMFq1gED9/hrNWatVONMqKgXzawKfizp/fyovLW3bbVwXcvINgku46rB6CAN1y5jZOHiNmotohqk7hj7/tP0Fq49bukuNr+by5RtOWCfop8awRIMQo1Yhq+PzZzd0XiUAkChjEfBuHuelZWAlLyvjMACMPSBy3lcReUYo2b43pqI6f62hnRWlPcUoj5rElegz+Bn27SpiRDfXZBIwSSj0+PN1OXl4EuM3K+3en6po/8h5XwSvdP61dSPemzh5AXkg1zx/9ZZu7bN7zt4S0yOOvlAXN0aaZYClxstg1X++x9JU5JSISX/iG9NjqcccgbtFlxcwY7NuE+9YSHAl+uVT7OwQMCG7hW0xl2ucosVn5SFeXbj6CoqrWf0jdGSRsKcwd4l2QOIikBcS7Dk+OkBSk1y5xNZe7dCCJ7AnoRpFW/0RenxwxNrS7OgOKg87jb4UHwxOof913MW50OzeHBM7Rhw4jAhNfIqp3KPKiqNpB/m2RWlLmxYAbeZvx8Cm66pqsoP+VMmuUBrVyoMIKVrxl+8fdesc1s3BuwwajuEQ7rso=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"It's very difficult to work on code in blog comments. I recommend you post on a site like Stack Overflow and then send me a link to your question.\r\n\r\nIn general, you should:  \r\n- Replace all ContinueWith calls with await.  \r\n- Not block on asynchronous code (i.e., use Task.WhenAll instead of Task.WaitAll).  \r\n- For console apps, have a single point in Main where you do wait; it's common to structure this as \"MainAsync().Wait()\" where MainAsync is the asynchronous equivalent of Main.","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"e2471932-0168-331c-92ff-f02b14a1aa76","date":"2015-10-06T13:20:04Z","timestamp":1444137604,"authorUserId":"disqus:stephen_cleary"},{"_id":"e2471932-0168-331c-92ff-f02b14a1aa76","authorName":"Riko","authorEmailEncrypted":"lZmLG9Tx+xOwqYUtFaH5G4t0HVTvIqihrLpnPAVy/A8xz8spamQTfjNSHQ6Q1JJR1WFulWYkkeW+yJu838FsuVeC6801VuZrxZBcPUgSuVntQZxGNaCygnD2lncvGKL7fAHJ/dcrVX36UAQGcNXPhkbQhXRKfSFgWdckXsVkTWZ3+974AENWj2yDz/BqRtEt7IYt+53piKh1ZXIR12i0Wexi8vTMbEmTfhe3ZNmjbgCDJkU4UsEqQ0oQwbar1QPhEvBMdej9OCWBYOoSTkWMpTRKoetVaiSdrkOlOWl37HunNe7oKm70pLOEJZgKYKU3YmJQc8ybU7Aokg3HlPLaZ0Z+Ne1EcXYIIgzgsonxeIXy+TzQA2qHfIkdCuWaShfKOmjN0NKD0oeWLY2UCceXHmjoCQ8bm+FIpjQoGsWQnybEr94KH7YKJGOvHIAsRSj7ONRuMG9ieBulMJkA9VPjOLMWlTfDDvRWozj0Mo74oxIVbDWFawZQjYIemsiHGhXqvxD+wwZLz5/r6R2ixOA/G6Au+B9PJ8q6mSKHKlh0cY+RdHc3xoK+ovTLgou5bSC0wT5xQ76Ant+DqxEOy+YMCf73tE6ncyxBhILanzw2B15hyRh+svaJVXzfaM331W1NGtrk9dBU+Oj6hwu5WHn3SR8Fh0Q530l42Bh1u7exFJo=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Hi Sthephen.\r\n\r\nCan you, please, help with Console project ?\r\n\r\nI have a few questions. And can you help make this code better (especially the part about working with the console).\r\n\r\nHere is the code:\r\n\r\nstatic void Main(string[] args)\r\n\r\n {\r\n\r\n CancellationTokenSource mycts = new CancellationTokenSource();\r\n\r\n var task1 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n var task2 = Task.Run(() =>\r\n\r\n {\r\n\r\n // doing some work, that can throw exception\r\n\r\n Thread.Sleep(1000);\r\n\r\n // how to avoid closuring ?\r\n\r\n mycts.Token.ThrowIfCancellationRequested();\r\n\r\n throw new InvalidOperationException(\"test\");\r\n\r\n }\r\n\r\n )\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n // I do not know how to do better with Console !\r\n\r\n var consoleTask = Task.Factory.StartNew((cts) =>\r\n\r\n {\r\n\r\n Console.WriteLine(\"Press Enter to exit\");\r\n\r\n Console.ReadLine();\r\n\r\n }, mycts)\r\n\r\n .ContinueWith((_) => mycts.Cancel()); // need caching for this task ?\r\n\r\n// We are waiting for the Completion or Exception  \r\n Task.WaitAny(task1, task2, consoleTask);\r\n\r\n // We are waiting for the completion of workflow  \r\n Task.WaitAll(task1, task2);\r\n\r\n // WHY this task is not Faulted ?  \r\n if (task1.IsFaulted || task2.IsFaulted)\r\n\r\n {\r\n\r\n //log\r\n\r\n }\r\n\r\n //Exit  \r\n }","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"","date":"2015-10-06T09:06:14Z","timestamp":1444122374,"authorUserId":""},{"_id":"e81892c9-bb16-3917-88aa-0cc4eb03d468","authorName":"Riko","authorEmailEncrypted":"Bl3KCwipqMrYI6EX8R1kd2/gFVrzf2JWlYmoaL62oZXNWn9H5WCbqx/yRzRdlciMrF15lhFzi1ZuZSmvnoWfJVURUeLvUlc/JzpP3Un6Sp1bhE7kQlhtyq8pvpJlfFLzO+RF4g2rT1TnVKh3JxP0CNSdIxW3KuepODgw7fr2QFtIBkQTenlW1ocMEbEKSM+DK156INuVSYOBhKykpjY7BmOAdPTm6mr/mzwq4DrA8iNMTekdqGIHrM8YOnK9gl4MmsEHs3jyZpcPedtAWoJhTSOG7MSRAeiPEky0fRpmu0sAzMoGkvBj1DD9iDxWYVmN3f5SYZ8j3fZS/+eQLwHL4RJW+cCzRRnPG904XBRYbwiHkEf/JIPJAwPAfLOlmM6vIZvHMg0uXMqeqqYqOawxKoTijgYxgn4kn7+XMeSKVa3Uk6eGArPmsbfX8JJ6F6nKC4eS2RFAZIPRhoF1ok+SUbeOxbOAF24jWMiCpTpQbYIicB2mY9NwGaqE7zl3GCnroKdlSqaKrMzEYqO7OiHMTErQ3GYUD/mrALz8fNyC3k0TJEPveoz0S077WUh6ycoVCjSsKCnSsxtu18fVbZ5z1ve9/DXCUzMqGlwq+palM9WUifNGh9u1Np0sMjMm2lLUUDVOpN0iiXdguUKGJRxpGItfAIYJPAZgjCxwXsfwSvc=","authorEmailMD5":"c1b99fc51717f507f13d0e2297a64fdc","message":"Ok, here the link :)  \r\n[http://stackoverflow.com/qu...](http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling \"http://stackoverflow.com/questions/32972028/asyncronous-console-with-task-controlling\")","postId":"2015_05_thatconference-1a3e1f0e-197f-34d4-857c-efaba4a4a73c","replyTo":"28dd192e-b919-329d-b6a3-99a32d0933ce","date":"2015-10-06T14:04:16Z","timestamp":1444140256,"authorUserId":""}]