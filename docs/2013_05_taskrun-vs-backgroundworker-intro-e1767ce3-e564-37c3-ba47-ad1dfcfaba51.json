[{"_id":"3d80af96-1548-3bdd-af96-a8bd2681683c","authorName":"Anonymous","authorEmailEncrypted":"s58UdtZw2/p7Uc0SImvxvLuOZJGobgFVNGNEWIzEYAEwakdqhggoTcOe+kx4vRggiKgpqyk3XADbeuSDa1lKK2J2poiRLUOpx+7FeKA98ZphA2TwVGPHg0umJJhaJOB6piwfN/zWRzTJnyjLbsxeF01x9OApWOC5yJDlpv/Xd0UMTimMN9On1SF0/lCg/5vIsdhAyPx7j5LOMVaiL4Hb/GjmedlNtPWJvczETv/05idhyMpExM55AqMhu91S//vzDjnnGZin9eiirEVWPAqbkPaJOlpxrPs4w7oJ18M+WePsyIlR2mK2bLlWh+d1Cl0t9fx55JPHiZI2LmGOUfoK09we7TBRzyCn2OgnV9942WtlZ5W85coLv5ede3HfOxQcWH4OLTPW5gOvBsYBp4wjSXSaDpT6kp1drkrg1o9qtSXFawyj1fODCBQZJpfyquGGz8mss/uucjxzDt1SdbWdDtsG19jwfZGfwVR7LKLDvXtM+7O4A8pOakvTVVju6rdZARhcoC5PwWxSk9TiSBNnu7mgpV4aGOl4DWSt8JZ5okS45LyF0a1O3WZAesizWKmWafuvRXDjZrtNTCXMx2Gk7CEs4jUdAjBDFBb4UkUiqIleLGWOFUDA/nkznOPDAoec2t6zj53Tf08BQNxGM9vSZsb2MJlwt1yulrkd6qiQh2g=","authorEmailMD5":"3cb42db01b5edab948a576e1bf94a281","message":"first link is bad","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"","date":"2013-05-03T23:22:55Z","timestamp":1367623375,"authorUserId":""},{"_id":"6ed613e1-af62-3961-9277-230ac5eaba42","authorName":"Stephen Cleary","authorEmailEncrypted":"r5N46uVJbMVSyk1ecmxJ2g+kUDcJd/0/cRtl/e9WU72VM6itx2vvn+gtrcJsYi0TeOtPuGz/Db9JtzojteBrdDmXOTVEdhvxHnGXZihy3GDkYNBSdanFpn9SLVd9qfJcoJhBBenJYgmO2amzKfdG48hAcikimlq7ehPITfwS1EveIaqH4CpBqPw2F6nMPO5vA6l0UuAqrIv83ni1qABYXpLOD28caIBN3WzTTsU9dCKtvzk1MdWfe3qM5pYuw+s55/gd4fyLWTbMAclSxXWIKmIZv+SZoAhfJ37RV3spPVwz5GO5mGCb+qoOxGH19yWq+TMe3QKVAVsS2YULvsyJphgBPsdXivbopPbcFG50yrUW8PWEVhXXlESYGA4t8Ahlq59w4HWmlstXi/K+w7gECA/ARWG7+4DXgvsqU97i2QmL4RZwVEdNka2xzE3QSL5K5Jl0/CP1gutTSy2OKoFrCrCIxoB/t7jIPGIEQ24tNRxThbx+TiGiBDxaiUn10wVgHc0Iqz24VXRGSZlElPW7vXs5g6iL0YgceUabnXMAzUxGXdoDTxjugyByM1CH8g3Tc9TTN6YswcHw1O5v9cmHP+dMFy9DJidc7THNmIqRuR5NBZhuIaQINa5cMKYZaHLYoMnyc2W3CkUYGueJivbYxCBUAwyiOBca4xTVfNjZGr0=","authorEmailMD5":"36e44ea0274d8207eb632c566e60ecc7","message":"Thanks, fixed!","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"","date":"2013-05-04T01:58:57Z","timestamp":1367632737,"authorUserId":""},{"_id":"a18c0153-26fc-3d80-97ba-0cfd969789e0","authorName":"Jedidja Bourgeois","authorEmailEncrypted":"obaEuWZftdVp7t3LD9NBzhusrnEtkCbkRgSJaGM97kKkkfiq6aa0MrIa5dAG9djzJqkQSsOEBZFAADxFmg2erM+PBfX3MhFSrSTjm2OyVEk4GT0E4BUhPEQwVuNaeo1i6nwkOrQpMo+FswFnLzq6HGF/cQytavgfo3oHMWxfX2hMg+Tp9a812Psy8FvrqGNGNokzVijw30tJbzY4W5S8igBSWTRgbDyE5VGCYzGTLq/ebjHkr24Iwhmpmt7OHWdRoFUU+16Gq5z6oSiIwBuQHdpg1sGGjJiNWwK91XRE7UlEuY+l1PHQY3g3G6hPssSiwyT/p/xC86UcIpkgDtUJfNsVVwtJryK39GEhnVQbZ9WW0GRUGABMS6mG8JhoikF5oRNBC3M1ZblK029R3WzJgj4OITUWw7zTvNiu0Rda6R9TJSlWVtJ62/RS8Xf8xHXkT/kFOZTs9Jr1E8iszEprNTcPB+mwZuOm3c05oqqpbuSogWsRZWLYjWAA5AXjvbBK0qSsFpDt0NG28B0P/aUms17dz0LKy9Al1sFW6wLJILE7pjF3Ai8VSX3eIdJfXGJsmq/vdnnzeSgqIAZ43f8BMJN5+nATEDolTJabaMljbEcSwhaQ2imWFr5hJqCW8QJd17Ob7irDRSUu9N1eCSxxgINtMIzSJKEQ1ofsbYLYXu4=","authorEmailMD5":"a1504cfa978e0f99b67548a4d5ba28d2","message":"Heya,\r\n\r\nThanks for this series of posts! You have a couple comments about (almost) never using BackgroundWorker (although you do mnention it might be ok in synchronous work)\r\n\r\nI'm wondering if I might be in an instance where using BackgroundWorker does make sense. This is for a Windows Phone 8.1 SL app.\r\n\r\n1. (async) Get a list of images\r\n\r\n2. (async) Download the first thumbnail\r\n\r\n3. Fire off a background thread to download the high-quality version of the first image (granted, the downloading and storing are async methods, but it's ok for this thread to block by using .Result)\r\n\r\n4. (async) Download all the other thumbnails\r\n\r\nIn this case, if I use await Task.Run() in step 3, the requests in step 4 won't start until after step 3 finishes. However, calling RunWorkerAsync allows the containing method to continue and grab the other thumbnails while the large image downloads.\r\n\r\nDoes this make sense, or am I missing something about how Task.Run works?\r\n\r\nMany thanks,\r\n\r\nJedidja","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"","date":"2014-09-22T15:12:55Z","timestamp":1411398775,"authorUserId":"disqus:jedidja_bourgeois"},{"_id":"10bb7b1d-3380-3927-899d-663e573374d7","authorName":"Stephen Cleary","authorEmailEncrypted":"PRdsiIhfn7GODt8yOHddSSgZUvmWtf5GnbS4OO9XSHb+UqwjAa6UJb7WE+qxqTC9khblWz+M7kCrF4I0YbAVw3ELL24PyIu1+5EVnF1bvOrDhuHEVGiGMH64PSJzWxvMZTUIsRTxoVlKbVqM5ENgM6yy1chxmzQ6gK7X74ARHlkZ/+YbZsluHS/07cYz65/Eb0KFGRcAlbeuRJbL5l0eldd6dPLXFpahUZQmVRWatOPvtya3oCt9dUGwNmlJUEuGtQn9VBWQgwpKR1nzHJJdpC8T7jJnS3Qi7408HCeE6jgdVIw3sttukJ3BrLb8a0vPVh5IWAE/8/myc4GyPr6nS3CB6CrgVnXd5dNsCJ6td8DRo1Eqqe7xtdi5X064nDa8NFBkqxisJmP7xKLztsci5PWz4DCgeB1yepy+e8s7OzhjBX3qbQPjsG2exUGO/T8/en3hknTtcHXDL7HnNGg6G4WnY1gOAEGs30OKidkD6T8hzit9PEKxTCijXloukkYthAyjYjIpFRHc5co2t2AeKEP08KoS03+h+UnviD8H3c2yvwqKkWLmBpeTw9bfzoAlDGT+vTYGBZhNfrhMA9BuvvDgWNzzqFkMzc0PGph+xulIXD9++AlOEeK5AKM8HrWyjFiL/KKV4NCOBokxq5NWY1WxoNv5iJkhzsVx5V/vFiQ=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"First, from this description, there's nothing CPU-bound that the code is doing. So there should be a straightforward way to do this without BGW or Task.Run at all.\r\n\r\nIn general, you can start an async operation by just calling the method and not doing an await right away; instead, just save the Task in a variable and await it later (possibly using Task.WhenAll or Task.WhenAny).\r\n\r\nThat same strategy can be used with Task.Run, but again it sounds like there would be a better solution without Task.Run or BGW at all.","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"a18c0153-26fc-3d80-97ba-0cfd969789e0","date":"2014-09-24T00:46:32Z","timestamp":1411519592,"authorUserId":"disqus:stephen_cleary"},{"_id":"e02655d2-a327-3802-b13c-735ab86773ab","authorName":"Jedidja Bourgeois","authorEmailEncrypted":"lBgdStjRmdDgrAmgYItENOEi4QNZUSdSe0ZegrfIlMi9UhuHoez8ZdtmwzMpWr7qQAEWcdwg/jljl01a8TwFl5kyQXoaEHIbHhqV0g/u/r5oGqILmPXMwIo8G08F2EJejDSg8fRtHfzCh/oaQkKO51ELnWd70vKl0AGM0hAjpvCYfuizNhtuE9kIj2k3gbNYhrEqCOzZY+VzEzi3PMCXFUnDg+ekwQlHrUTJlnyfebKCp+dReCJI2q2DrF9H1abxKWUIERYKG27dmaxPKYqx2BdPARPVZCzbpwvmVb0Vv73wEFu98E5fJG7cmdPNy1ImbBOoykaW0qZOYsxBMlYTC9hg0EHYPt0zWJ38MrcBz6boVneDMRaTNVmxLGk4vRG9r3qn7CZscg9/4C5krLOgTfyV0q5AMpTZwvDf5E5YuUc2pFQ8MSktCkP5C1AT+f3NATMeAqLRbfaZMCFkzTZyN615xKwS0f67NFAZ34O1ZXFAXwXy041qUxUuJRRPZYT2aK+5TEoEKDkvJ7G5wfpyK5bx84kVMUO/6Pw+0LqtC+CfdYGJANXyC7M6hFuBbBdXlKXR3KByuMXMTThdaGsMqHun9KhW3sLtLToBLz37DgnNK1YlXPMgkjmJaeZ5NNEb4abcHNh6JawEOg7NnZsNQ5sFA+0tz3QG/V+c++wl+Rs=","authorEmailMD5":"a1504cfa978e0f99b67548a4d5ba28d2","message":"Ohhh...yes I think I remember stumbling across a similar sample in MSDN at some point. So basically I could create a bunch of Tasks and then await on WhenAll (which in the background is going to spin some/all of them up using a similar method to Parallel.ForEach)?\r\n\r\nI've really enjoyed your articles and all your helpful answers on StackOverflow - thanks! Although I've been developing in .Net for a while, I haven't had the chance to really use this part of the framework until now working on my own Windows Phone app.","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"10bb7b1d-3380-3927-899d-663e573374d7","date":"2014-09-24T01:48:09Z","timestamp":1411523289,"authorUserId":"disqus:jedidja_bourgeois"},{"_id":"4aae8446-5941-309f-a4f9-3356cc1af7ba","authorName":"Stephen Cleary","authorEmailEncrypted":"SCAgQS7HmKtTH3bXg4JGhk1ZnxR8ItTvlE8EhwEIdtRtKMpiaO5wx3xBgJjr5P46Lrm39tZoLZfUsNCpEt2eOnTMzmj+fCVeCsE03fV93NpUni6cV6Xzi1+GFq+m74vfApYN8/V7ZdguuLCmJ9Y6sBVkBn20hEZ4wp3O1WMv+2GPyFvqLoLnCUcE2YKDLA3CAQKD6nXTgptiSp/wMiGxvV1Nm7k4qOgSk2592QL0NULnGJbuOj1H2+AQxPLOtXixAMvV8bpt1NZ/HaLOgFFzVrWt1doGyXqkfP3hRNdSfUoiwh74UXO6rkYWPT20PfS8Xwq4ZXufFhey0gdZPAgzCqjdSdSvkxJVUwZ3zvZqKRwlflg2URhsTzxDdohUedz/NKX+BsJmTcmQ9U00GTm3JynpiBKVsxSPMzN+8v8YRMsMVns+MpYRwEHKP3rsA6ttVMasVNTnS0lNCHEHdUOMpgBlbYTPWFPpIKStW7oRwJXyHO/6v6vner5Yv15pS+xDxQYE1jEm1YlCTxeI0aDo/MgkupUbe629uGYSgIKRDxGxHgVRQNNVkWb/ExcbjU29D41koXfSuAeEx3+5DJfpyAahJgsbdJn4jyZk9L2AzqC4etriY+VYFRNSW5wkFbfGb8elxh79eyio/EHM0MkDmxdPClDowDP9qEXPB6b824g=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"Pretty close. The tasks are actually already in progress by the time you call WhenAll.\r\n\r\n var images = await DownloadImagesAsync();  \r\n var firstThumbnail = await DownloadThumbnailAsync(images[0]);\r\n\r\n // Start (3) and (4)  \r\n var hqImageTask = DownloadHighQualityAsync(images[0]); // no \"await\"  \r\n var thumbnailTasks = images.Skip(1).Select(image => DownloadHighQualityAsync(image)).ToList();\r\n\r\n // The tasks for (3) and (4) are already in progress\r\n\r\n // Wait for all tasks in (3) and (4) to complete  \r\n var tasks = new List<task>(thumbnailTasks);  \r\n tasks.Add(hqImageTask);  \r\n await Task.WhenAll(tasks);\r\n\r\n // Retrieve results from (3) and (4)  \r\n // Note that the tasks are already complete, so this code will not act asynchronously;  \r\n // we're just using await to retrieve the results cleanly.  \r\n var hqImage = await hqImageTask;  \r\n var thumbnails = await Task.WhenAll(thumbnailTasks);\r\n\r\nJust as a final note, I do try to use the term \"in progress\" for these kinds of asynchronous tasks, rather than \"running\". This is because these tasks (like most async tasks) are Promise Tasks, not Delegate Tasks; more info here: [http://blog.stephencleary.c...](http://blog.stephencleary.com/2014/06/a-tour-of-task-part-3-status.html \"http://blog.stephencleary.com/2014/06/a-tour-of-task-part-3-status.html\")","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"e02655d2-a327-3802-b13c-735ab86773ab","date":"2014-09-25T00:27:03Z","timestamp":1411604823,"authorUserId":"disqus:stephen_cleary"},{"_id":"85a3a687-6e42-30c5-8951-e323fb2c3eb4","authorName":"Jedidja Bourgeois","authorEmailEncrypted":"rR7eXM74XfyqBSi8JxzarC50eNZsixuVweiv3Hakx3oCR7/q+W+1v39YUfkoCflD8dth+R/8OGmMKwZEoB7NJOwtB/JN4eu9poivmC/hOrVRAxp62XSFs8E8s9WQJrYiEG/b8jL+wNLuRGIn16D3Z3nhSSBksA+KwvPeX3pKlQhh4XnjeA7Y+YrAzRdwIIj6yqbykOjcXmW4H1mpyI+qdCpv9ZGDerMVgne7dBIZ0hqk8YGD58ekw0d+RUjsqZDS8PJz/F/IuUeXrrMWFS29H8xwFXheiCZ4yuPyMx5aNl9CFQPgWdZi4gJMFugLzvhFR7Cs8Lc2zNVPiWOuWf1g7nZaWwcnBJyontUbBn2yy8YqKJISR8rvAN9tu39VIxT1DUahpLaeLbFrGnCG2rwu4/NGLEHY4+LGC4O7y0Rwg6lJh184zSpVffT+sp2pwRqf+x8iby8bSxHZz3XtGtcciEJa54UGHgwqnPNBBaoo5leYptjMqKIEQ90gugso6Duu+Yuh/keK9UjJ1ee/RdjZkSSBoSNZXg7aNQ5fl6gXybOGzu6FFdOTSZ/YTevxafObbuUOScWjBH4nLQKDAzmakHRszR2oqtSHTlx0CEWLO3M0JJLG5FwIDjgzDIKBNyBAYN2YFnnRCphAIXu9gHrajEcPwVJt3yxZDHzz/hae95A=","authorEmailMD5":"a1504cfa978e0f99b67548a4d5ba28d2","message":"Ah ok. Definitely something I need to play with a bit more to really get my head wrapped around. Thanks again for being so patient with people asking very similar questions over and over again :)","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"4aae8446-5941-309f-a4f9-3356cc1af7ba","date":"2014-09-25T00:36:58Z","timestamp":1411605418,"authorUserId":"disqus:jedidja_bourgeois"},{"_id":"80785c45-1c96-32b7-a43d-fbac3f87c7c1","authorName":"Yaz Zen","authorEmailEncrypted":"WhrWrgEGi0uoDKFq7Ganaca2tQKXiR9ckZvb+3kJ+Ov/AjvTjmCPW3lj6E0eDL4GQiwRUqgJFBGp+F1h4yFaa7bhp2Cnl5gXu8DWBEkP/c6KdEBpR17i5CjHpzHhTdJAJpDhHBIAJRcExiFNByMzmQqnWmdSKP0ilbTYhuRo89NAg3UzI34IlpIrqk1Y9s8t+HaVKzFNqMnDmdBh0J1OlIBzwV9rxlQClxaqtFBgBzLpMnabPmLogTTOaFtkIBh7dz8M8s5gDUf75KFiuH/zPJ7Tc2ZUvtYFUtErAiN3ME4il3N942N6duCdV4S44n347k9k/a7jqR2i1fD898pmPFyH0LU5BqtbX+DmGzftyc7yqTZ/z7g4o0/uMvitwJQocrnjYKAc9gg9nJSxk9YOGsdCrZVJszeab/pP0Lr2XyDuhm6yb/IUIh4yMy1d2BTAQWZWwmZOSPv0hUbObK6O3YM9qEO1ImGwG3onntfoxiE49KMMe+Gyo4o+n+7C3EUNoc33Bmo+wppYUfGF6LzNDOJ4GBL7AvijyRmge/CrljAw5ygXQR473GdWqgOIMLh/yUJX5kKjT/y4u9tayH/ifbuzobH3sLZUv3xSOFSdSGwkuxR2qctb6sapE/eoFxH+yUbCLdU2WGE6hErU82q4I6OzRsMvjbfex1k2V/HixAY=","authorEmailMD5":"4d39564595188f69fc5af6e97d450088","message":"Thanks, this BackgroundWorker sucks!! I'm stuck since 3 days because of it, I can't make it through a 'for' loop, it always completes before. I'm going to read more about async.  \r\nThanks again","postId":"2013_05_taskrun-vs-backgroundworker-intro-e1767ce3-e564-37c3-ba47-ad1dfcfaba51","replyTo":"","date":"2015-06-30T14:28:08Z","timestamp":1435674488,"authorUserId":"disqus:yazzen"}]