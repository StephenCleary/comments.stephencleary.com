[{"_id":"5eb4193a-3f68-31c9-a699-8312bbd061f8","authorName":"Marcel Popescu","authorEmailEncrypted":"hGwTm3dHNZ8HuVpf09OZRp2w4OFfcim34bzc598K5hr1ZQ+uHaBX15EpzZ+6A/Wr/4Mr/DlDnG0u3FlEnpf95YmxubwWP8qSPTLsopqjtINk9Ped5CF7ISYP4e4jXG/IRDLH21PTOTlrhxX06PvLs6gjqnFUieoCSiN6XrUv4YNsc5YH2NE9Y9zRJPyC56Kd4YpB6K2DMRpKYUgGlaP+AK0rJUNtmy1P/IKAtNCB9gQO4g2QuOgJzrXzeB3Ebu8CRRFb6Fmi8FebWqpRkl053MKhjzzLpccwEY98EdbDJKuTgr9dgIPys2tvYIGV2Qv6G3nIEmGtoxSJtAlrcm71QqNsXRg6Q3LPwW4D1e2cDKZgtuOwCKcIYxwi6T3kmfUBo5zXIydi+L27gNKHrMC4dcpdBT1QtQX7AYp8Kh6PmY8EcI8Zwz2Yb9hpQR1LI73L2IiedP/IeOsRl5veysXiRKr6o6etlu9gZGxFN2Bq9qAcGv28xyhu8p3Ph8ZWIynfful9uYAx6nlrKPuDqUKFZVrYC8V/CbTy7UFWk43Y+QAM1z2blj7lW1jy4+d7lJAhMD73pnKJDx2md1cBOGaGWT6OeyEVXKYsf44lUbo0CZX9pjDR/LwbGq9UsiLAe+9rLpUnPWMcWHmA1KStLPf3mrX1POH3uZfWVEfFuVlj+3Q=","authorEmailMD5":"062547509ea29cb1a75e7260a77bb6e5","message":"That you, I wasn't aware of that, I'll take a look.","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"91d99160-f7e0-33f1-b51a-873f1fff3ecf","date":"2014-06-16T08:36:14Z","timestamp":1402907774,"authorUserId":"disqus:marcelpopescu"},{"_id":"91d99160-f7e0-33f1-b51a-873f1fff3ecf","authorName":"Zarat","authorEmailEncrypted":"X9PfVRGLqTS9y4HgM9Knr20TsKn6aGvkWsBDibiTUephmHBOP2NZig+xGasEKCBKAAYHnb5svBF6AXio7gEmrUiApQXbYvu3hDV/6aWNJu5uvT6HOScgJ07uppJEovsmcA8ZiCspFutpemR0z7UniIrgmD6flfZxSlgGu3ZoSae6AJrQ6hv3Tb/qVNU1rsGqi9+j/Dn8gaC9/egdovgnYBk9e3OIKQw77jlCMu7K4bFSLKThaA4cXsVNUkY8xGdF78zhvYM5f4Czxk69ydtAplRUrtk+EYOF6qBH+TUCv5p5qTrx1u9IA+VN6SKT2VHn9x8Rm8dXs9AbKk2ILveTztv2fOXb3IJ11iYNyTG4pycIcG+mIR57itKArAZecXGcDtqBbWmLa8QFMKIIkfeuaB6Y56J1jIrXe79N/zPF8ig16CILB80OqGAdiMBwHXCWmi56ckAdbGf0CX0AdUyns1USQSxPEuxCi2kq+1ApAh4xeLLMln+x5oawZ2opnT08uZ72uoVdYzge/ipKS+YrFE8v1X2on521rABcmcyaymsJdxRgPOOUz835hF2TtDwiZsx4+jL3nenkwfELYYAPiCWRLCgJ3zkjvHd7X6aT9cmSn/h4CI+sX4Le4N7QTfZF4vl7gpp7l25C6J98MfUSmUofcl+Il8uRvZx6XHLw0wc=","authorEmailMD5":"d307e42a92fbce947bfa9fae4400e95f","message":"If you're on 4.5 you can use System.Runtime.ExceptionServices.ExceptionDispatchInfo to store the exception and rethrow it without overwriting the stack trace.","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"e0dc4f0e-ae83-39b8-9ce0-b23ee457470f","date":"2014-06-16T08:23:07Z","timestamp":1402906987,"authorUserId":"disqus:disqus_bCQ4ScqAv7"},{"_id":"e0dc4f0e-ae83-39b8-9ce0-b23ee457470f","authorName":"Marcel Popescu","authorEmailEncrypted":"LD/Hk52DP4WR01g7fySMV5wJDdG7umpEFCp4gydw8L7hc73cqmzejDYnXLDsD2OMpJaWgp/msvdosR6LLlwDJ+fckiXQ+A3ZljEp026bNzATMWM4HmwjYzSLEMUwEZhrZX4WOkxkQmCl/MiYQfEAxjo7qQXP6jjGNl46PII8wUXdP+7uvc/HYlC7HzRnLsUPRM+jzhdQ3oKflTIk/MiUqVta6fGmHo3qgeAlvr120Qvj6sJ/wSz1ESzNI1PTn2LNIePxdFaPUGNdMyzgxL4lC6sqEncLnp+zDkmm+T4Es3AFfs3IiNkneoxt+dWfug8RTLnl0ta9aUxK3EcvDGveKam86Zci3hS7fmdis2LuYgzvBPjMy0b8Ag8vI+arSzFNvUYa97UOMIjiKIPz/lfGU8JETZ+7JrrPgfclM4BmeuzjTQT92fGTcmaMgVh2/B9jsHqICGgGocx9u9/Om2pOO8b3/MPVy+AXvhMDxuty7+qKKqJl1LdRPkyDTvICYBDaOZ2NfkELRegBwOKlsFdWgG4bWAdU3k6tJge2gjB0H9Cc+SAczBn1ZZlSGJ9mLR8ZOkS4pWQhROUW/XD9WZW2Ttwm7N263yqpTZ0xikAPEBqPX7donMpugrcnFnmSg/mP2qCM2TyHptTyOg3IfkRCkPXGv1rFI+cREvKHFWwzNsg=","authorEmailMD5":"062547509ea29cb1a75e7260a77bb6e5","message":"Unfortunately, that trick doesn't work if you want to throw after logging; I haven't figured out a clean way to handle that. (Currently I'm calling the LogAsync method without an await and hope for the best.)","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2014-06-16T07:45:47Z","timestamp":1402904747,"authorUserId":"disqus:marcelpopescu"},{"_id":"ad453931-b13d-3b82-bfee-b804eacfa5dd","authorName":"Sergey Kostrukov","authorEmailEncrypted":"M8cIOapVs+u0eWAv4DtokLLq7d5eX6+NGR9OR/KMJO+QrmzKeFbq2yTvivPeHYik4wj5uapE3xcj7gTiPwH3ZjiLO/GRXzsIMGXnH43MQywO/UoVgXodQgGebgmOA6KkwR//NY1oBRDu+uydGwPts5uldUqvTNwqVLJMuJ0erA5Ll1QeH96cNIjY1H9/QFP5d3He3Uve+sUjQ7Acqvv5HNR5qaCh+XZcXYiRpXEGADRnqDncnT1Kov2sSJxUMSiIKxCnIRwXU0EyPBarkYiUrEhax++H50WVtjmGe35EOFaN7bARhmlvrrRMXiPSrzPqPzMqPt6S/rlLXTBJiz39Oho5Y3CcEyN+3U82Bl1hnUdw9ZeoQ/37zro+jE4cjvOP7qxdmW5gx8amQIV/27yE1uBeIbAkfiU8lGk9dNo4x57o+65fIOZ5NB6cpTJQbrGzXBQ4IRCS3RchJvTl3UT04J6HQZ8/l5j+RvpXivTVuiCPrN5BhwFBu4fEKg4NWl+UQ2nv8q6FYeSxYJj1NNf8vWHmtDP9TAX9/lZW2fB6AIDv4qOxq0RONIzRKox1tkxNctZQHGiO03jqove/OUwWJtiiWQCVRwo6NXvpGWzntFehzqMLrvab3wfuNuf401T2J1alCnN1chh9pyzABEFNaXhUCvKNqcwN10i8H9jO1ns=","authorEmailMD5":"7598d735bc04481a6d5da1625652bbd1","message":"Good to know. Thanks!","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2014-06-19T19:45:14Z","timestamp":1403207114,"authorUserId":"disqus:sergeykostrukov"},{"_id":"ee32d751-6c99-3a65-bcb3-ce27297c8957","authorName":"beton","authorEmailEncrypted":"Dr2O9ZqsfdMubfT7ErzNJKamlCUbkDjEqTY9tMLRV8pUlhvpu/g9NyX9ieDaYBxTynkHGAPRxHK6T9Hs0g97NOpvCl/NcyLbqsjbE10Z4MaNxXxCeKDP/cfUbbdgoUjCx/QxTmdBiWNG5OjBtsf/0UJEke3eJw3RfkVnMORktEtMFKBIJsKnCC3w43YcSsxdqnzFZX0HSPLlK1b6unRqZeXd94P3npetPY/SEslpvw+j+Toikm8+XjtZf1WjpaP4/oY3qMRHbxSCWCYtKuKx/6ILO8I2t/s6y3Yd2FsHGRSCKZMIN9mRsnmBH0w+bIJ0U5zPXdeuACeXvVKY2fqc3P8oMgDcIGPWqn/uR9ab/WwgosfraHDNSgkfjBXIIO4/m+/9fcNS+6JdyfDodoolQmb7ZgbkyQcEeFz/ri0YmM9Rh3dhpVCOeZUUnfg324t9pJ0MDAtaDNEltZM/WKubgiZPGs39L7i/T5LR35iutzF9V+7ykFYbyJloF6AvLF1ceZczgUjtQBmPZKaI+GB6jWY/GVjS+bFPqrKyqDWHMo90lX8UhakSrDjY1ZxprkSu2MNJig9GgrCGcaFg5doCoVmkK4YsbXGv00umiqwLZHk6rztliy/sNP7HeQxQiFsEVeQeAawhTx3IJ1vBgmnTGWNmiHc7Qjq7Gzq5fJMfHn4=","authorEmailMD5":"1bab52ce4bedb23809f85251a98b82f0","message":"Can you briefly explain why you cannot (or couldn't because apparently C#6 permits it) await in catch/finally blocks?","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2015-11-26T15:39:37Z","timestamp":1448552377,"authorUserId":"disqus:disqus_OW9fbW4I3h"},{"_id":"f13db1a5-ebf2-34c6-aa47-c2588bb04d92","authorName":"Stephen Cleary","authorEmailEncrypted":"ZWNACcAasCt1VGZh3enYayOZsyY4jFYbo1CR8tfWaDu/9l/QwYK9SqGRwIOatFx4F+8LoyWPTchIhvNBLMIWaCknG0xMJF8JPavT3lqOUzfo2XSwszxSQo7p70bt2FqJZkRLuwbKttgGW9wPXx/HYpie248DG2C6LG2Vl6KGg/+cr9bD+0/PyA9p/X5ADGOS2BYyOrKYLplWTtncNv26tacUwUIpwj4/+dhVxCO//ybRD8qhHJMUirGFRxnPUwC1bqPm8JMiawTL74s+U6kpF4rZkBTKEnOSChdQDxUQrPObn8A2ROciI+2lm72R0duET0VbrskiExc0FixSW1tEHqCmo0OI0XUCTm+Lng5CInud9V0pL3Aq0O7Ernnp4UgohcHogX8Fi/UphuyTcZ0Ezd48pWmeS/z/7aj9Eu3zQCTlBQJnfWlmpAao64D7AT+Fsk1vKsadEf0mssYYjbekRHtc3bz5gAcTye+0vUPJtyd1NPfnFXXJeqnE3j/s7bhrWa4dYzGWFWfBXqvkCxMmilsq7IZ3z/soJ5riQV/HjMbjYfri1kk9uBIvVYrwvtemAmVqa3cvGfOJF2OQEZAXSHxAObEV0TEOX24hjVhe9dotbuILMUxPnsL05ntpaOfQyItpCTbvfeHoZpFAaqJuNlBN447cE2vE7QDSzUI7spU=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"You couldn't (in C#5 and earlier) because the language didn't support it.\r\n\r\nNote that every language feature starts at minus 100 points: [http://blogs.msdn.com/b/eri...](http://blogs.msdn.com/b/ericgu/archive/2004/01/12/57985.aspx \"http://blogs.msdn.com/b/ericgu/archive/2004/01/12/57985.aspx\")","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"ee32d751-6c99-3a65-bcb3-ce27297c8957","date":"2015-11-26T19:16:50Z","timestamp":1448565410,"authorUserId":"disqus:stephen_cleary"},{"_id":"e813545a-86ca-3006-94a7-d2e30b9aff9e","authorName":"Rahul Shrikrishna Joshi","authorEmailEncrypted":"WBsES2ytiOLnfVgyyfSCFK1eDB8ZT/qvzIDGllZ707otfooV/szcQpB6TiOSpzhpnjV7mrUXHrLjr+7mNTiepQ8ncGbCzRn+MOw0YLOb6wMeO98/9rOYac1J3qEoURry6h0svX5NgbKHUIKllN77euQelnOtsPy4WqGKckLA/Xow5sL8CfXT3AoVEkhtBwzGEa4P06AaHpNaPyNutJ1DUufPRPT9pAJ3LE2jq3aJu6G8lKsFbRLcbqMl23Uh2qtxdM8lGlZKJa5cYMz11Tuj2VOh7rKkBMQO//LfyJge+ngcjPWQTncTYZkoGeX/DFvuUx1fcxcmBBtH1ui3hwzYWeHCdyxCk36NT+sZiGqkRbOdj5hH0+QGWQTXbdorqie97SsLdUNOj52MabERvv4BScszjLp3wc8A0PqKaIiT1SO35rnPtydLxMThS8g6Q95+Q6Varty2bgPP85og0P4u09jUFtDiTAqhDfFjlJrSPfGQKNsL2Xp2aKu9Oth1gvAbYsfjY2DpttfW8iOrgTABWXS0RBkH9gjE90N++1x/PyHdyzn0KQf5FWLV4sDvIl3LommuSPsoEHX9yw9xIM4Z2vtIiLTH3Bpg+87fLkaWw5Cw8uLNYJqV+IE5TkLwR3vJnu0yP8r/vUghBYeLaNiuyB2EwHcggZmrGFbWXV5Mjr4=","authorEmailMD5":"8cccaac7f182897317df2e337a11be01","message":"We can use MyLogger.LogAsync(ex).Wait(); in VS2013 instead","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2016-04-22T04:55:29Z","timestamp":1461300929,"authorUserId":"disqus:rahulshrikrishnajoshi"},{"_id":"eada00f3-b63d-3457-8270-3da9fe7217a6","authorName":"Stephen Cleary","authorEmailEncrypted":"mvBiOjhMmdV0nz9Z8jI7Qf4aJ0exWD2EPi5o4NqRuLP7HdGVGpslsoUVXxxhpwfQxL96Yf8I9X/t+drwSBHhMjIL1SbmTDVMdS3wKJT0nwbHangzzKKbzh8DSm51VXW7BLgu/fhquXnv1RTVqEaEbLrITQq1PjmOf2REEt4vDI3epORXcTtTjlwwgdVGQrFOnYhJdnl76uOO74q1qw+xoohbpnbmA2FftQw64KrhMiGno+HxOWNROOKLSyV2XOIPNoUUamG07eAFLbDCGKwPy3M21XpmpNsa00NnxE81C+Wx/3gTIkmNTpSYRapsxGZuIlxvXRcN/luftFoNZo1abjgrQK/FrZBgas6xkqNsK5MU5VcHQqSyuCwSGSljoSpUJ3kS9qRCrKaYQgy8XV10ayLKUohAWeyINGx9sFagxGgDlHLKTzCGkkSTdSKMTdBLeDPz7MVT5G3TAbnHUSVE/rKRtiU9f0rSuYLO/ivr6jZrMIoXcXjTdqwfBj2D1CNYOZmmoKerMm/nAZQ9nB+EEjUCXD/n32mhGUDgQK3h8V02fpImQFZRXwzGQqUs8GOZh2OydmFKUD6ypx7CBXZ0IucNy0qlznrCe8y4qxw8FkxhOJGdna3Y0WFeRxQRt3/IqoFkO7nVNJL+akzRAl2EwJ0ws69ukBrQU4h+Wa5MbwU=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Wait() can easily cause deadlocks, as I describe here: [http://blog.stephencleary.c...](http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html \"http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\")","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"e813545a-86ca-3006-94a7-d2e30b9aff9e","date":"2016-04-22T10:54:27Z","timestamp":1461322467,"authorUserId":"disqus:stephen_cleary"},{"_id":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","authorName":"Pinky Paru","authorEmailEncrypted":"mcmDlc7Jtz2NVXJNgVxQUgREMIsb8G05hdl/H7vvJ3dRT/xy94Cj4NQwVE51SdKhMBR+W4uqK8pWzImhM46QEbLZS9qtW215Xc/GMXhLxmsYK5//r0G1FQafUa7BlfRXad1eYUotQ7BcWAn0688N60QIaKAwmfaNV4bWAJHGbSye+EvQw2u1I2XvNO9Iq52rd7Y8R1NoZihQ2ffABquH1cS+PNUMfnflIiAulhX0djBpKU2mJ1Djf6twSnnJVC9YVfyxrjK0cU9NpflM/RApry/IKRoQGypYQ41ZaW0sL8X95N95cp/bY5mPfwe0nLeR+JsV3vPK6TDl5pqX6gchWxQ5GTRzujifzT696lypGrK5a1hdNslc3oYeRK6Z9rNaXguVyT23a8FdRr5jViecJzJmUZ5H6Vy/Kc3Qqzw2Ymqn4A22FvmoFb8kz1Rbvr4O1P+qPzIzQfC1uDMpe2WCsKHYJZ1uZf8wezVVE1P5Cz0iUivzAFjVAXFVVCa2+z8uSyuCkK5PwlAc3MeXAcMeFgvLnicmiBZRf9FoMdk6yj281LJuRVsYEyJHbTnUh75IRMfJu3aA5+X21l02Mm4IybeXDNnanwEe7IOD3dkwppWFPEXID7QKf3BJURtJ0Pb7R8Jo1HaAtWbpgziQG9tC0qTJYD2orW+vqB/LAajUAAc=","authorEmailMD5":"853585d273c77c62e48831ea5e691da7","message":"Please tell me what is wrong with the code. Finally block is not executing. In async methods when finally block will execute?\r\n\r\nTcpListener listener;  \r\n private async Task WaitForNewClientsAsync(int port, IPAddress localIPAddress)  \r\n {  \r\n listener = new TcpListener(localIPAddress, port);  \r\n listener.Start();\r\n\r\n TcpClient client = default(TcpClient);  \r\n try  \r\n {  \r\n while (true)  \r\n {  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver started asynchronously\\n\");  \r\n client = await listener.AcceptTcpClientAsync();  \r\n IClient clientInfo = new Client(client);  \r\n Clients.Instance.AddClient(clientInfo);  \r\n clientInfo.Initialize();  \r\n }  \r\n }  \r\n catch (ObjectDisposedException)  \r\n {  \r\n return;  \r\n }  \r\n finally  \r\n {  \r\n listener.Stop();  \r\n File.AppendAllText(@\"D:\\tracer.txt\", \"receiver stopped\\n\");  \r\n }  \r\n }","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"","date":"2018-02-28T06:22:20Z","timestamp":1519798940,"authorUserId":"disqus:pinkyparu"},{"_id":"c578f9f4-bd6b-3c06-ac5b-8af9c4872293","authorName":"Stephen Cleary","authorEmailEncrypted":"lUE49zcveCGt6E8wSwJTapupycxfjHG8Id4MlLHksdxAJL0avk7slnEJiG/m2/3jSB0QEgnQuuLsvAdl6+LmVJTeqZBrw0p/73nyiH1bO/LuNM403VyOQqg2yBnwrOmECIgkH5GkyHvGb/9S85tv+AU2tlQRn8VDeNf/mrmZR6W1l7ZcpLJJacH1+Dx2abjZhMZ8bp1p4h6vrqLVtOnQwPPLXpDCCAAX3ePsso2gSdxqxcUgjy41muIOBXYmFrwPKfz7mK2SkPS718wmeyS/PXNJ0+zAI/evPC6EjWQ8OUbYdW6SbbS+g3fwlkDOhU8/kq+w+cFC2j9bhMWesfFzy8IBpZESYxGZYK2hGAAmy+YxLjtaobJ3MASV+SHwOWVd+oP50OufC3gGt4g6uhW/kvitFZPJ2ecWObuvcf7GBeoZ8IWU2QSGzNkJQjWR3wsFbw5SlMBDXrQx1QqXVXq9l3p5erbuq3kFmpovzBXOz8875AsUOtD5SFusK4ABndyLekthSirK/eDNG06aCSTP5RB5nr4Glcf/3JFuIJvwXnD2IPRVsUic5V533uKeW9qLDV/Fj48XadIs7wxnlzOnJwYs8LYtkDdoVoF6djFheO4KaGHw/aUxm4JcHJM1Ax8STMm6Ud9Gwtn8co085u7nO08H9zVHEnNn4+GcOJA1RqU=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"You have a while (true), so the finally block will only be hit if an exception is thrown.","postId":"2014_06_await-in-catch-and-finally-196df97f-fc37-3a25-b9e6-1b95025b3836","replyTo":"93f30af3-4f6b-3e0c-9bbf-ca8edb534ae8","date":"2018-02-28T18:31:06Z","timestamp":1519842666,"authorUserId":"disqus:stephen_cleary"}]