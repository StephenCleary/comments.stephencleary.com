[{"_id":"2985e1ea-4e6a-34bd-b95a-acd10413f73d","authorName":"Stephen Cleary","authorEmailEncrypted":"U+f7N3Ei1xqpFLKGS+gR5FJT3HPJloyCTBjJ/Nax2d7AXvdM/94XKRiue6E9L/7KEk5Ys3Lff/IdSV8VdCPUNJkdko0wwzAxvmVT+Bnb0TY/dD6TsqLQOcu2aa9x5VaoXhyD94dQMHEm1blxt1oi/y+MmC+0AD/CLDEQnrzLWSZDV9jJedKRrmtFzWtp5Fd/zSj2BzOHxpAbMP65JE0uHjEi4TRkl/Cw/TM17nX44VxS7hHCn8sfd+acwrYb7+9hk47IvUvCgAP25CPLZlgFDAA+VF5dtBndx2RtjwH4vC1yDvD9TIMszTULvegfKC0qS6x3jfe2uiuHOQ3574P/xMOvwQbRN/aRdn8tlidmnL6wwLBNHngFoFGa4630YTd27zhwbxxrbbmjbjMUgQVAP+WTGVR9L6kkSyp007oljKtI6YX9GJgsDLHBSFsS9KSetFhJIT+Als1y9UqXf/ywxUSWyudDsqXlt+H2s8ejjG1LGZaG1X7se/p0vxtt0zMzxcA1VKfhBMJLDMFy6Zk0HGkXJq7kKtJWpSbJUakTwA+Np+p3cNR+m2ZNE0FjBq7/VvsTrYLqdbjFFe8/rz5+XHr/SP0X5UWc78EoRhwVXNmRR0ZczdZ1N//aJbrkF6lD6zGJZ52bg2JjOT8NUYyYyX5je3Vt1IiUk8LFb9A5sRs=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"You can do it either way. Note that blocks are shared between producer and consumer, so a single BufferBlock or ActionBlock would suffice (no need for a blocking collection). ActionBlock has built-in throttling, so you could easily specify your maximum. It's not that hard to add to a BufferBlock consumer (e.g., using SemaphoreSlim), but since it's already built-in to ActionBlock you may as well use that.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","date":"2014-10-01T23:39:10Z","timestamp":1412206750,"authorUserId":"disqus:stephen_cleary"},{"_id":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","authorName":"ardmore","authorEmailEncrypted":"amkLtR1s3wg7bVga8dcc2GRG7jOTuubpCE7E9TXiVYXW0QP7G9jqKzIrlVjLPv0jpgUKlu6i7Jy4ZKdR/cHGOx35CYy/zOf8109PzVl4fdUGXRTRaW1u4J1vgMGfNwSZ1UQrCoYKDiAUzlTy6wBlWs2CTm6dsDxj8vix7OF/AhGMtsqCBKaQsaoPW3ibSn9sGy7xV2dga/9j7OvRtZspmU8nPXwCfGlawAiw8Oi4J2fndTFJCIFsEhc7itVJ/4f8b29A4DJgxz4lYcbs9KCf4cBy3XF5EytOv4GKnFIHqMoc28Nvh6aXDjOQd4i82ZmWXJoaPQatrWYsa/sIbJ/3Z3EjP4Rpf082TM4L8nl6EOZ4EemanuEJTWb8o3nSMRFoSTKvewQkb3T8JRy9P3EChm9rBfGqdUnbY4Kb4yNH8Z8dtCLFfEzjL4O42D+/+VehycQXL4reEDaXsL+AKvPE72X+l5cxHUi9KycB6Tg1Mkrn1mfzhfXZVyeawwBopZigW9FF++WlqTK0MThYJDaeMaIk4oHSntJTxShv+eVLTl3VIsdHq6YKszl2G6kSU1vW2jB1eYdYJQ1WD+cLsM5jz/7rrqyXAEYObu2QWIbfoeDuUhBWyzhnqalg+8HFr2Y1Zc352T8+/PcYOIbKWMyZ50tovzCpzb8H2kTjntjg5AM=","authorEmailMD5":"cc21b3dbc5686cf682ac44e82b1ed1b9","message":"Hi Stephen,\r\n\r\nI have a producer-consumer pattern application. Originally I used multiple threading technology. Now I want to try C# 5 of TPL.\r\n\r\nIn the producer part, I created a blockingcollection and used a for   \r\nloop to add items. Now I am working on consumer part. However I am not   \r\nquite to understand the overwhelmed information of TPL. Which block type should  \r\n I select in the consumer part?\r\n\r\nBuffering block or Execution block? Also I have the scheduler   \r\nrequirement, which is each time we can only consume up to maximum N   \r\nitems.\r\n\r\nThanks.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2014-10-01T13:11:12Z","timestamp":1412169072,"authorUserId":""},{"_id":"b145c40e-9337-3940-a52d-e4384bb2ff06","authorName":"Eyal Israeli","authorEmailEncrypted":"Ul6SwQ7FFJy9saoPr3JgmM3qJZXMb6APSLvJtQqBQpKcW48/14u7lRHZq8gqVV/Jf1T4ttcDG/wm9Waaku0RZxg05xfi6nY8YpAONVisT8ShLQYflIVDDc2aNpTwReZ2qU5U02saTg5ofGbLGbEzEP6LiqukVOqzjJlhenONvAbf72EloCYZ/9J+7yBIbq8ronIhAsFtgft85b5XdGEF7h7djW4qgZHrb0yA16tnfifHlxmxowirr0JKgi0nW3d3uZTgEFlSjHnujtFAwwrj1tbnefHzcTapze4rx+pzLjSyiBMGTIRvMlLuFBv6tIExjw0aiJlFTzhy/daB8jKZ/el5Ew7+hCd+KZcBjVlO+KYmtw71Ub7g7GAbEr44k10PxYUDDlO/ALqme8oX0rjvlifU87L5ls0+S5m7nkWJYTqwYj38ciymhxqFy2GX0L3pQp/ROi+7k2RF/WHbaZYPYHm8AkhXB9RY4Vv049f6Jq7/ouUZuSaa3VprrxWaf+HZfYD3vjqsPtymmE6jnOoNbFiaxi13vWVOt3ZvtFsexi32mTr/Zx2jHb1jHDK9ZaZ5J2zSiTTB/kFsVCx2nKdUwIQcigcqPBy739XBsZLFxemZxzsWQ8i7jUVBprj9PuFTEfTLKzWWNSZ+wgsoprDPTQkY0pXYOn+yfnoECuCBvdo=","authorEmailMD5":"60cb0aeaa931aba08e9971653df0d147","message":"Hi Stephen and ardmore,\r\n\r\nHow would (or did) you address the TPL Dataflow's block AND scheduler ardmore mentioned?  \r\nLet me elaborate a bit: not only the consumer needs to be bounded to a certain number of tasks concurrently, it should be throttled in a time window kind of way (e.g. only accepts 5 items per minute).\r\n\r\nThanks","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2016-02-07T15:05:41Z","timestamp":1454857541,"authorUserId":"disqus:eyali"},{"_id":"f3ee95ce-e10c-3ced-b701-9fd2b1ee7369","authorName":"Stephen Cleary","authorEmailEncrypted":"v/fNORNf+9wEkzr+CUFmXwtOGaHdJ+bCVW4DQWBxPgDaZfbzQNTaOHmdR06ZCDEHo2reYBV6EpSsrN9MJi1BsFKqORaNvt5E1X1bpBXX1KO3KVR5suLCh8pfM4H4ubisGljAsV3vDvYpZrDL/SpKFsMx8ol+OTdbqnhg9B4MQadAXHhKlpcSVkU15a+TtGOlemkQnC5ExuQct1GoVMv6nGcW5b54FCu2WnXX4Un+fgiH+nzYZfX+/PID1fiE+xgSb4lTpHQjfsiYoc7CGh/zH2jV8ALD2u0ebugxevQ5U2XMxUTUYThnrWqQnBhCNQZyQ5+wdEjXRAh4mM1TWutBiKpI1rdIBN6o6rgRjMeGI//Nl6g0154/4dlUMX6No8Hs0gHi5Ih4bt9Uc/w7CCqS5aurA8eiGWYt6EUtuGpcGmdyWRWfuUCHQAJ7rc6sR+H+6QChMMcu3qnQGJBCLbfb0QAS2m46Tgp/QCu7Kolf/F4kxNI2n3aKCCM7K2NOxHzR6lkvEYO7Se/hJqawGOt48ILRuDALA/xP7VZZFcd0Ibsy2CGcxGtfc31Bs7/Ak4Q/dnmzEHN6lhaTpv21Hc8bGQddEscz4QF4pahd7mwzra714+Pcq/DGbmV0zaGAVrLBHlCfoR8vAbGLfwVj8SS61FR23gyS3XupIKjcWvIeeB0=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Neither async/await nor TPL Dataflow have easy ways to throttle within a time window. Whenever I have a requirement that deals with time, the best solution is almost always Reactive Extensions (Rx). Rx is similar to TPL Dataflow but has all the primitives regarding time, like time-based throttling. Rx does plug nicely into TPL Dataflow so you can use Rx for the things it does well (throttling in a time window) and TPL Dataflow for things it does well (parallel processing).","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"b145c40e-9337-3940-a52d-e4384bb2ff06","date":"2016-02-08T14:07:07Z","timestamp":1454940427,"authorUserId":"disqus:stephen_cleary"}]