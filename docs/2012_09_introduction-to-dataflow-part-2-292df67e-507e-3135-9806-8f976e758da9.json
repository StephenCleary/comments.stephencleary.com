[{"_id":"2985e1ea-4e6a-34bd-b95a-acd10413f73d","authorName":"Stephen Cleary","authorEmailEncrypted":"syPtcUzMcwsYpjyOuL5dfWGmNm4tFf7mzTchVAdc1Jx68sLKwjBzprEv1J/joPzgGvtZbjUtYhCTEk35mqdd6emFv1SaVJOHvxPWnTywfPwm5MLK5KyFIxyOHB+QvdjxtMUnt7njG9pW0YFU3GLt9cdv/GofqyCZsEYvwjV+hdQzxjdQEYB4IQVaMtFjkPmSy0Ugu8enJ0kU8iyAr+vpjh4AHwnNa7Q10eFINUTgoWPi9fMBSZI6JcV0t4TBq5tjaFcLiXKyuCBCXlw9DvYbqKHfILJ7fy6j/DnZTQNApaYKPChLiBtFDFf+EOHpTof5BFDYMAhGOd8CpKdZevbWufJTLM4Kbr2dMJx8DokeyOm4LKdQ2Bhc7y51edXAwCV6COBuPW8PxrAh276mckSae41OiWPB+Kr4cJx+hTm9H22Hk/erQN6ut17zg2IhOvxlOKTkXnR8mePGn517YlZaCEIzKDQl1jQynrnSDDg0h07OEFKu/+jlGIe7truN/SQVxbk8hT8sXxVwrtplu41+LsfuUANNCbs38hOyJLwjyh9RZF2UZhVGQb6yC+cZTzNP/AGWNW9jqCOxwbYvMNopP5UwHrz/f1pXGHHeeKOvlS1NR2V+GT4t4i+MwQOzOIu7Wog2h4+MLkXJ7elG36FSfN0trQTvqfsxgbxnCSw9nYM=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"You can do it either way. Note that blocks are shared between producer and consumer, so a single BufferBlock or ActionBlock would suffice (no need for a blocking collection). ActionBlock has built-in throttling, so you could easily specify your maximum. It's not that hard to add to a BufferBlock consumer (e.g., using SemaphoreSlim), but since it's already built-in to ActionBlock you may as well use that.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","date":"2014-10-01T23:39:10Z","timestamp":1412206750,"authorUserId":"disqus:stephen_cleary"},{"_id":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","authorName":"ardmore","authorEmailEncrypted":"GFXzoVFczJUgiKYs7HqquPLQCJFSxw8kpMu7SrDbuNFc7Z2qjipLez87/a0YjUMqQyijoPjYhqi+fWstygezvT8Gr2TVPyt3i5qIM4MzrmZXM43ClIlNx70s/CnjJnSQTeBdIwP4v03Ygr1h5nKQVoiGB688EoPxgtDotICcDOgZvAQaK5YlvrZY7lvUOmZP2/dou/Uq0NQjW+yTLdQ7JrTvnjl+wF0vyfrbUze/uHzftNpYy5p3BeVEslEWXLM0kxBWxDSDcVu8BgG7AaMkLY7wocAC1iFAh/npv7x1/ZTrl3i2dBtcq2VkOFoA/1apPYkkCOEudN22uJjeYmMYsZFH8yXIein2YY//IQmnUyDGJk8hxhLUpsX5x+Tz4UjhdWWKYWQx3bO/86Wxvfj2PXvdn/h3LIblxVrQp1Uv6IeKSHDHBbCQTgbAMSd6t5VB8WE6/SH0py3nPtV4bN0dLhODJMjI/O5dSnIxROlu18XGM1MFRWeHEl39DOVOdYfuz26TzawER+UqCZjjsGbp55YHhhcLJWxopvQeWTvUgJS0O0BVGP+5Qa7A7+HFlKqFGg6s5aoezMgS3rUfN/8xCZ1NqhoTKV2RN3l1RqvAo4L2gP9FdwXD75DvCBjW57y5Bg5HErxahaCQZnTEvAk8LIk3jfTQPNh01Dob3khGBdo=","authorEmailMD5":"cc21b3dbc5686cf682ac44e82b1ed1b9","message":"Hi Stephen,\r\n\r\nI have a producer-consumer pattern application. Originally I used multiple threading technology. Now I want to try C# 5 of TPL.\r\n\r\nIn the producer part, I created a blockingcollection and used a for   \r\nloop to add items. Now I am working on consumer part. However I am not   \r\nquite to understand the overwhelmed information of TPL. Which block type should  \r\n I select in the consumer part?\r\n\r\nBuffering block or Execution block? Also I have the scheduler   \r\nrequirement, which is each time we can only consume up to maximum N   \r\nitems.\r\n\r\nThanks.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2014-10-01T13:11:12Z","timestamp":1412169072,"authorUserId":""},{"_id":"b145c40e-9337-3940-a52d-e4384bb2ff06","authorName":"Eyal Israeli","authorEmailEncrypted":"LRAlp8lPvJQkNf5j60jnJe0bx2C6Eh/brGfXqV63Bq5OVfKNVgR3Q0qu51oi8RZzjamcdFsBLcfC5BKWpSLbGyzY3Hq2CalIys6yzJEfy2LGjZJ1LgofoNN6ZZi4/kTah5Dm5v+PAL7xoSWlOzeRyXqv/J1Sz7B7oIbUqF9tO9IA0OwTKq0tR/LCWzdLBEFd8SKwkasDmmjoX+6XOqELy9wzhVzI5YF5U2HuqYzfDBnvitZ/+PhFYDFldGdn0Oi7ReL+pMkFbfGAEGvq8Irl7nuZn4GS1NtRXhGB4sKbiqRxo071+TJooR24NunOl7bIzdYCvhmrhJlnguZdWgz/g40EwlhII//3X9v7vek9CVytpLGEVyQHcgOtWno3Xq1tfjWK9G4lucN51ywb91p52p3v7AbASBk2bbkNDFRPP8dykDNh4B8LfW8rJI2iPf42WniqPnkALJNUfceD0WcIIouH4wHgN6jL0695xOglp7qnMFRqsR2pYU/F+SnlUM5qOhfuEuMtFqKN/oF+gyPUCyx+EL48hBhBWWKZ5cEeKTGGOeIt3MRUHkCl4E+MVRi1uA6HM6Q+06r8tYgxdxlBEVWzxtcBTVp2muOgilcr4JeiGg9E/sn8WkXtrvYZ3lAOh09qCtytjBXLKu38gQJHPWKRf+zwVyfrFe3A/7guOWU=","authorEmailMD5":"60cb0aeaa931aba08e9971653df0d147","message":"Hi Stephen and ardmore,\r\n\r\nHow would (or did) you address the TPL Dataflow's block AND scheduler ardmore mentioned?  \r\nLet me elaborate a bit: not only the consumer needs to be bounded to a certain number of tasks concurrently, it should be throttled in a time window kind of way (e.g. only accepts 5 items per minute).\r\n\r\nThanks","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2016-02-07T15:05:41Z","timestamp":1454857541,"authorUserId":"disqus:eyali"},{"_id":"f3ee95ce-e10c-3ced-b701-9fd2b1ee7369","authorName":"Stephen Cleary","authorEmailEncrypted":"wgyU/FtLOgzaw68EO7/h4FpQyJmjcDOSHv5pv3M107u1gj1XkcyX4St9ZcS8dgeZuZhZMbbpAVt9f8bZZcsLAMZI4RbNFYJdAuUk+r4CLpNXgDc/w/aqjfyA5cW9HtFen/vfyXoX9xVdmIY0sMMN4MAdpU69bj5UUAQbTv3h8VBJvRCH2DWiAZ+rX+3ZxqcNVJ45Hez5iFA5owxc2qOM86IwcO6ZfVRaZpFQT37+Y3Z0Sgl/bYvNVPXhpgcjuv+2HOKG533QSit8QQez7tK4HW6X5IOsxRQ6+H2ZRJYBTOZqnHXLCNloZP6i+3kNwguzNc+VtWTyEgBMVbjip1s25DGw5jc0xHmmxY4YJaW/dxrw/z6xBW1Eno8r9SlkAmY1gxoZ9S09iePK1hPPmucgr6azFwhSa6UE9npFWSrTYEUiWk4pnPIwqMOhMQMilfBAk/ZbFUhwGRt1Pgy5J0EBJptCqptDfK1Qxje6jQbZ4jbOCjX1niEkRF8X8bXBFh3iK7NfBM78NJCYV7271jzB6mmTrbb9GjBaODkogW5+Y6uM4wlU1wrIVGR3uH6UweENyhllriHaoo/2JEEW+uQ+injCK2/3TWOoMpuiIYLhCO894iAFIXMPX+VALXXDBNVOcKW0GuL+J3wQ6ELGA8C+EWPHOuCyf49Ro8RybKabq6k=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Neither async/await nor TPL Dataflow have easy ways to throttle within a time window. Whenever I have a requirement that deals with time, the best solution is almost always Reactive Extensions (Rx). Rx is similar to TPL Dataflow but has all the primitives regarding time, like time-based throttling. Rx does plug nicely into TPL Dataflow so you can use Rx for the things it does well (throttling in a time window) and TPL Dataflow for things it does well (parallel processing).","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"b145c40e-9337-3940-a52d-e4384bb2ff06","date":"2016-02-08T14:07:07Z","timestamp":1454940427,"authorUserId":"disqus:stephen_cleary"}]