[{"_id":"2985e1ea-4e6a-34bd-b95a-acd10413f73d","authorName":"Stephen Cleary","authorEmailEncrypted":"guZIDRtOSWryBcO9Lgb+Golnx9qzqGrGJneIJlVDKfTR6kl8A1TQCEd3YC/PB4bXNKMp3OTqAzDmdsn3mhcQ9sYuSTXCMYlSvyrUD+o0lM6Qgq2khJLwVvtVbkh4XfcmDUSw5oNhFF8OJKuP8pBbvVQuxdn6d0CFMSIFV0lh6xU1XiaYeqk/3SoTborq9Yb2LMdaZJTz7BQ9mUzVPN1dq+/MEsuDY1y0DtMBGKvbCpQkI+gNSqfMdPZqMcvjJV8JyauslfKdxQdsciY6oY8zR46rStoR5H22BBQ2jUSj6onA3K1pc8921r/wpQ5vEFhBXCAukmiKbBiiiShQcaW5xgT+q4qLdpkYYqce4Jetc9y86mDr9CMroLnbipiVcX/ZTULV9/kocbns+viwbSAawqjKZmRhNw05ND/AUM/rTzvwD2bMpwf++aSOF+nEuA3DLVDJUcfcSDivthZ7WOgU1GM3fbZrCsuwlx9u5EpS7VF/s94jTFC4bNaZ+018Qruy4Gc7bqj6O7i7xPXvU3hMWGnA/WwQUQgTpYuJvkGHmoFqKVUpLDhwiy2gIlGufIf4+x1p1R4xAz9pwew/CcrO8osMENMe5qaEMWS6RVb+6H0fzpOD4WPJ92L7GaFyDZgp6jWUEJyJ2O/0Wnu7Y4vOybjZh0iYVnda2WiCMWGRjo8=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"You can do it either way. Note that blocks are shared between producer and consumer, so a single BufferBlock or ActionBlock would suffice (no need for a blocking collection). ActionBlock has built-in throttling, so you could easily specify your maximum. It's not that hard to add to a BufferBlock consumer (e.g., using SemaphoreSlim), but since it's already built-in to ActionBlock you may as well use that.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","date":"2014-10-01T23:39:10Z","timestamp":1412206750,"authorUserId":"disqus:stephen_cleary"},{"_id":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","authorName":"ardmore","authorEmailEncrypted":"hk6GPtOUWV2XnyNhPKpP8eaty3/oZXWpbOPZ+WLn2RZggaJkzSubTikoKCAN3mWR3jPbirzDNz/SW6xehHKtMHERr9k4sgQa6GbrQyV8FnU/bd6E0zBf7EJPDvOfPYnDaM1CkE/0c6qxn9yf3LYDi4uBXij9tyiVLt551yKZBrD9Xe9ror1QUY/7XYprZ3Z6X9+LsUYX8itUJXfTuLa++FyGSNOEt2u3iZhRbb3DFMIgKqDXQ3r4h/PZwOA9xcMRqVYIVqjMSUkFUKCi2/bCe8skz6pPewjr7a1l//ZwVQNv7Z/9NnuO/FjqRO3TU2c9MmroZsOxoQ7hYJyO8LTVVYwbJotZHYw457xl5cfiwOy19geG9rgmuACqeKLLruNZAsrQWR5WjKA6iSNlx43U7BsRoaNwoZH893wGq1T3lhMBc0Ixwcn+DCY9d4QRs+RLuEo3hhXHy7MWBGj2dzFMmJVTiXNoqP9nAuvNZzIFotg/fMOpFsrwVVXyoDF4fxMKWrE+BudF7LORExo08jtliw0q7yQIUGeEbgFOCGeRedmMMAL9LUGnDJ7Q7A486wF0HQmMOOyS/wAsKiHhCS0Nlv9hqzrV3tkaMpnXOwf8YgTyvjDnRb879jgR03VPl8WHL0K1w0wkb2A6orHhDrsgSJwVL0qfN1c5CKNTd4YhhKY=","authorEmailMD5":"cc21b3dbc5686cf682ac44e82b1ed1b9","message":"Hi Stephen,\r\n\r\nI have a producer-consumer pattern application. Originally I used multiple threading technology. Now I want to try C# 5 of TPL.\r\n\r\nIn the producer part, I created a blockingcollection and used a for   \r\nloop to add items. Now I am working on consumer part. However I am not   \r\nquite to understand the overwhelmed information of TPL. Which block type should  \r\n I select in the consumer part?\r\n\r\nBuffering block or Execution block? Also I have the scheduler   \r\nrequirement, which is each time we can only consume up to maximum N   \r\nitems.\r\n\r\nThanks.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2014-10-01T13:11:12Z","timestamp":1412169072,"authorUserId":""},{"_id":"b145c40e-9337-3940-a52d-e4384bb2ff06","authorName":"Eyal Israeli","authorEmailEncrypted":"ZLCcnj0JENFUxMocneHm1ruf8TggqxlndfX98fUSl5RiGtrUdkb3CzapQ1HLlJEpYmphaMvIwSmDLbJ9rPjVL/GN3uI16axDQ68MbkYQx3dAXLg2SePwulgF7MjZSVP4oGm/OwqBuiSb42C6qecLPb8URQv9ehZJujZuSDLv2rYvEMWisjQ+w6kz/5GVe2w9vHbfAeqx30modhwQKfMQ80NjdIAEzogok7LeNX/0WH1FVJlZqeAaXxiP8EUfE1kB2wE2btB6iq34D9AA4GLZyOe1czB8Ht2+UerBhuHUVj3tGRCGxbdqh0C37Jo0vsD0zNzBGrVM2WlkTVHeSIXO01byjs9S0X6mAZtHN/joqLFScHberOYE8nHGv77/GK0s2sV/VtBm/hXSXnmTTHsloXoomkLDnmz9lXQzbcptCFahmIFTFz2vRbIUdnu+srsp6O948qARL/1YBySZJV7PzEm+wSudElzYp+/4SJit6+IQH8SD7oKxkguakgvResvB3q75esZL3FMK0GEjgQ5l5QWc6EJE1xLWe0X56EkPht1PT/inGn2trXOZ+qAmwBjZH0BQFp+opG6sucGwfyzUlaA4ntWAm72ZY4+CMgif46ItMYgKU23RYRDNn+ReF2t50ONiaNKvZ5ARqm40U7SVhcRoDzwzoKW3ZKEAs6SrNR4=","authorEmailMD5":"60cb0aeaa931aba08e9971653df0d147","message":"Hi Stephen and ardmore,\r\n\r\nHow would (or did) you address the TPL Dataflow's block AND scheduler ardmore mentioned?  \r\nLet me elaborate a bit: not only the consumer needs to be bounded to a certain number of tasks concurrently, it should be throttled in a time window kind of way (e.g. only accepts 5 items per minute).\r\n\r\nThanks","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2016-02-07T15:05:41Z","timestamp":1454857541,"authorUserId":"disqus:eyali"},{"_id":"f3ee95ce-e10c-3ced-b701-9fd2b1ee7369","authorName":"Stephen Cleary","authorEmailEncrypted":"njCcSu+8oV2BvElL8/zjRQW9lzMBfpBl6INsPAFq8EbVk4PMof9prPUQ9HFqia/IL7OnNRbVECnM8ogC50Kt4QDlQ/mQmNF/2Ki7lcaWB6sYnGbN9EyCZAwnSRVtLUAjLhklfcdOR5NC9xhd6rNLu9Lv4idhlpHhHBSTLK4+WBBSsW6oZV5JuFKDxmNrb3vthroqSyD+MtOWUsvPxll+XzKroLj7RHQFnHjnGyWTEbuXfXiO0zdzdGhy8+t+8EPQ6zhCgOy63UMU8zLeFwVwMDT36KuJneUTP7Dp8Q/ES9z4sPnSVkIJ0nloNrvrmD0z/QBcu2D+PsmyWMtxyD41ytMJYl/GlKqS4eafzehZhpFtkKLZTgW2Ot2KBAmM37t4iKUR3srYPs67FPgJ6/tw/mcwzACCOpUfBP1G3+a7dc4yt5YDvHbDG1CnukTkGoWyGYrh479m6fd4GRKld3V8lX4RMXHf7N8jZPX4CHupILdhu/fdAzPrjDzSqa0zj+ZFZ5Fj4jOtr1XAMd4Z32LmVe6gxt5cWvZ+G3wEI7c0fiWnlGTvQUNxuNtKR5oMKNq3TDkZijWRNq4T0Hd2L5sfK8ijX+pgwS4nmRQuUPpunUetN5yPZJlwmqM9VeRmfz9cdJeMIAjN9ioPIaUj/M0RYEfuPbZqrzds+Nhlgr1CEYI=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Neither async/await nor TPL Dataflow have easy ways to throttle within a time window. Whenever I have a requirement that deals with time, the best solution is almost always Reactive Extensions (Rx). Rx is similar to TPL Dataflow but has all the primitives regarding time, like time-based throttling. Rx does plug nicely into TPL Dataflow so you can use Rx for the things it does well (throttling in a time window) and TPL Dataflow for things it does well (parallel processing).","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"b145c40e-9337-3940-a52d-e4384bb2ff06","date":"2016-02-08T14:07:07Z","timestamp":1454940427,"authorUserId":"disqus:stephen_cleary"}]