[{"_id":"2985e1ea-4e6a-34bd-b95a-acd10413f73d","authorName":"Stephen Cleary","authorEmailEncrypted":"rIjZywqwxhzldNnL3M6l8+TPgdo+miod9O/AxZh7CSZHZ0VHz6k+JEQJWHqdSq5kwWEd/QD7mocqU8xVs0Qohq3jealyhnV8ycxQVNNaj3YRkDlpjOBOMKudKorig2JirAn/QAZ39ynCRgrmqH8fW/1VrMU9yQGF1o8lxvUy8L8+jXwr2R4Q/Dl8aVHrkvFeSGn1xhPHyIpNNU0INSscIyPPeHNq6sCGE6aP2ZwHKD0/Sc1QXZPfgsDwPgLRqOmwwWZvdAjZMOXhatFItbrF8V2WcD1dph0EBr+j3uO2svHJ7K5SBTeaTpLpW5iSccIEnyonOr2qFipKFXJfCygoyyhriphoJ0RVA0y71Oh6oGio7hr8SFc72/dA3DVHQBTY6W34K/gPg8YlY1SIrrz1KrCEQclaQT54V9J72kD3yuDU0hV9KqJeZfM067uJXaCYrpx8GwCkM+ZojafnbFNGqFtFEkMveuoNfM5OLLYCeX8owYyZehWuA71CaSRWcosY/0IrSm6aDsaKN0sTmavHPc7b6B9nJwk5FZ+MC9KE2yQZDnsJ4zR40REOAtZnRFdmIZHxCQ5ZGGxg/rnwbivfw/JFue848umnFZPw2bxW8MS2d6TAd9aS5XInedOkD+2ZBn1w9mb1PY0n1nhFgHj3Sf61h3Fexws4npM1cAXiX+c=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"You can do it either way. Note that blocks are shared between producer and consumer, so a single BufferBlock or ActionBlock would suffice (no need for a blocking collection). ActionBlock has built-in throttling, so you could easily specify your maximum. It's not that hard to add to a BufferBlock consumer (e.g., using SemaphoreSlim), but since it's already built-in to ActionBlock you may as well use that.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","date":"2014-10-01T23:39:10Z","timestamp":1412206750,"authorUserId":"disqus:stephen_cleary"},{"_id":"deff4432-1ebb-3d01-b86c-0a3a624b5a01","authorName":"ardmore","authorEmailEncrypted":"CKFcDI+VVFuG4tYJ3oq2qJ8Hl30LDNHwk7ZG0KBXYMr4Vxs2sDQ8YRH6PyAvmS7+34kgiYADGyAHbT0iy+lRQj6fosqPr8VZKv0ZeE424J2KQKwRTYCU9CmBDMYychWu2edcRGbDbcUYZwiXF0ogS3ELgqpCtVY5xijwLDPudmyawYzz5gZcJYqk1jIYOyaAwqO7dIpWOZLqmTBFKI7v80dTNRsQ2eWYQOsVM9n/kCkhiI9mdgoP/Gelj4UevLBckkF3SierqfS7XlKwT3pLRNooJ8gCFG63jX7ICXNdU5SVa/ytbCKUyoYidBcFIgo1Y5nKYbFPv1JsN9+QZvJOlYU+vQXc5lJj1bUjgnlJ63XXp/HSfhfx5PgaY5xNVr9O2GOsOGCMknHy6ypDbN2Q2krS8r5wt7L8mgXiLTnjFIbnIsh3eYW+G58e0XhNVjcu34wUP3voDAkZMZlg8Ig4XGco+c4Wxd7QqxqIFzTwbqp6h6z1NCk9e784nvkoOo8yfM4Ms9PQnBK3bGxjBUWFMKWdR1TgbFJRZGpP0VV7hxvnCvntYCqb52N0eHW1eZZ733GiE73H3PtMYEJhSglfkBhMw1qOYK8hHUTL8reqD5LdDIF76oRT0SYDn4jGo33DkK0d98Uo4/24PRGZrH0LcnKUMgOEI2g/YWww9iCfFVk=","authorEmailMD5":"cc21b3dbc5686cf682ac44e82b1ed1b9","message":"Hi Stephen,\r\n\r\nI have a producer-consumer pattern application. Originally I used multiple threading technology. Now I want to try C# 5 of TPL.\r\n\r\nIn the producer part, I created a blockingcollection and used a for   \r\nloop to add items. Now I am working on consumer part. However I am not   \r\nquite to understand the overwhelmed information of TPL. Which block type should  \r\n I select in the consumer part?\r\n\r\nBuffering block or Execution block? Also I have the scheduler   \r\nrequirement, which is each time we can only consume up to maximum N   \r\nitems.\r\n\r\nThanks.","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2014-10-01T13:11:12Z","timestamp":1412169072,"authorUserId":""},{"_id":"b145c40e-9337-3940-a52d-e4384bb2ff06","authorName":"Eyal Israeli","authorEmailEncrypted":"AT296WUVHp196yv4V/FDZ4DYZNuhTw6w2gsjIbnDeaz40teun2Ff3D/mVd6TW1Bw0bwQyNeLigPhFGU/L2XOseMhloLbJoQt9Lb/R7XvnrO5Pc7VsoR4TJQWD5r9Fj10EyOYWc/gSK3ktSydP5GDpE3X7wv4xPpqm3Uag+aWjA6X+XwbyRNo6enYRczrFlWhfdBDBr1yR0fuPugeavYoy5rE4HQ0ZYSug45Gp+fdtHy3NdH/11hVxq2SXSMu0hN+rOYJNi4LozMp5YFH0aOgzZn7Jr5HYHMQ1VnQnNuOiwb3ptNgZsAPODKxxuM1gfF4OpuIy8vEr9nzf2wmMW/awdNXj3RE7XJk7+l6zSp2K0Crbn1HgDOtjZzNgVl5p5wFjU2TnFVt/SiM4VBeQLGHCSZhRQjVsxwgjBEmWfTwsA6A2dJotoi2OvptFA2aeugQkBFQzCxoqPFoAEs3boXA1eNB60Bc4TVHqLS8ob8myQ4husF3Sg4YeXuYp1HNfmtO2M+wzNLfEuxi5ERHwtuY25YzB6MX2F3NiZBZr9yHyW4VkU+lDLe/TBRjqKO0HcA6CcFxFZL7p0CUNZpVsWxkTx2vwY3ojSAAPssWHgieCo/OriYDoQcPI4dQOMJ2ncc7CIwRgcpmgE2XmQPwnnfPJv+rgpkl5+ySZU1ScmuWSB8=","authorEmailMD5":"60cb0aeaa931aba08e9971653df0d147","message":"Hi Stephen and ardmore,\r\n\r\nHow would (or did) you address the TPL Dataflow's block AND scheduler ardmore mentioned?  \r\nLet me elaborate a bit: not only the consumer needs to be bounded to a certain number of tasks concurrently, it should be throttled in a time window kind of way (e.g. only accepts 5 items per minute).\r\n\r\nThanks","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"","date":"2016-02-07T15:05:41Z","timestamp":1454857541,"authorUserId":"disqus:eyali"},{"_id":"f3ee95ce-e10c-3ced-b701-9fd2b1ee7369","authorName":"Stephen Cleary","authorEmailEncrypted":"XHYd1GI0DgvUIxzWnJF5WW8tgiMVKlVm7SC/MgrJ7FeQOXDq4o+7A3OCWwuDLgMK4DzBghztYVLFlZRb03mzVDgiZX/IKtMpqn/JRmiE07ckWUHv1FBU7/tddYg27BhuCX7jJNRgA6ktu9ekPzBfTQAl6Dt5rxJQQucbfe843rA42nHZJB+CVS/KUmWat8fIasiqEGBR/apB/zEQyBuOnAPeIA5Tz1VfGSqaPKXnUdZE7SIuuSvmAOD8BkB8Ka81iRaciKnH1dkzfdG3FtZ0+COiJHKmhaSIQnIMQkveEdZY2KOfzkkAC92wpei0aC85gEkMfTrcaBGVoXRP5sxvuijwZ+NlkPValDO/N9TpvykQYpBbio6xtZB1BuMqLm8hRkDwPovKY2gGBpyXu2Nly8hJS/nnGpWXTMfRcLk2F6g1/QcRrQHmR2/GY7vUtaYDB8jAPt3FJtUAR55FJpkyIqF/9f/UHFpY2DAfhhRPApZzizN7hJ1CcEUgtE9MXsFYgHqev6sgHUD0YROnIg/Wbb0Evcp2nGTnBUiSKzBZlhGQxnvV6F2J+F9tLly+rb1VPxEpj+kxEVM5JF1ykfiHcHy/MsJTKvxWk3LeIUGHvVsBFt9MM4d7lPoSuSB1xF1BYiA45prBBReoWyu88+FgqeBLJ11FWSgikZl84/MEztY=","authorEmailMD5":"28dde5772b48c92e08b8050411aa5ba8","message":"Neither async/await nor TPL Dataflow have easy ways to throttle within a time window. Whenever I have a requirement that deals with time, the best solution is almost always Reactive Extensions (Rx). Rx is similar to TPL Dataflow but has all the primitives regarding time, like time-based throttling. Rx does plug nicely into TPL Dataflow so you can use Rx for the things it does well (throttling in a time window) and TPL Dataflow for things it does well (parallel processing).","postId":"2012_09_introduction-to-dataflow-part-2-292df67e-507e-3135-9806-8f976e758da9","replyTo":"b145c40e-9337-3940-a52d-e4384bb2ff06","date":"2016-02-08T14:07:07Z","timestamp":1454940427,"authorUserId":"disqus:stephen_cleary"}]