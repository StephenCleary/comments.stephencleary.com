[{"_id":"2bdfdd58-c853-3ec0-9a1f-192957149b3d","authorName":"Paul","authorEmailEncrypted":"","authorEmailMD5":"","message":"I would supplement this with: If it's so important to be lock-free, use types which already handle lock-free synchronisation for you, like System.Collections.Concurrent.","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-02-28T03:42:38Z","timestamp":1393558958,"authorUserId":""},{"_id":"76c67533-422f-353b-ac6f-141896cb0543","authorName":"Anonymous","authorEmailEncrypted":"","authorEmailMD5":"","message":"How informative...","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-02-28T01:09:02Z","timestamp":1393549742,"authorUserId":""},{"_id":"a57e3ebb-ecb8-3c74-b9db-d1ec3439eff7","authorName":"Stephen Cleary","authorEmailEncrypted":"K4eU0QY468OeDulryJ0KmC1uJZllOEZUm5SrUtyIZiIPRI4OJXKLQ6tlI8Mtj3xSSuOQiTUNcZr5m4bd2qFyZNhp4eAEIe2DpBYJeN4X7i0x0evvx1v2P2tjtOcT4JoQbys5rqAtpWvSKE5QA72rwkTRw6nxTyIxNfl2i2+ZcJpKrUvgPHbQNg5OfNrVK4AIthFJX+bdDcSD0OVNadKaHMHH+du1XUraE/iHWvjYCg9I+mrpQqSskFnoBwk+dUtntbs6qyuPUhdQqwjtwlIYmhf04YMkB/anYW9sgip+lbIDbgLuNxiJrXJ/vz5PzC08RU8X/wt0janeRKeFgNwDDLPSDZPli+LsrKBpdus6Qoy9vMEi2Io/JY6Z0UPgzOQzSiTV7Vz4a7SGAqOVlksmzKO9eyqZBfSQjmLWgXN+kPS04X65G+qEOifMHg2weCc7zSXw4LNKy7Wco4YiCLVtAttNMI7ejkEdfJGImqbhpbyzoRo0JjpQHy6XzGYBrasiSYeHkEIKrBCzSQqRv3vzFYKJ/9QhJrsDVF1XF2TEPBMb9fVejY8Kbk7ybor0+8t6kGE91MFK59vAFqdg8C7Lzxo+ujZzMt5MY9RbiFgB3WxlyPcw7UhPlKFKMf75kcyljvkIG1d2bG9N7s5T4Vbt4VrptTfaTu0X2tK0ITWby5g=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"It's true that it's only one short guideline, but I estimate it will solve ~98% of all problems caused by lock-free development.","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-02-28T02:38:57Z","timestamp":1393555137,"authorUserId":""},{"_id":"fbd2be2c-b49e-3a38-b80d-10c6d802c6da","authorName":"Stephen Cleary","authorEmailEncrypted":"a6BzIqpaqom8HU+yparODt9EeVV2rveaR1zTqtXURnT87HC8nLgSr/8Hk+zdbNOxK5rK87/+NMO1Sw11M+iNNZVt9QLukrZ4HHgddLtltXL2FKVvM2z51fvGJFjTN8Em/nIawzOmmKhlXjNGBgx2SSk44N0Vsm8fCBU0GFO8eOGCgBcCN5NuuLuk5ioe7q3ZrKz1VZqeRqHgSeuOzQ4cTlVSypmvqBr4YhTeA2UOHe0MVE5I3HQnNsjkOschfr9cZzdUNlRJq0liKb1E51bH87Du5YPgC/mdcUZfrS3WjHjUeVcIErrCDN5EuC2K1Fo8KlMPcavT5V4Hdfum9TjQEAQXTK2UU9+RquH2Bu/TTRir76lBs8/PV9HiqE+yktGLreAnC5gVOVEUoRPDnTODR32neTDx1sH0Cm0c/16hctokO0X1QTFf3edornWytcK/xLt7bZEToTJXJXHT2XbsMi909Rpy/lWdq1j9smWxEXRDg18Fvs/586TtCyJhzIVB1/IFPc290dhL0X24Axhf6Tx3cFZW7KqCl8k0lQ958y9w9kKIVtW0pE6eQvGgVE8OyOol2Me24lErJyPafrO2WZJJRDiiK3J1VbSgOC+6MI2CjK7hLTnTxrAhQa7Kc4Cxo2O4rRIKqeIsb7U1926Z45KZ0XJ0I0xVepbxkMpPX9U=","authorEmailMD5":"ad2250182ff26a84dda974e50cd94382","message":"Sure! There's nothing wrong with using types that are implemented in a lock-free manner.","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-02-28T05:43:22Z","timestamp":1393566202,"authorUserId":""},{"_id":"3ed69c9d-0b5c-3410-a481-b5cd673df4ac","authorName":"Yury Schkatula","authorEmailEncrypted":"","authorEmailMD5":"","message":"Perfect wording :) Thanks, Stephen!","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-03-03T19:48:30Z","timestamp":1393876110,"authorUserId":""},{"_id":"bf7d7f16-baab-35fa-9fce-3e9d1a558195","authorName":"Joseph","authorEmailEncrypted":"","authorEmailMD5":"","message":"Like!","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2014-03-17T19:00:49Z","timestamp":1395082849,"authorUserId":""},{"_id":"cb9ab4c6-e21d-3af5-a7de-2335c0f6e4c2","authorName":"Bengie25","authorEmailEncrypted":"nVdDIZDJGRwqNDn2h87RFzIPg7Rp16wGEMhTktZ7dMtBEoL02Gcyv/9o3hHduCkaGpKmfRrSG5T2DtgSRoffDZswcNY5LaJQ/XImREkVUcuevd57QxC+e8DTUkxMycTs37n6dHG161+8rYiI7zTLJUdif0uvrGV+b0TP5u8GTADOTkKscFfOmL09tPCYw4HCYUaBGoyuqBWrpqLPao79oxqJ1QXbe+2e1/2ZRiJG0oAcVc+rwaszN3aMKcNvYp11boQUlVjzbtAtV9RVpCEr7mpM0K2pwhqXEpOCnxulUtF7QjESfTxKpPeB/dz9Tgi1UZSf5Oh6sPtM4qVzSZXE/PHT0ZBDOvAhBIZMRVaAo3VFecMnImyuVj4PmrM9QcJfT0VBO27eW2QwUB1VID77adShxXV3nEWwmai9FVjDeX5w6XWowuxqLsG0pHSpg2pVDaUhNCKoX13r6Uf/YX1BRVy35+y9fYLpQEmXD05lvxkQZNA2i9qOJi75Ga67jxBnLCAhaqoxONAD2eJJV+leESelJiiZNXS9c5Yy259IAxkr59mNHkwVIX0P4hyhXKzl/YawXCj4nLh6NbZ/P6oFZloGgu7as+D3tBlFeMfynuuJWD3djNgZ2rxY5T5lPwjyL6l8XVotOeiETzinkEamcm6rgF98Lov90oNX5TpM4+U=","authorEmailMD5":"dadde6abc68d13f78c8170d42540967f","message":"Now if only System.Collections.Concurrent has a high performance lock free queue that wasn't plagued by massive memory allocations. There doesn't seem to be a single-reader-single-writer lock-free queue. I had to write one myself. Went from gigabytes of allocations per second to nothing. I will admit that the worse case of a single-writer-single-reader lock free is the queue falsely thinks there is nothing to work on or it is full, but it is an example of lock-free that doesn't fall under \"don't\". Unless you're using non-x86, then don't use my implementation :-)\r\n\r\nGC pressure can negatively affect thread scaling since it causes a stop-world.\r\n\r\nMy single greatest example was some high performance C# program where a code-path that occurred about 10% of the time had a \".foreach\" coupled with a very simple lambda. This single line, which 95% of the time operated on a list count of 1, accounted for over 98% of my memory allocations. My program couldn't consume more than about 50% CPU on a 32 core server, constantly stalling on GC. I changed that one line into a FOR statement, and my CPU usage jumped up to 99.5%+ and a text label that updated once per second to indicate estimated time remaining now accounted for 60% of my memory allocations.\r\n\r\nDo not underestimate the cost of allocating objects.","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2015-03-16T17:51:18Z","timestamp":1426528278,"authorUserId":"disqus:Bengie25"},{"_id":"4d1f78c2-2708-3777-8a80-7aa7e21e5408","authorName":"Chan Fun Chiat","authorEmailEncrypted":"mg6xLTs0mYxmfELrEJDPJiuQGjQOp4D28Az3FeTgQFr0GlqECd2PDyTxMN2wH3K27kxT1mTF5G+g4bniZ+JieR55ZyADNFI+ExP6adBsTW+bC8enAeOfvjdk+IqQhzk9ZMz9GYzrnhw+76qD2NAAdtDfKy0sIEZAi24+x9iy1QOBi3yM3wEWQFrkxOGIo4eLvoHtOOaPDwy5D2+hNItzIjJX1pZChycqGeMVmInyWKFuOIJOP7s2FD95m/vxptYQFDyqQQ4fgCPIWyGzqyLA1vwHsoMYb2L3j+Swg3PDMz9hOwQoUMJH6fs1iKO+W8Sp5E632HlMsEKWuLD/jqMWMpEoUdbRL6T8As1CKSnh08lZ1VTUGVzwmDEJpiJqw4EX06k5JQuv9ZivNNMc0JrH/g6eS0exaPAZw2C62dN/Ag+TciomnPIbthS7tLrAN869WpHfSheo6Qh2tHcRGN77Fzey2WFUcsHkYnkfNFQmgzQSKIZTO7BwSoiQzh+L+3WZVmPkZP9ntRa6k+7fczNJH5FNXv5dmpNDqfc+r8PPqo1uM18iGGtTna6fev3I/up8loHTrXjL57W4Aenk59YIFH+FVKqcrz94OEfvZXlSr8cghQ9g0Qwl5Af/TuQug9Z9aFz1WI4TVDU1OfIaoWHe7rxNku5uUfs2P1rQ1br/NT0=","authorEmailMD5":"5dea3e9fa56bf704d900e2677b76792e","message":"This article is not for newbie to locking topic","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2015-11-17T02:38:40Z","timestamp":1447727920,"authorUserId":"disqus:fcchan"},{"_id":"b33247db-25a5-39f3-a211-4f608ecfe152","authorName":"Andre Soares","authorEmailEncrypted":"XOqQQAK8fV0xaDpTI8q7BByWf7qxU+CiPQebhb5jW27g9sYWYkHZGc/Wpa5bSn4+rf3vZtZhv6cRD/ZICjG9vom2tNKsNHA+5kSyV07Dhi6Q5dGfjq+Y9GnICgsEHbnQGfrf+56t4/6wXmrSXvq7R7yNSmSJ+CPPZkCUScGNAIrPnB7gtu72rqjWN+AY5uFZNmtJ993BEBaI7BmWnuoShpG7h+Zbjl/p0yLqu+Qe8AxpoPIbwDYsCQVsoQLS9iBY0q6Ih4iQQDHLB9Q+YxHSi4AUGtc4gU0t61nSWGwVp9iT50Y1y+2E4fhEPFu+GHTSTdAwEYFperRRd0wQBRAT1/IDN9brYqp0jfNab8t4dhkeVO4NIROC8FeVblElEQCTXW6W4FkDiIL9E02N+I63uZ2I2A0Ymq7oAdDXAt0HyKypexvGnVT28va74UxdyI/BImOf2THiXjTmsMrHmkGvbSom4vupl9YBuLs6NS+kfBuzC/pHPqy8xkQN1IZ5/+B3BmtA9rNFmq9SaIypNEYTw1tF6LS77TNTJs9K09HFYJHP8bzTXZiffTXcNU/kRs4OZmdRVq7qLZDFJvuwxT2NFrl6DDdxkmVsCh3ZSdMtG77q00g7z4uc6SGie5auje0LVPmD9QLrMcpuCO2Md9y54ifKITj4+/kMVBilJLqCb0s=","authorEmailMD5":"804aee742efaa7a85465e07f45fbac25","message":"Hahahaha! Very good!","postId":"2014_02_guidelines-for-lock-free-programming-4e71f98b-6b23-3645-b772-cb9ff9cb7e77","replyTo":"","date":"2016-02-05T12:02:59Z","timestamp":1454673779,"authorUserId":"disqus:andregsilv"}]