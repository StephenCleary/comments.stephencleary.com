[{"_id":"c2d18822-30bc-34d6-b666-45321c490d84","authorName":"alanjmcf","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Yup, setting null all over the place is a bad pattern to get into. If when one sets a variable to null trying to aid the GC, I can't remember whether the JIT thus then *extends* the 'rooted' block up to there, thus actually making things much worse. Or does the JIT recognises it being a special case of setting null and ignores it. Hmm. Anyway, just don't null blindly.  \r\n\r\nThe only case I've ever had to set a local to null is within a while loop on a thread:  \r\n\r\nvoid _Runner(object state)  \r\n{  \r\n while(true) {  \r\n Command cmd = GetNextFromQueue();  \r\n ...action it...  \r\n // Must null 'cmd' here otherwise it stays   \r\n // alive, which has a reference to our parent,   \r\n // and (if when forget to Dispose it) it stays   \r\n // alive, and so its finalizer is never called  \r\n // which means we stay alive, keeping the 'cmd'  \r\n // alive, which means...  \r\n cmd = null;  \r\n }  \r\n}  \r\n\r\nWell it was something like that anyway...","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","replyTo":"","date":"2010-03-05T01:40:32Z","timestamp":1267753232},{"_id":"c3a81cb0-47a2-11ea-960a-59ebe4a70545","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Maxx","authorUri":"","message":"It is never appropriate to use \"null\" as an indicator of anything. This anti-pattern is one of the most expensive mistakes in the history of computing. Just because you see people doing it, doesn't make it okay.","date":"2020-02-04T23:04:58.520Z"},{"_id":"04e425a0-6516-11ed-bf69-a7e5bc164637","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"","authorEmailEncrypted":"IgOw/GL5VWiSDkqT8uwjZw3jtlAwGvw2X5obE4Fe80fxUXbXlhIu0hiS6NNwT+MDlRYdkBKIPnBK89bruaKiylHWa33A6Xufet8Luqahq413+ow93Ag8IFfA1JEI89qzcEngFW7fDC9BK9OR6hnzcIUxIKFjs8oTyqvDx37/6FG+KGgX39R6EzlmoNXMHQivwoXfNI0JHpSDx2ex6FrCaoOp5OkZgMDech0Ov6u4I98EXx+PLSydp+TUqeAo6h7suPzBWn43+p2WSWnbEEvhEBb/7EkOUNRzjPOWalYaWX5zPb1Ad1riQbQU82FBGs4S4tLdtdW4SW6xTSGgDc8Lr74EwR5DoZYme6G+C+AOTtmX0TAFyHgP96gxiMyFEu8UMiEgDpaXXKa+S7djvMq0MNJr/q+xM9DLPFHULB0oqGZQAhjxh2SW7mDKfuwvf7Z/JvPMn//j6+yVRzOaJ3iq9VrKytqaFidVHHrgjZs9asJWDcSu30ho2EtYZ9UV6+vJwvQxBwL0Z3dWJX/yPfqlT8vASnLANrXmWURkxj+Vzu9ne4uuqe48APXydl4io1gXzkiumM4uqoZUY52DrRKJBB/rQ/USXtpjSmMoZalBmaF/xQll9Dq5SLQjpE2VeH5AprJixjAH2JGkceuEDZMOd+j968tsznKN9swJ9TmisqQ=","authorEmailMD5":"a31413df7b5f78be3f69a6e6789e2f12","authorName":"Gray","authorUri":"","message":"You say: \"An instance field may be set to null if the referencing object is expected to outlive the referenced object.\"\r\n\r\nMaybe you mean to say that the outer object is expected to outlive the fields it points to?","date":"2022-11-15T18:47:56.614Z"},{"_id":"e529d826-4de6-42f6-b8fa-9ae29c6f5faf","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"04e425a0-6516-11ed-bf69-a7e5bc164637","authorEmailEncrypted":"Ok2Pg/0Smz9tRp62/fLcrl8y1k2JzM5h6b4x2ixxX6lQkZnWUBqdtnwFGNExTDS+dOrqwsHfcpnjiHF9LH6VDMhLeYi0Nl6DIKNTuS1PkeJOLFoatu9cRTXvNJxnLzli+TG0/NPPSA4Ly1GacpM9sTJenzQN4Z8fLx5S3Le0Itkd3i8V/RiiKzHqbDCySDEpqa+LYSUwfP1cKaKsH8PzUUDEFkDGj8+SUs++KUol65LUrW1kcyN0Ud11bfghtaIyvbyQr+gaV1TsPfDIvOFVU/J0UVe216DYZNcqVn5CNznW2/DCcDNjxcIY1Th5bKpjtGMBqeiN6SHljoNa/Qd1WKrtkwsOqHFgRuk9lWtQ24207IfS2JeQLcXiENO9JIHYZwgj6woSUB2ciA6hOS9gMSwA829/ZF736CKVR3jkO0feGgsA2ryPbwByS841161b5HG6m83eIrLMFFcaofiuWbAdcZW0/XwIzu0OshTDkhzhjb+myzOnEBsh71Bo8MVbyr9e+bsEa35HkOvxCqdS6zKLCkpaYcMoOygXnLa9kdD5+9f2vt3MUwhr51Z15vm5tSLmkBcb5Ed7jOwKaqjjK2+VHZX21SzhLYclDmuk00tJb30O04muvhARlfpWvYxvtv1rpqedAN4kmjl9ztjO8DDkUauFVXOyKaskJsZvkLQ=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I mean that the field (which is the reference) may be set to `null` to allow the other object to be GC'ed.\n\nThis is the case for any types that latch into a \"done\" state and they no longer need to hold references to other objects that will never be used again. For example, a `CancellationTokenSource` will transition to \"cancelled\" at least once, and can never go back; so any notification callbacks can be set to `null` once it is cancelled.","date":"2022-12-30T02:56:26.0223030Z"},{"_id":"d4d8cfd5-a5f7-4ce3-9f9e-f7752ca74249","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"","authorEmailEncrypted":"Ofma4dmJOwjXj+X/qif9P5QRVKJgliL3KQtPH08U9nuYn7+VQswNul+0UJc7XvDwJZWFM027E+xmHf6Ejka3i5jRIIwp9uLH1HoBF6ciOiLtO3M0USdGgwyDUBhaKdcFG6KngFqVJdX84Nj6aha683wUEbvVPD5wIKB4Ug4O2KOpWUTv2FdvRpN1xqIw68k4Y7U/SDV9XsH93Ao+lI/j8pCTRo5yyox5/hthry6WFM/7IdDPZH9O9dWiSY5zd9xYRuNdle05llQO6/HuHRKCBbGDxeciucoQMpy6e1C3+d0gTqKFpfOsfb5aLtT3NvVTNp5mNj3EeEsaCo9832k09aPTuWkbiF2Y8RYMEefr8mhgSWwRiDCdRoa77wysN9zvufNWaTeBt0yp+iOjlgz9JkMWX7wAW5yNOvu7yyhVNjEICG82/bdB5NfqhPRMTDNcDBc18PYLk7UH8pRMSXkYbJtUOFjx5lQTVDWdKoUXizhM4y4BrkYUkQCx/cjeUCGT5Ct9CXwRkvEtxQYwQ9scmanMFzpLcVFqhL8O9USNZ28T7DEi4kT08XoM0YL0Reyi1GRQy9RTSryUPl7uz6Fvj00q0idQE+v+Fk0Z3eRY0d8/xW33J5a7QONiEdDioXy1f18BIHkRukW1/5tytn/WXg19Q/JQGXVRUBAHzOYdiSw=","authorEmailMD5":"3c81f2bd77ca8e083e10b656f29fe833","authorName":"Vasile Cuzmin","authorUri":"","message":"Hi! What about setting to null a field which has behind unmanaged resources? Lets take for instance a MemoryStream or SqlConenction. What is the diferrence between calling Dispose on them or setting to null? Thank you! ","date":"2023-04-13T05:22:34.5756254Z"},{"_id":"db104513-f9bf-40c4-9cd0-f970dc2a0719","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"d4d8cfd5-a5f7-4ce3-9f9e-f7752ca74249","authorEmailEncrypted":"L2jiGxFNvTthsccxx3+ODWkglZUFZ6LUwDcKSU5DbSEWhzP74k4KOPcZKZIVpqwWXeSYrpGAWcw2pAuLhw53Leok78g1OkVDLXSCGNp2IUyZO5ZuS5hqQgpI7HKqv7J5rN/sO9FIm3HedGyVm2sU7P4uU43lJ7uqgCqKQsmI+ttg+aURvxIQaamOh8YIJPGdxa8fUuPgQm612eXWCDiqea40ZEMoYjnclFo5EBiPlgtGsOmu5DWQsYjss/HCE2rQpmcA6nJzgwKNDFWSpRnE/xshvJKS/JAy8GWNk5BHPd+4TBNib85ouuPt8dQoeAzNKb0GMwFnftSoOr57JaNh+tyVtM5V3deAYgPBYwngwNVIsoGzvhG8/cnEw6m7KrA/CUa5yZxF7XfHa7zF1pnPiqOj0Bo45P/50GJ4KN9F8OS2BbxF+h7sDbvMMfcfHECtYaRooOslyk1zrQZaTDQIGtx+3oKLGeouvnsVeYZnIZOd5HJVu1d0XtkIWJTICTl6rN43CL/XKKkrJKC3FPmiPOofhF74OJRDKZrgYxCNoymQ+dIiSMLZ379ctpNz0Q4Tg5y/WN6v6L+LbL0oz6PpazQLQeZl2jQftX/Y6Yxk4XQnwoosFCQ4zivfIy9iDaolgWAUzOKwjA0b7eowLlXKRpfKFQPhHdLTKIUqn2tN7RY=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Managed types that own unmanaged resources are themselves _managed_ resources. So, setting them to `null` makes no difference. (Assuming: Release code running outside the debugger)","date":"2024-01-28T02:57:46.4746539Z"},{"_id":"78a209a0-3ff6-4e23-b58a-f8f015666f72","postId":"2010_02_q-should-i-set-variables-to-null-to-96695d42-62f6-321f-8400-0772fd1feb03","postUri":"https://blog.stephencleary.com/2010/02/q-should-i-set-variables-to-null-to.html","replyTo":"c3a81cb0-47a2-11ea-960a-59ebe4a70545","authorEmailEncrypted":"v77r2sL8j+K1MFSIVEwVis0dYCu17IimcqMM+Glbz3SiUOxJHux3Vsd/tehWeHTDsr2PusOUsJQRI1SgBoWKS4ZQsskHpV/1pF59ikISDT5G9Rk4LEvFTzPnOXDD5XGhHtxtzlpGRfR2iokwZz9Bve+ej2HTJcrBOVe9pppZoF31ibzx7NQ4RPM5jxuEZZNybuUMGWrFuTHXbc1kyNx4r5R6e53iuVbcuLcUgRcuPlkvhOexUIU4prrxFUL4T/rhCvpiKREEQFR2qzl0Lg5Sn6iagNi2ZEmuNL0RtvF4PX5qJVMn795iqlY6lgPgBnmrPyY4mUXLP8fGL2S/nJWpSTwext9jJkqAicQ4e+fwm5mpkQCXDBnum7u/ipJJgctr398E5z2+6xWdYRExmEG0aawoF3SxCjrTD0YgApAWH7yB3S3ZQnErqgxikC2GH8h1kaslAMvywJDXd0t8zj8UbnmGMrQ+Af47aNPlkKnYYiig4/oLJTsQ2M2w+ACD25R5Trn+w8BH5v35/ZXS4SK7f90PFRHhyJq0nMd/EJslq2v9d0DULyNgBNRcn8+xZHg66Z7pDB+Yq/4GNA5hTkYuC1QVygFQGAqO3GPWzFYMuETs+EkQgwHMtd81OwY+uxE5T+1jjd4JYtTPZNuYpseScssJ7uokLqeIFFbvcByIDhg=","authorEmailMD5":"125f7397ccc284e0ded942851b2e577b","authorName":"Ed Eaglehouse","authorUri":"","message":"Null is an indicator that the value is unassigned or data is not available. While it complicates logical operations, it's hardly an \"anti-pattern\". It means \"there is nothing here to process\". Going back to having separate \"indicator\" variables is more error-prone. If you find it easy to abuse, like many other concepts in programming, don't use it.","date":"2024-06-07T14:21:37.9994891Z"}]