[{"_id":"5901e222-2341-3772-a631-c10d367b786e","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Actually, I'm using an optimization there. The CreateAsync method is directly returning the Task returned by InitializeAsync.  \r\n\r\nHowever, this optimization does assume that the constructor will not throw an exception. I'll remove the optimization from the code in case others copy/paste it.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2013-01-18T19:51:32Z","timestamp":1358538692},{"_id":"5e120cd5-be09-376e-ac38-fac5500f21d6","authorName":"Anonymous","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Small error in the first example: you should await the InitializeAsync() call in the CreateAsync() method.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2013-01-18T17:31:04Z","timestamp":1358530264},{"_id":"d9a442d3-ddc2-3114-8412-59ee6814899d","authorName":"oskark","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"http://www.blogger.com/profile/04249663512046793009","authorUserId":"","authorFallbackAvatar":"","message":"How would it look if you spun up an IObserver where T is the async resource to be initialized which already have the onnext, completed, onerror interface rdy to go.  ","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2013-01-18T15:19:04Z","timestamp":1358522344},{"_id":"edf5ce00-51bd-3380-bd4a-4ab4f65a88a5","authorName":"Anonymous","authorEmailEncrypted":"","authorEmailMD5":"","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Good post.  \r\n\r\nI'm not a big fan of constructors doing much work in the first place, be it sync or async.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2013-01-18T02:40:00Z","timestamp":1358476800},{"_id":"cff8b021-944f-35b4-88d8-fc6560afa444","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"At this point in time, IoCs do not understand asynchronous construction. So your options are: 1) use IoC to inject an asynchronous factory type; or 2) use the Asynchronous Initialization Pattern described in this blog post.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"d71765f7-86b9-3d6c-9505-70af54595b9a","date":"2015-01-13T14:19:07Z","timestamp":1421158747},{"_id":"d71765f7-86b9-3d6c-9505-70af54595b9a","authorName":"Radek","authorEmailEncrypted":"AGR6hYLucM65qYwUo2sPVS83epw4n4F7JtWVU0jI1E0nbT9YH+tchP6wsceX2QASUzVKtl5FFoqrD9TtJqc4H5tRYlQkkz3TLwxSZ7SxAjHIjCk+vp4b2nPCmipNxyW+jQlL6HXc38Iq6bQO0wThbdWxqY3y+dCY+R5QaNTElACaXHYM5j5TUWSmBi3g8/Ykpb9vs15H7LneYALlV7XO2+BN42UD/b3GfR1aISgKvOVWKvI8aph354Mov2KUfBYCv/tZnC+Kwc9QJfWe6xc/55RpJvvE2LAoW/dwsK8sBMMK5oX1D1FK5c1kpJh5U7qcBbkUGPF58XUlyXwTdDFIaeJjwxDu4fZ9JVkw8S64xV41YDzU17liAfu0Na9AqKY1cKO5axJVOAokobC8hBDCQruUPt/9jjIUpgr8uqTo7wycL3bsyNf7lru70PJP7DRkn+0jBpJPgO8x9q0/zl3Yr10FMX9TtLs45QJVZ1Xg4e3zLrtyxUIVDb2GktFXb1nPCKlTRBHrg35b38ZnMwjKPw4XibwyoYe1mAOlX/sPKQioLJXtiJd7GYJX3g+Tse+uNI7j8etettbP68H9cahg7X+mvdY8chaem8/sCVVDEdQjgX+dt9rA7gPmVhARxUiBQWOElHXPm8vQbMwRRDbKyds07fz3jC5XSkvfhJz4nrc=","authorEmailMD5":"4d3d1e02c686272d092ebb686e8a6d4e","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"I was wondering how to apply this solution to the following case (WinPhone, MVVM Light, SQLite.NET async):\r\n\r\npublic class SQLiteDataService : IDataService  \r\n {\r\n\r\nprivate ISQLitePlatform _sqlitePlatform;  \r\n private IStorageService _storageService;  \r\n private SQLiteAsyncConnection _connection;\r\n\r\n public SQLiteDataService(ISQLitePlatform sqlitePlatform, IStorageService storageService)  \r\n {  \r\n _sqlitePlatform = sqlitePlatform;  \r\n _storageService = storageService;\r\n\r\n InitializeAsync();  \r\n }\r\n\r\n private async void InitializeAsync()  \r\n {  \r\n if (_connection == null)  \r\n {  \r\n string databaseFile = await _storageService.GetPathForFileAsync(\"myfile.db\");  \r\n _connection = new SQLiteAsyncConnection(() => new SQLiteConnectionWithLock(_sqlitePlatform, new SQLiteConnectionString(databaseFile, false)));\r\n\r\n await _connection.CreateTableAsync<mytable>();  \r\n }  \r\n }\r\n\r\npublic class ViewModelLocator  \r\n {  \r\n public ViewModelLocator()  \r\n {  \r\n SimpleIoc.Default.Register<idataservice, sqlitedataservice=\"\">();  \r\n }  \r\n}\r\n\r\nHow can we avoid using 'async void' and instead od this trying to use your any pattern when we need to register our class within IoC?\r\n\r\nThanks for help","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-01-13T09:36:03Z","timestamp":1421141763},{"_id":"84307935-c21f-370c-b700-e0fdc289d4e1","authorName":"Juan Loustau","authorEmailEncrypted":"DdL8DOgqmEAGg/4S+Dmv+LlEDv7uRrYY6Qo1aOAWlT232mH6VXFniNV+aq1z7xXAgBP7KiIai47J819PTGNNux/y6Kw/iSj2vz7RhSPlYnFycD92ntYRUEuZoX7wzVvTAA4TvADz6DwY1Oauamh7bc0sqoOE/4K+MCtlVKCWkiYX/R2sji2/DuZYQHisMZGnkdA0FuR55jANvk/mN5Q4FZqmLGA+/ksTMwUqlkM4lKpYCynf2uXjO27cTGHzq/lFe3r+NxGmY8CwSzTSzl8QBfAbC6BB6I9WJD7YzbdBUcssUEodh8AHu0PZ12hbU7jNj7redUrzUbiX38JBvhyEkd2CRgqBexdTmJXSSZjrus1DOqYwY/UrKCuOi52spIbYuV43f/IcBGqmjZycJhAXV8aqKX8Sogkc+gQtQwgC5ob8YBBIrwjisC3J4/hdbJ+sq30iQK+A7GydaQlqe4OW+O1TxYOvwlZI0f+axL0l3KnpHv79aL++FBgkRRSkkJ4ib0HUVnhRoSUzPSCHt7sJ9J64FQ9xr/yO9D5aX/PAVj5GxgNvXT0NuACgmmP5I2ED0OujZqA/OZA5BoA9xzG7ppwE4bYeyweBV00pkhevUuaazwifn9o9nMUtxKepUkfFKEBHZ96IYmmpVXzVQUmJ/4qDp4rCVf1JkQlN2C+vFJk=","authorEmailMD5":"1cff41e7d88698ee36c729d7dcde52e3","authorUri":"","authorUserId":"disqus:juanloustau","authorFallbackAvatar":"https://disqus.com/api/users/avatars/juanloustau.jpg","message":"I think the best solution is the Factory Method, because you make sure that the instance is never available while it is not fully initialized. To solve de IoC problem, instead of using a factory method pattern, we could use the abstract factory pattern: Instead of injecting the instance, we inject simply a factory, which in turn takes care of creating the instance and initializing it asynchronously.\r\n\r\nSomething like this:\r\n\r\npublic sealed class MyClass  \r\n{  \r\n private MyData asyncData;  \r\n private MyClass() { ... }\r\n\r\n private async Task<myclass> InitializeAsync()  \r\n {  \r\n asyncData = await GetDataAsync();  \r\n return this;  \r\n }\r\n\r\n public class MyClassFactory : IMyClassFactory  \r\n {  \r\n public Task<myclass> CreateAsync()  \r\n {  \r\n var ret = new MyClass();  \r\n return ret.InitializeAsync();  \r\n }  \r\n }  \r\n}\r\n\r\npublic class MyClient  \r\n{  \r\n IMyClassFactory _factory;  \r\n public MyClient(IMyClassFactory factory) // IoC  \r\n {  \r\n _factory = factory;  \r\n }\r\n\r\n public async Task UseMyClassAsync()  \r\n {  \r\n MyClass instance = await _factory.CreateAsync();  \r\n ...  \r\n }  \r\n}","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-03-28T23:37:21Z","timestamp":1427585841},{"_id":"eb983e8d-c6a9-31c6-98ea-ed6abec33177","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"I agree, and this is the pattern I prefer. However, to many developers, using an IoC (which is itself a kind of factory) to resolve a factory seems like going too far.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"84307935-c21f-370c-b700-e0fdc289d4e1","date":"2015-03-29T01:41:06Z","timestamp":1427593266},{"_id":"af651dc8-4953-3a72-9183-da3a10d7c6a0","authorName":"Juan Loustau","authorEmailEncrypted":"Ks+XfDjSTeso44O7i6m+8hldJ56yz7ZOo+YquQ4PHAdvWGDzVXP2CdhnAbqTMgaZZdUd6eyTrFqKuwNZyuDQQAllEhxsKAfOj03fdKo8C/HsTG3GEq6TlPTUiDHvW+IJgmFi6yH0SiwgNpB0q9BhIenv+zzMfu7WtdFIm+uKfAio0WImLPJX7+VK3uc8nEuiIRMFzExDuBhuDwr4QA1li0usbPLKTi9KsY7pI38tRrNK7RKiE7R+uV/jPbHP20PHkrKfIGixeYJ9w45ZO0pAmmbwDtglq3LVFyObI2++h7esRUwfnKG+UGwg9ODBydJFU03vcEzbo8p4VatKWjWiyZ33Ko9dZJHbGG3SnWGMeumf6ALJ1Ge7WgE2P0a5aBTJWE6XhNEfYsj+3H+J2CdWYRwWHXJm3qf673EtdoZNYxLCi+zSTf6CvoZIK9dtsGrIj82eY3xFukrw33/rIdbvDS2WivTSFUmu15Gh/iO3PTTBl1gs4OmhvRMuIf0MutzS2VwP4gp3mNgGo6RooRQpEKxVx/6PPsQnvdYeu+UAeadh59dVFQ0WmphAQ4T91Eiqz4e8SM4krSI0AYfm5RUXVptkWxkkso5Z+iDJaJnbdCrusOrqFf9Q4d/lLRH6ZdMyPRhf9eLciUhiiWGBHjkMrOT9CIx5r32ocWKhEqsKR5A=","authorEmailMD5":"1cff41e7d88698ee36c729d7dcde52e3","authorUri":"","authorUserId":"disqus:juanloustau","authorFallbackAvatar":"https://disqus.com/api/users/avatars/juanloustau.jpg","message":"Not if that other factory has a role to play, which is that of fully creating an instance. I think that benefit is enough compared to having to remember everytime to call Initialize after creating an instance, and the control code necessary to enforce this restriction which is not a business restriction but a infrastructure one...","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"eb983e8d-c6a9-31c6-98ea-ed6abec33177","date":"2015-03-31T08:15:47Z","timestamp":1427789747},{"_id":"07f589ac-968c-3641-9c1d-6d3fa4b1a71b","authorName":"xleon","authorEmailEncrypted":"oo23McLwj1LSYdZo/bP7W6PlUlbldT6qctgIzt5NtIomUPEiKLAxV5P6gHo5XBuJqgbzpG29u5GjzJvrR64CYMDa75agoSuCajUXmM+t8czyPyLtPYBKJ13XNadurexl/XnwJqH0w1JyXMe4Oo1qbwWJHHvHdNYXEvP4RkNGUyIIeJo3xLynvlh32vGvy7q6kqT5J2OPXwYaQsNfCF/HJ+h7F9e1nTvkgplPRBkFylNRcwgtjyXVYyDyGM2Rhurdi1oIGgQ1mp8cX6q1sAT//RwVP3NTADGm/up2/nubxhDDq6vlByRNQjl0RRXJw7CxuA/hA0BjxJLwasB2yFBW1AFWNLgLGjU5pyFQjC3FULVeQ9QeRDk/ThC+TpNiY6RaQUmoskBapokvz/EsyWgW9KPrJOFhw6AlWLvuCqYLKHJTKcnsPjSt319m1F9cwGgWfEoWpkZ0g0LR0cW+NX1nK8gjk/c5BTmZHROaWf7GGlwMXk3cWIrfje4kiuqrLvIx8mHNgmKJn5Qc2Z2Uue17E90Uir5Kd09fbBSS+xYi25DIOZMLSaUGpK9Xf2GTxbc6kkT6Lr+iMVXFjfQH7pwV12lEQ5cCya4sk2nm1xq8B3JML7nBhN6P0tn6ehkPJjsk+ADrBx1RnjkLVOUNyi/UW/Xamx38vFnsfpUAD1p8G8Y=","authorEmailMD5":"b9371d959d3460b285f7f5f679a45c73","authorUri":"http://www.xleon.net","authorUserId":"disqus:xleon","authorFallbackAvatar":"https://disqus.com/api/users/avatars/xleon.jpg","message":"I´m using the following approach and it´s working correctly (even I guess it´s the worst practice ever). I´d like to call a sync method from my ctor but my sql connection is async so I must use an async initializer:\r\n\r\npublic StockService(ISQLite sqlite)  \r\n{  \r\n this.sqlite = sqlite;  \r\n Task.Run(async() => await InitData()).Wait();  \r\n}","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-05-06T18:34:42Z","timestamp":1430937282},{"_id":"8281c10d-2063-354f-8b25-621c752016d6","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"I would recommend an asynchronous factory in that case.\r\n\r\nThe problem with blocking on Task.Run depends on the context of the calling code:  \r\n1) If this runs on a UI thread, you're blocking the UI thread, which hurts your responsiveness.  \r\n2) If this runs on ASP.NET, you're using a secondary thread pool thread, which hurts your scalability.  \r\n3) Otherwise (e.g., if this is called from a Console app, or a background thread in a UI process), it's inefficient.\r\n\r\nOf these scenarios, I'd only find (3) acceptable. And of course the StockService code doesn't control its context, so it's not a great solution in that regard anyway.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"07f589ac-968c-3641-9c1d-6d3fa4b1a71b","date":"2015-05-06T19:28:35Z","timestamp":1430940515},{"_id":"88542ac8-9aa6-35fd-a192-a5b9bc1ba941","authorName":"xleon","authorEmailEncrypted":"FNyu5aKO33JUn/ytKgJ9qz4ZEFqShdsO0A6sp/Mmsz/wX6nTvEvZQ6ThpVFfM8erMjRzLuv22iGJj8JjOozTVia60gOeL8PTuawuiqwGiVFLGdR9lJJZSLvFZIBxCqP4zLcT+vpK1fKp5uziMWzkqybXLMG2Oaj5UQ6FDDdvk1ZBp7/BdBBWEISdTfNJjGwRHl3Q4UxeflK8NstxRLrNWBOWmIsASpD9OeHUbqqThF6WcpEviktZl6hFSaStGwR3t9GSi0h63aBj+jroflIWXvjQ2DcLqou+p3ThsstFmXqTWAOyaBQE/CLX3yxbXb1I18kukrnouSAbKqhLaLNtTSWDZ9CvLfsQUV5HMFWqmDFSd39lb3SJcQA0BcrT9Lh8rKzkfxb3aK8cPdTJJBOo5GtX+82Q0KIpbx5Ikj5iAIAwrC50Sp3LZMbRqc+O1SnDaQTIyf5vukVy6sdsDyswLTgqA4/HBKnW9+SOoCvNjnTDTL9R1fxJdI1yMrxjvwKxKb/4nhmOSgB+iye5GjYXs6l9azBa5wE5gOYbeoxya4uHEaAcp2y+tbetXN19H+PMCPQUFW4uSCv3fFU1stD02/yWoDGYnJr8PcQS4IkooHx0r593wv+FrQGPXO8YtFu11yWzw9pAWFFWnsChrNCB3ebUtuSC+nFyl4ZEAzaOWu8=","authorEmailMD5":"b9371d959d3460b285f7f5f679a45c73","authorUri":"http://www.xleon.net","authorUserId":"disqus:xleon","authorFallbackAvatar":"https://disqus.com/api/users/avatars/xleon.jpg","message":"Well, this code is running in the background of a mobile app, specifically in a view model living in a Model-view-ViewModel pattern and it´s not affecting the UI thread, at least that I know.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"8281c10d-2063-354f-8b25-621c752016d6","date":"2015-05-06T19:53:05Z","timestamp":1430941985},{"_id":"a23cd98a-3c2e-3318-a27e-bd4d50492157","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"ViewModels are normally created on the UI thread.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"88542ac8-9aa6-35fd-a192-a5b9bc1ba941","date":"2015-05-06T20:25:45Z","timestamp":1430943945},{"_id":"9f661ca9-d088-3a77-8f0c-62cf5922a78f","authorName":"xleon","authorEmailEncrypted":"upMPjOLME7seExWarbJnVZscp8w8xn+StZMUsgKefzSxOgl0cuuB55XEpAxd/DYzwEBRVUwSU26MmMKhZMq2jHl8BtzqGKi2ILbvJm+I/d1jR2FhkOrRWX6fd0uLSbl5agLZ0d8HI5870J9Bp5Hls6i9nvEF8txKsKFn25ySE6H9l9/uAfVQ6/p/hzAoFXNzjaAHWIpfk4p1Qxhe29X31P/2QJfS7IMMskSNtmpvVEVQ92eJxyeDpAv0XH9WXXQrejX5b8AwePfLfvZ8AlUjEan9t7SZYu+RPYCgVFJQH0LaY8ZggIfycKlGjGBSzEXGd9i1c5k2vzKoMecULa9dfyHzFMeHAyV0DWFzKxIVqP4D2tHMgKyCPDjdWkdVtdpRFC2g7Hf147Gi0XI06uk0vZubHHmSOAroYTgsDq4te68hRmngdZLOl4IkqBmpMteGkBWHnqEiVDFnD5buzJLA1deO0t4Pdtj2iQfBToib4jxCL1cugcZha0P/ARCoAj5LOX9jX3+oEvcGWaMhgtUih0SfaE4YIVRVExM2Vr3xEVSvIFwT+nyHJNh+QCyIr17nxYunQEJgbCz7XdmOH/yarDRR1z2ODTjElGmEDXiDHzveU02h/9tcIeq2LMdho+eyTlVQj5+ei67Nf49OhYSWji+QVTBp7ERq7UQRtOtTxU8=","authorEmailMD5":"b9371d959d3460b285f7f5f679a45c73","authorUri":"http://www.xleon.net","authorUserId":"disqus:xleon","authorFallbackAvatar":"https://disqus.com/api/users/avatars/xleon.jpg","message":"You were right. That code was blocking the UI thread. I tried removing the .Wait() part and now it´s not blocking. However this generates some other issues","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"a23cd98a-3c2e-3318-a27e-bd4d50492157","date":"2015-05-07T00:04:27Z","timestamp":1430957067},{"_id":"f0bddaca-443b-362b-86fa-dfad4318aeda","authorName":"JB","authorEmailEncrypted":"DXO0w3IDrHKwntOj50NHzH+M0eeyCPTAeDBvQuCdfAiAWhAxcWBluvc8qBxM+DoIERZNhxvNNPPvQXJtf6Ft2pRGPpMTR0BP5tSsfieNxOMIgprNt7ztu9QzhzrgP7j9KkLMonYXbC/FkMV4r3JqkdibXo4Vk2rJxpBI7L/i5vwpsUTsSihJ0bJG5QAjg8c+Ki9g4c4CjO95tYvEikg3yE9BI7nBhITBDJCmGW4BAzsww7ve3sp/BcFtbdhmZ6PPUGVfpBNLivulnN9+MEBScCXOnwk3HDlAIPAeFVNbixvbJETQH13vxasa0/MT+DDqyezDHGjRIFRbT3aDAOt5xx2WcjCzuzRcxempK3H0omlbKbsQ8Nk7NtuxHVXNVr+ZNTOqETiUc5gVuiWukeMKmf/lWjljOdDwtM/k7ClhF641g3ZJzs8u9BFR7nJ6svB3RJ7zjIi+GRcOjEFgUygYo4WFCrLUNMwwM74T6rblh6SzuOvLtIzGD17NixJ3wOvgJrvXHUQXZYN1Uqpu0Aff1+5aOm3bZIhwvUR4Wp75VHKPBbJTMZHIGfn2Q7icQv7LexPJPChvx3/2MP8U53izs0LFrbEeA0pvwkXVSbwDq+7zb7wsZlaVczEVeHDcv48Dv4zW55sb0MmEDq5/NKM6JsfTuK+/WSXTf/15I9izDHU=","authorEmailMD5":"50f7c5e5e045a49607266b8ce75da172","authorUri":"","authorUserId":"disqus:jbudiscus","authorFallbackAvatar":"https://disqus.com/api/users/avatars/jbudiscus.jpg","message":"Very helpful post, thanks for taking the time to write it.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-07-15T12:34:42Z","timestamp":1436963682},{"_id":"227a128b-7912-37c6-8c7c-292776254a1d","authorName":"Matt Oswald","authorEmailEncrypted":"uXzZIH9fdznzzvUGo6C9QSjq2LwNOcU7J22Sr6H6hNsErA5vGMfbux3wCeRlrWyQKE43BBpg5eEe1JXL/6Fk+fAK9A3iLGuT8I0EKHUmr8OKV4OZS2/ZECMsJk+aEqSxdf3RhF0liTlWOeKz63fhgcUWNVP+85CMGMUJbEr+RvVVDRIerx0Q+gxkJRk20uNut4t+VK+c4fzyQuJmDgshzs5QoSx+ELzonizITdbqJwY+g6bv7qVi9Ws8QqdCPZ1Uf4Chz7ip3UcmRAVuZyr2VoQl+pY97Ixq73z9U/sxREPmf/wDhUlgdPq+ilzbRhZHAE7thGOew3RYlwCncBbwNohD5PZ77+olk9bWxXcI7oUC7CYb5YWUIuI06bN0fvKsttRITeINLyFvvSbCDN4//yeps5Bhxcu/jKZNN+zCwCSxiKzKcztH6pCexcJ5R6gevVGe0nluSPPaz8h3Bxi1EF+65CuPV6mZ57v0El/vqx7hAEbECkYRt4+N2XLKsk3mjPe3iwBIAIZzgu6JwZuXJK0WoqILTsCOKhe9/pVblut3N4jUN1LgKJgxM6UQT4WvAXUyjly+eNEoG1KiUQu8Y93YsvXqnZn7sXlqlIhDURnAk0yP2+M8JT+ThGKNqGE0twLGHGva6YedvT6TbYmNOSzEIuUvWfByo3N5EMcgNhc=","authorEmailMD5":"520e7086639935a32fbb6255322b40b9","authorUri":"","authorUserId":"disqus:moswald","authorFallbackAvatar":"https://disqus.com/api/users/avatars/moswald.jpg","message":"Stephen, I'm curious as to what you think of this solution:  \r\n\r\n``","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-07-25T19:11:35Z","timestamp":1437851495},{"_id":"f6e97914-51fc-314a-b602-17a0dce67cf1","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"There's no indication to the outside world that the initialization has completed.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"227a128b-7912-37c6-8c7c-292776254a1d","date":"2015-07-25T23:27:42Z","timestamp":1437866862},{"_id":"3057755d-0660-323a-ab0d-16dcdbfccb3d","authorName":"Matt Oswald","authorEmailEncrypted":"bz6vJEzjPUR29TqGeOaRjOtM24qmqJ/pfPkoBUKcLWEhGEf9UVZx/Uh9hcNk0NlH4YSxo77gmoWWQVnrEVfPi+vpOmuhz3EuIE+GmheEYdbjGlW2TXo+g3j1/TR797NO3Ils/RzIGPT+GP1AC4dV0DgicSLCpSg0LgjqsZkys9vDPSTOJ7k+yXqFOarlRX2BAt9WhokEsjU7/5cOr+g2dHwecKRQd3Qa2F1RZH5tjV978YYb9KX4IrEMxticWaibeOXI8NFyCUFbAWWIy5J3Y5JhkrnBk493IkOi0oV+MDEUIIGS/+mK4xejx5Qv/4QEn0Bhv89gzEgeS5Tv29Iym054TX6JwwLrj8c2hJlEQjbp3pkbThjsfOeq9iTMzS9/jUHbZFUhxstERaRitChyf4BaNP14Ri10acm5LDmKHzoRanYSVWErxD1TEmHEXTkIhImFPzjuVpG+NU4yek3FqVahuFNQgbgYEO1dn5xpIBqQGF4WbjRiNWdhkrnwcxf1YFKni8N45UERMSDiMvOvlxN0t6eFHyq+ScyAc7KbjmvJaPOFk4naBfFKJvpeyF0xwzxlpMeJUgIiHqSu3i13pvXFDX5/eMmr6KIiIXY+c1uyULOCWJzOrdeKtQiDKRRZvM5wi+YL9yXBGMBDvf/7+LzyCT4camTdNq/LymNOMyI=","authorEmailMD5":"520e7086639935a32fbb6255322b40b9","authorUri":"","authorUserId":"disqus:moswald","authorFallbackAvatar":"https://disqus.com/api/users/avatars/moswald.jpg","message":"Oh. Duh. It's been a long day...\r\n\r\nThanks.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"f6e97914-51fc-314a-b602-17a0dce67cf1","date":"2015-07-26T01:15:53Z","timestamp":1437873353},{"_id":"0e6d96a4-5bd5-3c9d-af31-7bea7e322411","authorName":"Nicola","authorEmailEncrypted":"Hq80b6aqHg/+K8gQ7+B5lWiaJ9ymONLoSFT1sm7tTILsk7W+E1bGF06j3o8Kiv1Z5g3wTibGF1SSivfPBcRC/OYlHg5EQYJBHxOmbNaymJ04UBKyq357xYC9JmHYe00IrCNGvHLAGJHEi5AkHsWVgH1mi2xtEHrn3ByzFoXp6mCKwp7h9quu4Dl4jt6e6xWxZTx4j2EC2YzJPBbCH5H4oZFZBIXh7oR9EHW/ocQ3zEiHmh4IrXRltrBvQAWhKyNVIqA0z8gRu+AQstyKOsqbnV2eHabLRSf2Wfb+Mne/FYS8179SzqBpiVDqfJ/9olQ2aoeFGZHHS5T0R3ifmUvC4n4AjX6bQkzNNyaoFB8/YwunSMgPMDzX2/gAs4l00iRPFBc3QM+ef+Lvvb39NksHRDcR0nOmyCYiT8sbP83KcppmZ5CeeOGaFVyfrGfmC6Vc5aJ07vIsQ8PnnmFzcxq4UwiZBl4HcXQU5PxQwfIACUQonKBPVfplfFDP9m8NjXh86Vswm63stWZxrBb6QK1GVn8VkCSJXCyoCqcLlwJkcHZ4vN0OZ+5sn2q87bcXBpdfo3NKp2iI1KIcrW/krcqYKqQlR5O0KYKvv1aE7/15k4jcjjeA5Etzl4Sb26lE5UkUTKRwKmi0edRvYm/g5XfrNqyXr/u0gqAnJ8mbLyev7w4=","authorEmailMD5":"fb25e025040feaa51b5e281ba714b5c8","authorUri":"","authorUserId":"disqus:disqus_CsasGSfR0Y","authorFallbackAvatar":"","message":"Hi Stephen, thank you very much for your clarifier blog.\r\n\r\nA question about use your pattern in a context ApplicationContext. I explain.\r\n\r\nstatic class Program {  \r\n[STAThread]  \r\nstatic void Main(){  \r\nApplication.EnableVisualStyles();  \r\nApplication.SetCompatibleTextRenderingDefault(false);  \r\nTask<appcontext> actx = AppContext.CreateAsync();  \r\nApplication.Run(actx); // THIS FAILS  \r\n}}\r\n\r\nclass AppContext : ApplicationContext  \r\n{...}\r\n\r\nIn AppContext I implemented the Factory Pattern but when I try to pass the actx instance to the Application.Run() method compiler fails with the error\r\n\r\nError CS1503: Argument #1 cannot convert 'System.Threading.Tasks.Task<appcontext>' expression to type 'System.Windows.Forms.Form'\r\n\r\nThe problem is that I can pass AppContext but not Task<appcontext>.  \r\nWhat workaround can I use?  \r\nNicola","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-09-04T22:31:46Z","timestamp":1441405906},{"_id":"23210125-c275-309e-913d-44534577917d","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"When you first show a page/form, you need to *synchronously* initialize it into a kind of \"loading\" state and *start* the asynchronous operation to retrieve the data you need. Later, when the data arrives, *update* the existing page/form to show the data in the \"loaded\" state.\r\n\r\nI prefer using asynchronous data binding for this (but the same general concepts apply to WinForms apps): [https://msdn.microsoft.com/en-us/magazine/dn605875.aspx](https://msdn.microsoft.com/en-us/magazine/dn605875.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"0e6d96a4-5bd5-3c9d-af31-7bea7e322411","date":"2015-09-05T01:37:21Z","timestamp":1441417041},{"_id":"ef9712f7-0ee1-33ff-826d-e3daa9382069","authorName":"Kevin","authorEmailEncrypted":"S+909Wo8UiWUPeD7OF6oRXG/vPH6ExiCDle+L24lkcr7I4Jb/m8jXzLt17iOizTBqUsRiOu3M/2jjpqmcLIJnrKmXQy22ap0mHnsfwio7M3mHPD+PsOtadjZPWoka/YSJh4PMcp2P4og3cymxjgofyBlI1AGO1JVAdoBdbgXB7pbudl5z8wpWMBMuC5Oyo58humzYw9Zy7C8MAp7qhE/HWONOP/r5y2PdXAiId+TYDbNIh/4y0oB06CoxDs7y0h2iE28zkY7t/OKsp16bl8g9IyvhzCMLh0AF533fP4WFN9FB+qAU1K17urwR3acU3TYBdDeMM6afgXbhgZVZfLpk1UPfr3u0u1NJxfLuGadnuKzUmUbWE94tRG1jy01nv4v6oeKysz/gVbdVF35Nej2PzbOEa4qbVLX5YPY9SgfZ6KsCaJSpGP6Nc7PP4b5VhZ2wrqMctvExE9N4ankseqlC6tewgNsRUOu4/xhljdHPS/kxwyU1C74o3qtuKteU1jS9cvKTW6chsZOabk31QldWZo0tqM7ZjCimahCq4Wp87PDyQv/5whlKho7X+rAizb80gfFGCQUhdHAoPoZDDf5tghh6lrNzyVZ2GJ4Y2CGN2HtJxtg/r+XMOOwEA7h4vtDEjAWCVcafcoQgcWyrICUyOvH0wvw6sclXWH9RF8HOsE=","authorEmailMD5":"8c607b1c90c18830d86e2769e6cc131e","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Stephen, thanks for the great post!\r\n\r\nThe Asynchronous Initialization pattern is a much cleaner way of solving the problem that what my team had been doing. The only thing that's puzzling us about it is that we can't figure out how to unit test the initialization. We'd like to wait for the Initialization Task to complete then verify the object's state, but when we try to wait for initialization to complete we keep running into the deadlock you mentioned in your July 2012 post, \"Don't Block on Async Code\".\r\n\r\nCould you provide a simple example showing how to unit test the initialization?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-12-14T22:21:01Z","timestamp":1450131661},{"_id":"1ece7bc1-f849-3880-a2b3-0f2e5cea95b5","authorName":"Brian Varley","authorEmailEncrypted":"T95VTp/ov6yenD34NMvSwx4A0moHKqkI8OoyQRGwaH6to4mV5StnHxCqhxN6cPfWH1x9M8empxj7f8mi9gDcXpv+7ZN5a2giEwRD/4YnPmCtCQ/2f7zKq8MCoSQdso2rVl0uQA/2FftCkDrsk3zmrKvKuTRrJgzGYDqNvjcPJLTQKXaSbehHhLAf8SxYL4jZi4h3E+3RuIcxFeeIpHrm0e1j6L8vvolb2Hz87IkdWvez9SwAMdwwp/Z91d1KHxGfJtUTSw0O/BQ8M7KnqJ1WTMc2fnUdCYWl45PDFwh9+Ac6i1fBOcysVZwNludMogdHB+E5MEtbFGZkwzQJVF+PztsN8QdLlG3oRBbO0EFMYBNPr60PCOADdQ1hN3SYVj3ELyY9Zw6A2P4RIth4xsH/gnMe58nuyJ+rrV2e3GijRF3Fhs0zDszKiX8DYSSRuC0nT4V07jXRnLYZFPWBRCWdVuBZ/abEd+q9yX1cyjndpakEUg85K350n5aZz8j04yM88cjQSPscQ8nEx0/RYS4hJJM4DGX9zh8haRvk88EA9OC77/igsQsxGSG7dvyKTpaGUcUh6gSyhVPJ80nQ5luaiIRlxhFKdNtxknLhbIGRiQLHru7Cw043iQSJ2TAJCYlP9PcfDCYSvufTy+irPWyROFMZSO5efXfiUxGaABMJ66A=","authorEmailMD5":"0af9e5bbe347bfe7f879b99dba340fc8","authorUri":"http://brianvarley.com/","authorUserId":"disqus:brianvarley","authorFallbackAvatar":"https://disqus.com/api/users/avatars/brianvarley.jpg","message":"Hi Stephen,\r\n\r\nI came across this post from a StackOverflow link, when looking for ways of initializing the async init method call. In my current project it seems \"Asynchronous Initialization Pattern\" is the way to go from your article.\r\n\r\nI have implemented it successfully in this VM: [https://gist.github.com/BrianJVarley/0426cfb18f7c55d0ff3d](https://gist.github.com/BrianJVarley/0426cfb18f7c55d0ff3d), but my example below is calling the init method from a message listener which is what is confusing me.\r\n\r\nNot quite sure how to assign the Initialization Task to OnSelectedCustomerReceived() that contains the async method call. Any advice on this appreciated. Link to a gist on that here: [https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb](https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2015-12-15T23:59:45Z","timestamp":1450223985},{"_id":"de73d81a-f0a7-35bb-b608-9675b8c4abbb","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"You should be able to use asynchronous unit tests; every major unit test framework has supported them for a few years now.\r\n\r\nJust be sure to use an \"async Task\" unit test method, not \"async void\".","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"ef9712f7-0ee1-33ff-826d-e3daa9382069","date":"2015-12-15T08:41:22Z","timestamp":1450168882},{"_id":"08dfa76e-6410-3cc9-a8bc-bd0a13873ce9","authorName":"Brian Varley","authorEmailEncrypted":"a5D8vj8polC2jGsVRh/DZ2ZlRDXnlkSDDFxjFw6MerCB+POTdMOYo47KVbKp7niDRtJw3dhClNLCW7QvgyW7muTcFyxqqD1HkCoDO36kOWtx9J6C2SDWj4X28iivamOkc/QsrKmElIKeDwIDZQdTKhdEABnKOrgwaNWHfb3HsR2s08791J7cNmzeEYa4nJ+y2XAU6PR3jc898B/Ay4kRRYkxgxeB17GlmB49DzVYekqlBo2Akd737+kV0xVRPB/DDR2CFxhThR+/+Jz7YTNye2t6jPp5CNQs7vuRhYxTJlvYVXUl4iFgff5n1iDMuC0HfSyO8brk9S4RBQa2i8xkzGu/k0W14pQtvbwdyYIyr99q1LX26KVtH6uBD4iGvImYSHhaeuGz8rvYbkIx8pGVbUEYM3PyDVnyL3AVlhCmJR/EEQqvM0VETOTbx7ZPwik6Mzt7fpWv6qP2aGhXnWqpBBeHldXh21SMW/OqgY6DIfCifZh+ITvGuANat89p2LRVEHmkKf4m9qo23F7S4kaiomtfo+m1rG59NctIzVVbuNQn/HGhZFbhMSFCCnI8XlTkG2gxAx5G8tWUg8eiYKc7Jyi9crnjsbRM75r0zABuWw842cdMFHjX37ejhFkxyHmdy2GzjjEZL42OH7qQmCdEGuI3hDlbmxeUSYVikzyemGU=","authorEmailMD5":"0af9e5bbe347bfe7f879b99dba340fc8","authorUri":"http://brianvarley.com/","authorUserId":"disqus:brianvarley","authorFallbackAvatar":"https://disqus.com/api/users/avatars/brianvarley.jpg","message":"Okay, will check that out..thanks for advice :)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"49618665-1ac0-3ce5-9b6a-b8b58e80571c","date":"2015-12-16T20:47:14Z","timestamp":1450298834},{"_id":"49618665-1ac0-3ce5-9b6a-b8b58e80571c","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Sounds like your [ImplementPropertyChanged] isn't working.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"69b23160-8daa-31c1-b853-418850c76aba","date":"2015-12-16T20:43:52Z","timestamp":1450298632},{"_id":"69b23160-8daa-31c1-b853-418850c76aba","authorName":"Brian Varley","authorEmailEncrypted":"pI0HmrLMPKx3VU/3VXCm1frBa2JGolHg3lT3ZTjtItL8z1pE2UL5eaxRYyDaLp+dLF6uu5M71x6EK6UrMBIWzadDN72l7myLM+B15EFYuAA8iqJy9aZBE8UCyaYls85zJ6RrlLiGfHv7xTIeHUb66i8ZllLB/VSgJ3pYEzTGaC9/hO8NVg/9ZAFhwQqKSdSU7/2T5tC3lloYR539iQe99rojpEL4ZdNLfTD6rmKuivpBtzMHLmg4p7hKpFUoKxyHK1xH1EYtlJ4aGKKw84IVaekF8vicd3GQGRosoGBjQKfYiKnqLKwVl6oYaqVZ9ZWRGqmy5PwjW5aH+1qdI3zggc08BDUxaVoqsO4LWuUYna+GkhgDkh97NQGO9owHYKuw49XQ3Q7xCqORE0IDtJBbRiNW5YPmoapiBOtGTL//cVrUHQUq+eDFi5um9ytGACYvo5RFrclF1iXzOCW8UYoHZ7uezXwezo7fw5DDFd1NJE1eW2iLSYcFC1J/JXYqaoZHH3Um2Jh6PLLaJ1kVFH9dY4f8WM5SdcZ+5jcgt7uMjhl6mLaNqI0X/RhBmfBzxm+NlKV6oa+0a1tbf0r+ZtPMf6BPfP5FsPsX/9r4jzkQ4D3GV3dRkThG528iZPa+Sa8CWZP99SgGcTo/pPBELwu9NZkOqB/rHlaPlNZiT+OMo6M=","authorEmailMD5":"0af9e5bbe347bfe7f879b99dba340fc8","authorUri":"http://brianvarley.com/","authorUserId":"disqus:brianvarley","authorFallbackAvatar":"https://disqus.com/api/users/avatars/brianvarley.jpg","message":"That makes sense. Implemented as per above, changing the InitializeAsync call to a Window loaded event instead of in the ctor.\r\n\r\nNow though the UI binding isn't showing the returned data on the View.\r\n\r\n1. Stepped through code, it shows that the list is being returned to the VM in CustomerOrder list, but the UI doesn't reflect that.)\r\n\r\n2.Checked the data binding with test data, UI binding and data context is set up correctly.\r\n\r\nAny idea why that's happened after adding the AwaitableMessages implementation?\r\n\r\nThis is a gist of the current VM and View:\r\n\r\n[https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb](https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"6b74d5c3-db41-3b09-a62f-7da6fc101783","date":"2015-12-16T15:54:45Z","timestamp":1450281285},{"_id":"6b74d5c3-db41-3b09-a62f-7da6fc101783","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"This is more what I mean: [https://gist.github.com/StephenCleary/139f6b313788032fe9c6](https://gist.github.com/StephenCleary/139f6b313788032fe9c6)\r\n\r\nFirst, create the wrapper for messages so they can be awaited. Then implement the normal async initialization pattern. By separating these concerns, the code is cleaner.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"84decb0b-922b-3386-8016-234c6ac27a84","date":"2015-12-16T13:10:38Z","timestamp":1450271438},{"_id":"84decb0b-922b-3386-8016-234c6ac27a84","authorName":"Brian Varley","authorEmailEncrypted":"lG6DyCoiTIQMWPjbnZBcoa2eKgZ9ydsIBpI1mfEehOFk91BNC4wYd4vBQVlkPQ2uOxoKpX4dPWVz8QWx5IPXYICsFiePN/L36rUPvpDRt4xe9j0Lmjvld5ldcQX7UiT6SJhFiBFcadhRxqSEbeW7W/dOIiS2dHw2soBYA9q2PclmzQDLgNj3ALVo9pukGA0g3y4Qyb8FJc7lDLOP6orkzuvPIiW3IPrG2ppdgVfK2IAyAlzBAJal/tsXEyC7GMiR06OWyWSK+YTl9pCsoQutdfFL+tfgN0TTRMHJlYyzajnud7NnxyYRGOb4/v108T5a/2KBtKCRhjd8yOdi9Q6iKC0j2oi2iNkVzSefTUXt0IxbJMJQoqsiszLa9HPY6R23FK4LP0sOA+fJi+9PFmPVfyTvQBYDkigOFXJMPCXnyfwH+6iVBFWFp8t+UOC+tE7oYy1jKDPR9sNkX38rIuh2k1svpB2Kia6ssRYQNG6mgugwnRRvF7R7kuEeajLIfTxi/wjfIdNnC1709avOgfyRXiYstceDt8f6vt/cRZ8zSrCHBm2FkR1ZAkXS+Gea4UeiB6m01APT5ESy5Coc8VkkATqxvSiH9I/M8/brC/BRDUnoDlumY0k+5L3qS4RUo9H+YjxxXRDydRGvTfSQNrQHGqC/VyhpbjjgaCDh6goeatU=","authorEmailMD5":"0af9e5bbe347bfe7f879b99dba340fc8","authorUri":"http://brianvarley.com/","authorUserId":"disqus:brianvarley","authorFallbackAvatar":"https://disqus.com/api/users/avatars/brianvarley.jpg","message":"ok that's what I'm looking for in this instance. Can you advise on the code implementation further? The bit that's confusing me is setting up the async wrapper around the listener.\r\n\r\nI've attempted the above by setting up the TaskCompletionSource property, then awaited a call on it's Task in OnSelectedCustomerReceived. But that doesn't seem to be correct: [https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb](https://gist.github.com/BrianJVarley/b1daebc217b138ac6beb)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"ecd4d8c6-0b4c-377c-841d-59e659fad2b0","date":"2015-12-16T12:20:04Z","timestamp":1450268404},{"_id":"ecd4d8c6-0b4c-377c-841d-59e659fad2b0","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"If I understand you correctly, you want the initialization for CustomerOrdersViewModel to complete when the CustomerModel message is received. The cleanest solution is probably to write an async-compatible wrapper for receiving a CustomerModel. You can do this by using TaskCompletionSource<customermodel> and calling TrySetResult when the CustomerModel arrives. Then you can await the Task property of that TaskCompletionSource<customermodel> in your asynchronous initialization method.\r\n\r\nLogically, what you're doing is first creating an async-compatible wrapper around the message listener, and then consuming that with regular async/await. It's probably best to factor the async-compatible wrapper into a parent or utility class.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1ece7bc1-f849-3880-a2b3-0f2e5cea95b5","date":"2015-12-16T03:00:08Z","timestamp":1450234808},{"_id":"00a64f59-50df-3e2e-aadf-f5d0ad69848c","authorName":"Luís Fernandes","authorEmailEncrypted":"NrbSyg9gMP8MfpVHQSefDZ7zvnP65xmNV8YHsDqaM0GQyrgy2pTGCk6kuNjl2nFtv5ch+NM4zUAm7XUGS1b6/tNs7+TRUjG3tYQqdbNW5FWpaFZlMDpi2YBriBLl2vpdm/mLIUg5rkIBKn8UP8RNQ54P0KWXH+iMbNivu636pTv2hwMgUb0kSur03a6tdtmOn/T33zHKK6J6sjXDKCVs7KiQWRv2E4/Vy0v+Oh4iX8CSVoeqlcrjj8Zfn4PkGBfC//OqU6LrNsqLQuruabaTacnOEaz6a2Z0kTL37Fm9mHhPTy0FyMVSdEfFIMTk1PYaft2p4yfkSU6UimlbMB4z3lU5tL0Av+17/G4xlVDdwyBCV10uedbDyW/xhl0fZQHZ6tHvrHY14IoeBExRXk4sDPBiRWq6kq2pFDI76/ZO+m6XpRX6dWQX98jO5GRNVIh9dC+ZZsR/iVeaZkko0tzMmq19knuo56Hb20gmtiu7SD9SaufHKstFJaG4bvXeMnDuHDNyD04KJoMYLeY8vPsXqep8U2flI4LtE0JbmpQBcck4PEJUI901FXE6TKDjs23rl/uacehS81BsMNnEIW7YrGCmJj4vIqqN+Mi6VPbGRRXpZYYh+dP03d5R5Y9v3x+NHwRozE6KBC29hyC/qNQAFrbo2HaQB7MkZE9oEi+M55I=","authorEmailMD5":"f35449b8f0a5a8c3a4a3825517425881","authorUri":"","authorUserId":"disqus:disqus_IUwcFx2IkQ","authorFallbackAvatar":"","message":"Good evening,\r\n\r\n I have found this article really helpful and wanted to ask you the best way to make it work with a Singleton Pattern, where there's already a method to access the class. What changes would the following require? [http://pastebin.com/PpzMDwAE](http://pastebin.com/PpzMDwAE)\r\n\r\nThere are some comments in the code to help you understand my questions. Also, when trying to retrieve the instance with 'MyClass.Instance()', I would still need an 'await', right? Which would imply another AsyncInitialization?\r\n\r\nThanks! :)\r\n\r\nEdit: while searching, found an anwer of yours at stackoverflow suggesting AsyncLazy. Would it be possible to avoid the 'await' when retrieving the instance? Perhaps by implementing a 'Result' inside AsyncLazy?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2016-02-11T00:29:07Z","timestamp":1455150547},{"_id":"05925d73-bad5-36b6-94ae-1e404c9578a6","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"For singletons, I recommend the async factory pattern. So, instead of `public static MyClass Instance()` you could have `public static Task<myclass> InstanceAsync()`. Since your `Initialization` is private, you can just make it `Task<myclass>` instead of `Task`, and return `this` at the end of `InitializeAsync`. Your implementation of `InstanceAsync` then is just `return _instance.Initialization;` (or you can just expose it as an `InstanceTask` property).\r\n\r\nAsyncLazy is a good possibility if you want *lazy*-initialized singletons, but it looks like yours is eagerly initialized.\r\n\r\nRegarding these questions:  \r\n> I would still need an 'await', right? Which would imply another AsyncInitialization?  \r\n> Would it be possible to avoid the 'await' when retrieving the instance? Perhaps by implementing a 'Result' inside AsyncLazy?\r\n\r\nNot easily. The best approach is to go \"async all the way\": [https://msdn.microsoft.com/en-us/magazine/jj991977.aspx](https://msdn.microsoft.com/en-us/magazine/jj991977.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"00a64f59-50df-3e2e-aadf-f5d0ad69848c","date":"2016-02-11T18:49:43Z","timestamp":1455216583},{"_id":"1ca0fecd-6e98-3792-8fee-b269ef2a507a","authorName":"Luís Fernandes","authorEmailEncrypted":"BWY1KOQP7e1AcdkyQIhfx6xw332Ll/1j44iwlNQcG2JcwU15sovaEQAh2lr56Z6R9jQUjopUDWoB/zwF8bvzrS4bhKFKmpxyArjuemwk28MsLKYNJ16svaZBU+tp8XDAtT+KT0KQM9pBk0Xz0mhC6fG4Kklvgp7VEkq7ZhXlbOnY5S6SyeP5rhq6dI+X/wF+3m3CaFR3eaYvMUiVADUTEhj7iPHWUTDftgO87Z3AE6HeRXQvSZ/NbgDyYYNFmHrRAxbKN3taG2K72bjgQ6vqFdnTauOhWB1r2Up11mBqR3j+CJ3ogkPywxhpGUICaHX2upnGodoleoBbSvHI70ZQ8IiSbk3F77hWWsuQpZ+QQezCnc1CrzReQTULUUTzXm1thGEAupIOQGQxcmalewgWp/yH48bQz3oOd5zx6bSol657WxDzwWRioqpj0uOY1D4KwFOJOq+CeDGr69tniQkrEzx3dk+ncwvVryswhbHkNaaj+8dZzgtkj2UAABIHRSsJJOE6PH3FZtuJ6jS1+NEAzoBectC43X5vQ6d6srFl0Lxg0LfhbgcKskMdYgjZvO05QMq9Jym9XbXe4V2jbSaDo9F6B+xTP6ney6KWfzOLhnl6w79+uvn8LTvYFi0rd8oO3zakCH23Zwm43+jBcdI1SBfzkJm/DhqSOBknOBza6rM=","authorEmailMD5":"f35449b8f0a5a8c3a4a3825517425881","authorUri":"","authorUserId":"disqus:disqus_IUwcFx2IkQ","authorFallbackAvatar":"","message":"Thanks for answering,\r\n\r\nI understand the idea, however going 'all the way', in my case, implies handing async tasks in Android Activity (Xamarin). Simply making 'OnCreate' async won't suffice since it does return void, whereas we'd need to return 'Task' if I'm not mistaken. What would you recommend then? TPL? Something like: 'Task.Factory.StartNew' ?\r\n\r\nThanks again","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"05925d73-bad5-36b6-94ae-1e404c9578a6","date":"2016-02-11T22:00:58Z","timestamp":1455228058},{"_id":"01bd5f79-5052-3704-b094-f58f286d13dc","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"`_instance.Initialization` can never be null.\r\n\r\nI recommend that all consumers of this class use `InstanceAsync`, and that they all `await`. I would remove `Instance()` entirely.\r\n\r\nMultiple `await`s on the same `Task<t>` are perfectly fine.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"bc94b147-f774-3989-83e2-f9b197e733e2","date":"2016-02-12T12:13:05Z","timestamp":1455279185},{"_id":"1bc947b8-9310-3c48-a3fe-32cde07c668d","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"I'm not familiar with Android Activities. However, if `OnCreate` is an event handler (or *logically* an event handler), you can just use `async void`.\r\n\r\nYou should never use `Task.Factory.StartNew` (use `Task.Run` instead, if you need it): [http://blog.stephencleary.com/2015/03/a-tour-of-task-part-9-delegate-tasks.html](http://blog.stephencleary.com/2015/03/a-tour-of-task-part-9-delegate-tasks.html)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1ca0fecd-6e98-3792-8fee-b269ef2a507a","date":"2016-02-12T01:01:14Z","timestamp":1455238874},{"_id":"4d7f6f15-cd61-39a8-974d-ac9586c3e720","authorName":"Luís Fernandes","authorEmailEncrypted":"n15vDb0OKRoSvNo/VnilgmslZIH4bWAJy1Ap8jdrpYzTDmSux+R4spiOt8q1WUpzm2uoB2VrGzw1kxRowHXvaGUvmXk/JzIfsG6Durwica7XHEufaIQ5iMdKLn97Nw9AtGb8+TDhL1B4WJyG0+OqQUhB26/8VJHCcc23+ZnBI9iVDIPWnC4+1O1TKT/sZJ0Hm/AKE6bjI0o9BuQwVIJPdv0c6wvDGnKX2Tr7cij+yb5oe/+B+YHhudCUifOm4vfN4wOC8LxNkiS+CfLwq0FhehFrYGSazDQM4InHBPfMigH4M6p4N8UDzpLYXzAF0kHM40fjzGU/Be4wdSgsyHZJEmiLRK5Gst5p42dVcTe/rwS0jatH5q8Eu30m+Ea6dGQIBSz6LPnQS/zlB664o0WlEl3Hpg0HBb9eVo0ihHeoqBDcen7Q/ZDo1HXJYWI7tPwCxH9rLW0b7y9T6wNwCFInj211bnmaYN8tr53re9F+3wA5IelihR3v5IrNtEAKtR96+dhF+ZLtLES5BAbrKArVzTJ9ShnHfavepl2ESQmi3q4whVVEXHRcgQ+pmb8H0+eOPtDSDvk5bbtvrjonc7pvtdCPpYfyMxA5clJBopXKfy57/e5UKb5yGFBtqZjYynz8QW7dPQ6bNN3xPSB2LLNNsi+Oi0jB3TCfvPyg4y6kpZg=","authorEmailMD5":"f35449b8f0a5a8c3a4a3825517425881","authorUri":"","authorUserId":"disqus:disqus_IUwcFx2IkQ","authorFallbackAvatar":"","message":"I am fairly new to async in general hence still being a little afraid of spreading the 'zombie virus' unnecessarily. on the other hand, it makes sense to call it exclusively from 'instance async'. Mixing async with sync code wouldn't be ok. I will try it later today. One last question: I do have some other questions not related with this article specifically. What would be the best way to ask those questions? Email? Thanks once again!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"01bd5f79-5052-3704-b094-f58f286d13dc","date":"2016-02-12T13:20:03Z","timestamp":1455283203},{"_id":"bc94b147-f774-3989-83e2-f9b197e733e2","authorName":"Luís Fernandes","authorEmailEncrypted":"nb3q2ILkdbeBfQOGFkh/X9NlBxpPKZC4FFfhOe6I94FezaTDcZEmrYTrG+3cj3bSs9rQqnXfhq+7yjOhOSjGEPSgU9csuKnwmsP94xRwAH+oV+KWXLPWXzMfDgeut767Yixg1Dk7+KqLpXfWimZifeOcF6uw4lK21iCVfYttIes0BXjnZdkZVb2E2OcVH9PFsFIggKexYZCzYeAxwoUBy22YEdMOeB//phKA4MoTIcWCIJ6i5bTOu2jtpOC3EPwchRRY8w+GQbYLdeLwYJCru+ABfpc0H3K6ky8sAXDngMQu6JQseTl1fJSv+GDjE/DlVj7kTtyNOU5q79EFgS7IeWsIr+wmcOP6Yk75bJnWcQi1HBCRvhuYUDORMYw34YnYe1hohFs113kyza9oYMathbEGpmHYPbiQ2uHf9YrszJSDjsICRr1tJj4jmuZPPXqr+ZP4SbRSRg6ItmkOR9GjeF7FOkk9K0CRzXIzOXxP6NjVikzlarMBuL4uZBxMqYfH1gN4KNw3dDQOhAT9D1NWhMg5AjDnfZ6Qadk9N2jPYrwfHPVR0E2UyvHLkwLlFoBzBQxXP7FKWR4KQnW4XdZURcqLQBevoSGoecx3XpXnBHGG44Dn+QQiMz10hi88kwHimfd+uqJy4CYYUVqfTGRQueulqJYJUBS99DSogXKH11o=","authorEmailMD5":"f35449b8f0a5a8c3a4a3825517425881","authorUri":"","authorUserId":"disqus:disqus_IUwcFx2IkQ","authorFallbackAvatar":"","message":"OnCreate is overriden, so it's not possible to make it async Task (async void doesn't seem to work).\r\n\r\nEdit:  \r\nJust tried it in a sample project and I believe it's working with 'async void OnCreate' + 'MyClass instance = await MyClass.InstanceAsync();'.\r\n\r\nIt also works with 'Task.Run', but it doesn't seem needed in this case.\r\n\r\nI got some questions, though. Since it's a Singleton class, it's expected to be accessible anywhere. Do I only need to 'await' InstanceAsync inside OnCreate? 'OnCreate' method works like the 'Main' from a console so it's the first method to get called. Or do I need to do it everytime? Or perhaps expose an 'Instance' method that just returns MyClass instance? Like so: [http://pastebin.com/gXfutUZm](http://pastebin.com/gXfutUZm)\r\n\r\nIf exposing 'Instance' method is a valid option, shouldn't I check if 'Initialization' is null? And if so, would that be thread safe?\r\n\r\nThanks!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1bc947b8-9310-3c48-a3fe-32cde07c668d","date":"2016-02-12T01:43:43Z","timestamp":1455241423},{"_id":"989b35aa-c8b1-31eb-9150-c7ae2aa5f3d0","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"It's true that async grows through the code. In my experience, though, it's far easier to accept it as it is (and allow it to grow) than to try to use something like sync-over-async. Sync-over-async only *seems* simpler; in reality, sync-over-async always causes more problems that are much more subtle and problematic than the problems you have letting async grow.\r\n\r\nThe best way to ask questions is on Stack Overflow.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"4d7f6f15-cd61-39a8-974d-ac9586c3e720","date":"2016-02-13T15:06:37Z","timestamp":1455375997},{"_id":"e92caab7-e371-3557-9f41-96f42be341c8","authorName":"Luís Fernandes","authorEmailEncrypted":"s8i+65rq1VYVuIKQd3u1AIO8dPhwdjSJnMbO3ofh2mLYgRiM3El/bUBJ/ejMACi+BJwUuwN3QPx0uHKZMxhz9u8Xdz8a+7QZ6UGCF1gwVpqqzEjOBujDZTp27VHz9OECaA05GF4E/6vvTixhqJkRnW5nu2JmUiVZIgTH/xP0qiq7HshOPg8GkNon8uM2FkvsMdsH7lsxjVUTzvG2j1jIulXBmjil2QFnpFNTEtI844L1y1/Le1QwGZUhGqR/jMmldC/OX7q1QrLoWmwwf1xuta9IGW+8zA96e3rsP7zfQsl3CQ6K8GXnk3EMklJeW0TPnAD1FoGB/w16RiR+RCzAX7rX6ekhCfftF4/dOQOyS7Hnd9bgOaIu1VZIHlxVAsebwYbaP5vMG1dQY5CFbZznezfTcUB6s4hyGn/3YHjtid8wqyBxR8JmZMc3pIv1HnfA1WuKvW4/kXGVta3b2ncpNSIdZT/YZv2uVRnUZsRft5Y/f056sSfISjDRpahhjI7vfjUfMoXpvvTgaOaQZmplQSlkOyW0/qswPUlWAOrHemQBrPozkwndeeU0BzEflt3QscCVMyX+tJ+5mTrYueh4xMYGnD1cdJAbw21CZXksj8ZlAgj1msZQva3IroohWhbbRgMN7Z/wSmR3HaRxEB0WGa+9UnSZkmQALv4kczqFsPA=","authorEmailMD5":"f35449b8f0a5a8c3a4a3825517425881","authorUri":"","authorUserId":"disqus:disqus_IUwcFx2IkQ","authorFallbackAvatar":"","message":"Will do, thanks a lot :) Also looking forward to read your book when it arrives next week!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"989b35aa-c8b1-31eb-9150-c7ae2aa5f3d0","date":"2016-02-13T15:43:08Z","timestamp":1455378188},{"_id":"1ba9aa9a-b984-3cb5-8ab5-be0ae5b17a22","authorName":"Luís Fernandes","authorEmailEncrypted":"c+aDPeSKlzCfb/y2LvY9Y1qGrbz8i0Ntlab+WTo16mn4TTfBXH9LHcck324m2aodlWbK7dSMm6KTugj9f89ophgVCvc/4DGWIG7bF44LOJbMgQIjp2bsA5VbW1z1MuQoT5Rth2i68IAd7eRSizWc0n50k/6DikPyT8W2I1FpHiWij4teGnvpKFnDLMnbMO831H+aItZRKqHpPvM0dI3y4sl1vSes7qZLUZJ7lWi76CkTTURTjNCWQnuV/V301cZTkppaWTj5o+PnGAuzjGZpL5+O+4Y03tByMTjUUaeFuO3en+K3z7W/2f2D+9/QrFV+7qEBsL2cw9X1UpNw/ERRcJneeCFV+65lbT2xnzSSnErEkiHOI6e2kWyzX24xS2UPryqvOlpFJdWCWY7oUg7Anhta+9ESX42SMC+YStEOmgnkuWCVQovOIIHhzp8DAA3v1qUq/XPMPh7HEWHAylA/UKvP2OStkkiw3gcPOBtRAyRrAL6F/m55E+Zle5vhbUvj8SZ0mN7j8RSZPesRM3gT8qN1To9mEDJRpu937ENi3blVlipKm3u4a/K5RjQOUGeQkk5HIdWML5xXmP/1dNO5Twd233A2gFUMv4PuJJtvAjYbmzdB+jjH+6AoU+9OqHYW9vrcf43RjEHx6PUlsO+qSE87bKg1z12ZFGKxQzF1BKI=","authorEmailMD5":"3587d6e1f69adc340c89c46d11a95038","authorUri":"","authorUserId":"disqus:disqus_LfgagoSDen","authorFallbackAvatar":"https://disqus.com/api/users/avatars/disqus_LfgagoSDen.jpg","message":"Hi again, Stephen.\r\n\r\nI have tried to use [Task.run](http://Task.run) to call an async method inside an UI method that cannot be async (returns bool but it is overriden and thus I can't change the return to Task<bool>).\r\n\r\nThing is, the async method I am calling is invoking a debug message event to which an UI control is subscribed to in order to display the message to the user. It doesn't work that well though: For some reason, the message itself is sent to the UI but the list view doesn't scroll up automatically in order to show the new item.\r\n\r\nI have then tried to use 'RunOnUiThread' instead of 'Task.Run' (see [http://pastebin.com/VgakKcy4](http://pastebin.com/VgakKcy4)), which is recommended when doing some work which then affects the UI in some way, and it works!\r\n\r\nI kinda understand why it works this way, but at the same time I really don't. In short, I am calling an async method, which doesn't run on the UI thread at all, inside a 'RunOnUiThread'? Isn't this paradoxical?\r\n\r\nThanks again!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1bc947b8-9310-3c48-a3fe-32cde07c668d","date":"2016-08-12T22:42:36Z","timestamp":1471041756},{"_id":"b2642eee-baa5-3759-a12d-db7a32869590","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"I'm not entirely clear on what your code looks like, but Task.Run will run its delegate on a thread pool thread, so you can't directly update UI elements from there.\r\n\r\nThe best solution is to avoid the sync-over-async in the first place, e.g., by making the overridden method return Task<bool>.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1ba9aa9a-b984-3cb5-8ab5-be0ae5b17a22","date":"2016-08-15T13:19:16Z","timestamp":1471267156},{"_id":"b7998fe0-9786-3cd3-aba9-517de21925f6","authorName":"Luís Fernandes","authorEmailEncrypted":"wgRJsdujhIjNPYNcCPw2iQMZ20+ydxb8c8UFLgwqFzEDtTorf/ncDbJeSrB4MACL07yRJoNgYIJrel3DnwyR6+fyXA96vI3ae3ry2+ar0iYPX+3T6Rcfq3Rs24mpEj1M/uepSi7BNnYLPXJnyW2iphg51wlVmu+9z4ku/ranvNm3gSN8Kwp0LDE6Rgm48AyAOnDXAc1m3vmdvilixOmgHx4ySLXPgT9FT68OTTD89Ik4Qi+nScWg+MCnca+MkNk6vk0tE/MftGmyUkZYrMMt0K9HKWLQ4c5f6M03qbsgKpXinrNPMZ0yFqIYnbw3kM8sfNCfrq+g/qJ5F0YACdy0y2qm9jmntlSkkf8j5iOtRfKyw06NUN/VPiNQqoxSa7s8qE54LAJ2B76AH7zeLsRzPn5CvPz6x6pCLtUx1OAjdzGIGshygZpARbGJCWUPpDuNazZYl0E7PxfwXebfF6npPtjquAo4mEVER8IUSBKIMBdhtzFwNcUPYOEiadVY1dYnW3uD2l/uchnDW/XsgHkHKYTnnSt4s6zocLKOgw27PFQnoaI1AuMVOJmtkA6EtI0R2j7BRhjFweKkDBmeWfIqIg9CXSNxCbjsEpb/i4RO9D1SxyMbc5v8GRkz5lBEii+z4uVtS6+hZeBNO/O3C1VzMb9dgGRiOzvZFp+9er0maCU=","authorEmailMD5":"3587d6e1f69adc340c89c46d11a95038","authorUri":"","authorUserId":"disqus:disqus_LfgagoSDen","authorFallbackAvatar":"https://disqus.com/api/users/avatars/disqus_LfgagoSDen.jpg","message":"Ah that makes sense as to why [task.run](http://task.run) doesn't work. Either way, I am not able to change the overridden method return, thus using RunOnUiThread instead.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"b2642eee-baa5-3759-a12d-db7a32869590","date":"2016-08-15T13:39:12Z","timestamp":1471268352},{"_id":"9a8855bb-931e-310d-89da-bed3af784dff","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"The second one creates an async void method, which you should avoid for reasons laid out in my MSDN article on async best practices: [https://msdn.microsoft.com/en-us/magazine/jj991977.aspx](https://msdn.microsoft.com/en-us/magazine/jj991977.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"c84c00b3-7d98-3bb6-bad8-709fed19a852","date":"2016-10-22T13:13:02Z","timestamp":1477141982},{"_id":"c84c00b3-7d98-3bb6-bad8-709fed19a852","authorName":"CodingNinja","authorEmailEncrypted":"DUFkZvrUOjmpQaRq9y3Jt1RYJyzktokkCLEFK7kTay6JI5K32gLUXYA841st51jxpDJrlUZmAxHmLumH/P2I8rJHcBHrAtQ8FVGWhQAoa01pyvuSwbi5CoPwunEGf8VJy1LDYdBMMNtZT/esl/GpbW91hKLG5fVdGrlCgqGVPjkotl9ZE6/3OHylqVfTPdsKCc/6OfhjJnkNP9tVmDQTWYLTW1QzFr6Ym9WOZmZ6ke4TJkCDjJloEuJp4N5WMrEt283mg+o9ZXkWRD4D/Ph126sU8NxidGYecl1oLyZ4iqEhHS2NSEne+aShCMr3Zqnj43+mUlH3DTxgPOpVxhdtX48WxgSQdAoEONhZ4CdVRzcGUcyJrZ1+V0G0VUC4+xrr8rRZ0IjOujqwYQpwDBvGvUXXckKNuydKCmdgIbe2Hj8ByftQ8hOTvcVgCp099fQTkwl2goBOmFNzpmHnOSG5wlBlghbCbzVkCwjhDFK63uXTIPNMpEnyxbWgAY6fDzGMDFl1bagChbQ6bBMTQQk3TIWhG/RJUyw3HupQEabYg55Bxdpp/WRzS+vQJtG0Y7bBH6ShwYz++O2fS2F8l/SD+O9YKiqJWYG4grWei+pO4brw44UJPOMiUoW9AOL7Y7dtK+5s4HPZs1u0VIiCjLcwStCLHumesfV30mWJHJfAHIQ=","authorEmailMD5":"b60febacc3cd097b7b0595fe78b5bf6e","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Hi Stephen!\r\n\r\nWhat fundamental difference?  \r\n①await Initialize();  \r\n②Action act = async () => {  \r\n await Initialize();  \r\n };  \r\n act();  \r\nsolution ② Avoid await keywords, it can be perfectly applied in the constructor?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2016-10-22T05:23:35Z","timestamp":1477113815},{"_id":"30a2293a-411d-377a-abe3-f3aa0c3c3954","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"The factory approach uses a private constructor and private InitializeAsync method, so the user *cannot* get an uninitialized instance.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"3b98f94c-aefe-38d2-9507-d42ce33ce71a","date":"2016-10-26T21:26:35Z","timestamp":1477517195},{"_id":"3b98f94c-aefe-38d2-9507-d42ce33ce71a","authorName":"Eric Rey","authorEmailEncrypted":"UtyNzFVqv51K+HO/nkzk8MxmoxMmH8LZZ/IIZ+Fcs1VZPhOuJF875GEy33jlOyZQ7DtTxRZnS5vmR29LHEowmYXIpQSlZ47W6VcjgIGEGF0XLu6b86X08w1+LiuTLkOKfviqvKNhgFWtq4fBwlnMLZC9FK+z9cfJIRr4K2SxaiC3ZEqFY/LLkh4PKjFjcPIq57f5beJhIYcRhHtYHZmP0k1DVpPaW0A8uAO51qaFqeNG6VSzhdvobqvQ9tluDbVGoheEprHiuBMi9QSeb3IqZtW4q10AwB5OJnV8bcRIl45aGuIJa1/CK9X6QFdmSz8UJhpcfbORv2m2HOvouFhfMqxaD8j5Z67/jiBg8txinjHjnHab+9GgLDFi1/ZWOEbaE/cSGe3+zPBF+RnV2rCNaa+e5gFEQZKS8BddS2Cu8yYZzJAWz5NUuvwpU9KMHMAAjUGtAtqotGqaB5SeL2KnexHbvS2AYo4v8iP08MymVvQYptlEZxWg3fIvVaElt1QSctygSI58WMzFHMijYTS3N2/EYCjB8tUHZO221OqqSk7AsLeu4ji/W169Zxs3oVBinMW5c79meCggIEQ/ciozeTtP9Icp0AYkSJ0NnnHxAnkemx8viMCUj6QGaHWC82lqsEBYH4gxcDOgP+QaDQWDdl8/i/ZnehvmMW5hXLP/S2U=","authorEmailMD5":"792f0ba41abefea3485d6caefc678c90","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"But there is no way that we can trigger the initialization code without calling InitializeAsync() explicitly, is it? So there is no way to make sure the consumer of your class calls the Initialize method after newing up your class, right ? In which case the Factory would be helpless.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2016-10-26T19:36:06Z","timestamp":1477510566},{"_id":"4495e248-0c1d-3968-8233-3c0ef2d6ca46","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"The factory pattern works fine in an ASP.NET service, or if the class is heavily used. I'm not sure what the problem would be in those scenarios.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"a904c85b-e4c6-326e-9ffc-1fdcc6f722f4","date":"2016-10-27T13:14:41Z","timestamp":1477574081},{"_id":"a904c85b-e4c6-326e-9ffc-1fdcc6f722f4","authorName":"Eric Rey","authorEmailEncrypted":"iIi78gNN1zxydB1tUOvEbWXrjB8tXxPdkrjY06G5ecx14nW/vanofYl08pAUsC7X+oNsbcvPW6ZUcYF3U6vtr+CmOV9m5izIyP1tYmfY6C8ajvoRaUSIy+O2igJndyzwpB/52GuZThUKrzfHvY8Nk9NxZZkSrTnmxBTG3DFD0hpn/gzFSAVVivzmQvyKTtFkVsZDb4Os5rXdOkKzea8tePMpjuY2poKzE2Um71FdCsU30gOjS6lTW5a7deFV87HKeMU9cc/fGylYe+Yr04TJqJh8O/osezkff0pF/lhyYQyDOMok0J85tVcYRi0oOUAk20E0/av44BsWdQ0s0c/5HRGZFFSb9ScOwWvHNz35TFVocLy45m7AFc3pRcyhS591Mt7m897dcfPWFr1ZgbRNeQMQA82UntPx+L8osXiE3fhAvaDRO9/Y8rdhQMHakkndtoxCeN8PAQ1xOGXZ0OEC8dozk9fMNngtMGCRQow93Z+1WcrTiKnT7IL8qBRAoRlQ9L74NcPby/9+39iLo3U0HBuprxbZWzaWyh6mr2eqt5FRlmXH8q120QFSQLtSfolsezDESM7esyswlUcLtd7bt0KnB4GkMrFGnZGaaj8IfaR/OsUH5SY4AHUKtTSGs0t3AsZqW6KOhSSPAppImrWig4HJKnjw/ASR4c/yWpq/xgk=","authorEmailMD5":"792f0ba41abefea3485d6caefc678c90","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"What if this code belongs in an ASP.NET service? I mean, if this class was heavily used, doesn't the static nature of it is a source of trouble ?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"30a2293a-411d-377a-abe3-f3aa0c3c3954","date":"2016-10-27T12:21:15Z","timestamp":1477570875},{"_id":"85280297-64c8-392c-85f2-76133e753224","authorName":"Peter Wood","authorEmailEncrypted":"g+SudLefBZt+SpBW246+uiJAgMfxYufu5lzvtxtQARq1Qbbj2AN4P0y9iOv/ODLortuxIuruqNhXV3aZAWdZ4P4zNzbuh7Q4qoi4mjxtFbaJWPAcskPBkOWm5d5m5+5RLoTEOgMcxweotILZinNGWvdC16UlOst+5DOknLrDg3f2+YuVa1WBRJ09HGO8sTiaIe5CY0icoN13P2odZ/4d2bCZfsu2oiXBvY4A2eXr/L0AUOYoAguymwZFjo4h8V/mt43kbVK4NnMKw0GNIyJ5NtftI2B3mhMnsJo5FF0A5R9rGBcFBRLJptOQFGzzXGR4lbzP1mEt1QLZ29TqzROCPheX13g7aF2jx6lCmJZ123CXltfT8sVbqA8D/ri6in01MBlG/t1SiiUm7CRCWqbh2gfPWniRpR893N5TfXjfyzN7UIoxw2m1a1W4eXmLe19PnKh4rV0NLnqhU5K7MzM/qVck1UjFPipv262DuI3ZP/MxpSGMWfwrT7CXeQkCI3+Gd7eDTMboOdp43D4RWPy6yup2XScMQYDyHinOLZD3yK8ppDq4AdzWQJVjr+t4qO4tLeRMQUQYoHmUKiuQCUPcnDi1pbvsQKBUIlJptpfPOK9ze+kE8tILJLD7B0M109l6VjQNw6SSgfeHEatZ2lZAURL3BzbbNXas78NmFJ2mJrQ=","authorEmailMD5":"4038ca7cc712abff3122d11eb5975b68","authorUri":"","authorUserId":"disqus:disqus_lxHWzNFSia","authorFallbackAvatar":"","message":"Hi Stephen -\r\n\r\nFirstly, thanks for your series of blogposts on this subject, they have been very helpful.\r\n\r\nI have a situation where I essentially want to construct my object synchronously and use it as soon as it is ready, but I need to call an async method to complete the initialisation. Is there anything fundamentally wrong or buggy with waiting for the async to complete? Like this:\r\n\r\npublic FederationMetadata()  \r\n{  \r\nInitialise();  \r\n}\r\n\r\nprivate void Initialise()  \r\n{  \r\nvar streamAsync = new HttpClient().GetStreamAsync(_federationMetadataUri);  \r\nstreamAsync.Wait();  \r\n_federationMetaData = XDocument.Load(streamAsync.Result);  \r\n}\r\n\r\nThanks!  \r\nPeter","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2016-12-15T12:52:54Z","timestamp":1481806374},{"_id":"d6021016-aedf-3195-a7cd-bd8f3763107a","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Yes, calling Wait or Result in the general case can cause deadlocks ( [http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html](http://blog.stephencleary.com/2012/07/dont-block-on-async-code.html) ). There's no clean way to call asynchronous code synchronously; only a variety of hacks, none of which work perfectly ( [https://msdn.microsoft.com/en-us/magazine/mt238404.aspx](https://msdn.microsoft.com/en-us/magazine/mt238404.aspx) ). If you *must* construct synchronously, then you should use only synchronous APIs in your initialisation (e.g., WebClient).\r\n\r\nIMO, there's a deeper design issue here: if your initialisation does I/O, then it *should* be done asynchronously and not synchronously. I wouldn't try to make it synchronous.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"85280297-64c8-392c-85f2-76133e753224","date":"2016-12-17T13:46:41Z","timestamp":1481982401},{"_id":"94197bec-c2fe-391c-a482-a74d21086be0","authorName":"Peter Wood","authorEmailEncrypted":"AbfOOFBdQoG5oxoruSKhCVOAGn59RRXsIVED3MZGRrefn8OUZ52CftMTL6ctf23Xji9Jh8ZBS6vEaum8X9KTZ7gEQDMcH13KMT/H4GGiuZKdwZ7TzpxV3KKxfhvbKMvvTwOkVWbkBFEdhUXmOCnXHkf+ndOKysHlKG6Beun14SFPbGbpBvzWdjIuI39wGVImxGf2whz5Wu4qvT9gy7ZP0ciWI0KoVa7LaGUrE1NJOVmXPBt4wA6Uwecf1/RQEEkhG4KpXOB03TS8/zwdvmNAvFF32bCQqXsXqRUjEUr/IiDq5Z+LMWKFGkcfjbUU4S3hAde5U7rzW07Q5nsyN+f2MM/8OkkGeA0FZgG9bBLLbtYoz5VYNPE8Db0kI+OrvC6YN7mbjncQOqM+7lZpyO490FgjaD0w5fXsEcHthQvs0TJ/1xll+RKYNqDD/HkQmtbhBiRzzh/Ogjryc6q6GioP7D6itheMsW2AWDCk8FPHZYK2MrbZxgnGvdimQHMueZAnuRvi0JzfGUlES9HfvhNnfecmoO5ZADTLz+xLy8gMXiSUIOFr77iWgdhCszQoJS2HoXfLyrXLyUm0X3xjrMBwrKmn8s+PK/1xNSTsESTCbJPXkEgBSS+7YEIif124/bNxC+pcjrJANkQZkTma71uMZrz9UYc+vJ0tCeD2XmtHQaI=","authorEmailMD5":"4038ca7cc712abff3122d11eb5975b68","authorUri":"","authorUserId":"disqus:disqus_lxHWzNFSia","authorFallbackAvatar":"","message":"Thanks Stephen!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"d6021016-aedf-3195-a7cd-bd8f3763107a","date":"2016-12-19T06:42:24Z","timestamp":1482129744},{"_id":"2215ff0f-ddea-37ac-9c84-422164718521","authorName":"Andriy","authorEmailEncrypted":"TpBaxE1u8S6sAawK/BgQ2Eee9mZXS6o/V9GEgvQ9wdw6PRYFXyyz+waBgCdN99z9LghVd2YZAVjEEuKc7xkD4BvTMf5OwHV/DLmOhKUFVC8KNqGET57638xxiUf2f+f0/hB4XaFGgcePKwGFrrMqDeX9sFOCzIM+XuS4V+6+GqzJqx7TMqzTYNGdHtaR5HjFUNPKtGSY/Eh4NxyCdt1FMJ1Q5jlm9XrPYP+dF43e5uMmjRBrENabksH2YdJbWZvyH+Uud1DF2LVZhyMkjWndws8vokA/WzDKZdcOVoANfSRP6DsMLLBEBNGo8jflmUNVFjb587A/RX580fRTF20iRswi6v99ZDsfjj3jVcGv6CI5wVwnMUZiKqR5afNmmQWA3A6kYfPG4kK2oddP43hnkh2B9cBaOfrxQXkd202vSi2WsFfP5ORCCJmN3zNw3biejH2ee3gBlcFCxLmb6DHVFRO2TgzjBgTUgwZHaqb/WJnzbrFNGUF8XzkCHM32JI5qM+En66UP3jkKfUSWfFiZdvpIJynBBqCWFywfFsxSZvZKODIN0P/hz2fw6VvDVlyN/V4pmpxvQNMNXGFw6dGLyFqwdng9j95h60NQpnsC/DNzUEOn34vtXzSm2McdkQmYNVETYQyf7Tmva/ncqkihjv3A+ZPGdHtY8I5eGwp7GrM=","authorEmailMD5":"7b3ef8e67ee7ef1ab8207b8a51c348c0","authorUri":"","authorUserId":"disqus:disqus_xVnVZUEaIe","authorFallbackAvatar":"","message":"Hi Stephen! Can i use the following approach ?\r\n\r\n public static class IAsyncInitializationExtensions  \r\n{  \r\n public static async Task InitializeAllAsync(this IEnumerable<iasyncinitialization> source)  \r\n {   \r\n foreach (var item in source)  \r\n {  \r\n await item.Initialization;  \r\n }  \r\n }  \r\n}","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2017-01-25T10:30:05Z","timestamp":1485340205},{"_id":"572cb630-5282-3dc2-896a-302af474cab7","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Yes. You could also use `Task.WhenAll` instead of `await`ing each one individually.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"2215ff0f-ddea-37ac-9c84-422164718521","date":"2017-01-25T13:13:10Z","timestamp":1485349990},{"_id":"69d2b49f-b5af-3da1-a098-e2b2fae237e1","authorName":"Andriy","authorEmailEncrypted":"eH02FnOXPe9MQA9g4yrDr1AyhHJaN3PurczuUAImvbk0vvL9Csu3scH/856DlQ6PiytX8zLJ9n/TO7Lmo+tIkLRFXcjc5BF/3md30rldoC7llDSWXtO9wQz8a+1wp7VMEwR0HMInMgQy/4WzOxZ1cRdhdDr08AEyWDWZuBhhubEZHvIWVXKNPpiXoI8M85IOAIEOUylL3QcbjbUREqr1rI1k181cmtWYuk8LXhEUASAcIpDCH8NX7TrSDckYISBTSZCFbujS2xENz4H172FaNu62Fz2+FB8n4ZV/YWEAgNl00oHOsL7fvcQVPRQyIX6ShpXkZD+ixvs0XK+SSeyCNCVF5I5TGJV4ODXihc38jlxZH63sBJrBeWGETZkhuY+pHew61RcNpZptZBMfAajpTwYEpddK73UE8KXMoq4nBya0Wdepge35dlK36MZujnzYgMwCfU/R/JfFuywo8+xtbUwm2jLGsSZ8SMUWtCf5mwZjbXo4y0t0ZqntPsDWUMjs5yFkQh0ZNMrM0qDCoZvU6vVeajc6Sul16P2Ev7bw8jUGISHJYkcaZGoc1engODhxjNQVZ9e1HEGjO8dWz7MZobF4iJIZXz/EQCdKk8PfnbJo1z88Zv1wJdRI6/M2FIYJGE9VVCLUZvS8tTERyA4bvjfEwkdGK/nuF2wHctFC0zE=","authorEmailMD5":"7b3ef8e67ee7ef1ab8207b8a51c348c0","authorUri":"","authorUserId":"disqus:disqus_xVnVZUEaIe","authorFallbackAvatar":"","message":"thank you!","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"572cb630-5282-3dc2-896a-302af474cab7","date":"2017-01-25T21:50:20Z","timestamp":1485381020},{"_id":"1408c311-de4d-3521-a3ed-915b9ad80a76","authorName":"Andriy","authorEmailEncrypted":"Qrz/WUUT0IglCyChB8bboXu4IszsXS2iTaZzXMQjgN0FMW4fw8cPgQzTwwEwhyiD2VFDGuOrLxUMOiwUX8xKwjiWbL+BE7Y4un//M87vQE0FjrnaxeFScxvu/t9Z2w6jovXXWRE6DYka3Ku+ErsBO4+LBoXQ4it9IeRqHOIqS5luwX8XdXZWDwO3HHtUhW/cIko0zb2lmB9h0SwOQgZt5dEjx3yFxP9/GdSd+84vwrTlfBRbcXiguYrw35u2st3qXlH5VKnVq4KA2AYC28SoR6nvq3HoMTkBEuFdG4dyPcfcbNCJ8M+bH1hp2X4ts0h97phs2yhc9yF7nfYx2ovPcCpXS7skv5MDqNyglLKqOGvQIn1w8KZc6R4c3fJwo7PYFZSlw2mowfUwOa7b6oCLMCX+j0Kkxzb1jGyTn08cH4Di4dqKEHjAIFRvIPsDmKFWAtAvzJrJol+wk+fiKX8IH5C143XUWDZPg/MPBZUABNLEAqxpcpLkKroBr/Jf/B0nPYo9hTbNLphDsw0ZF9+6KfcAYNu3EtBF1DHze15EAHHOmTsxtuKx+ElWYSe0w6RzwvcWaNj0cHlHziS7EtnUjfmaNg5+b+OKmXrEc75x5D3os4TLQWjwKaOHSo3tuIsLHvt6kQ4RI5eqY1v3r/askjMXnRgkHiqoxGF1uo4RDe0=","authorEmailMD5":"7b3ef8e67ee7ef1ab8207b8a51c348c0","authorUri":"","authorUserId":"disqus:disqus_xVnVZUEaIe","authorFallbackAvatar":"","message":"I also add bool Initalized property check to the interface","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2017-02-08T11:26:09Z","timestamp":1486553169},{"_id":"014baf4f-18a9-3f6e-9502-4f3fd79aa4af","authorName":"Ohad Schneider","authorEmailEncrypted":"JS/BOHQC2Pdu+3OKnhWwQqjc47DJCx8UbjPuP9vhUG0SfRs1Tat+5xhIqI46N4rYBImiiXSoLjnxQX+YOclGLg6R0O4DNVbvnnE5FNojmrDYS/3RbtajI5Uheia9DwCFxSH875mTiiNMIJwTozDE7u7jBayot1R4Y2NWHnmH3fsq8zUq0MIqAJX4nml00YyDVxQZW+Czt1gn4/wIj5nFf2e4ESMt09OKFCqvpA9P6wAv+sA1gCFYPQOZhlyW42stut/3EnyLILlPzXH0CtJJM9zyuafdrDSMr7ZXlEhyuhS0NglaJI+KSrcEBvv8phOtW0+Rp5FTRs0RZbW+RyQmZoM/jiqTt7DpvzNIhIvdHTvqRX0e0ln6OsJ84Us7WoSDOJAYUWM4Y37fApy59Ix3FsfvXymzQA3CJhtqDPY2ovMN9VmapT7a96z8KHYMIMIwlsL/Ry8VfJOcx7ovh4MaiI0y/Ad0uGNcaKclz/09eUzGbJdkViT2qzCkKfHhkWHh8ewvDKeHbhYpTkTmUASMOwA68roiAEIKgaqBM8HPZw9QbGq0aB29tBsnsp1OmffthpvytFYE2DqVPkhB007pIyA1dynabRPsc9DPnc8GPcYEAqZBvMAXpDS8oSMwRr/UVNl/ILHLiyXUvu/ADhEKVr7ltMFcV8izEts6ztp73BM=","authorEmailMD5":"cacacd08cdb74729cd4a964ced03f62a","authorUri":"https://www.ohadsoft.com/","authorUserId":"disqus:ohadschneider","authorFallbackAvatar":"https://disqus.com/api/users/avatars/ohadschneider.jpg","message":"Good stuff as always. Small nit, I would declare `public Task Initialization` as readonly. People have a tendency to change task field instances (e.g. Initialization = `Task.Run(..)`), usually unaware of the possible subtle issues they might introduce (mainly due to memory barriers).\r\n\r\nConsequentially, the biggest problem with async factories IMHO is that the initialize method can't initialize readonly fields, so you have to forego compile-safe immutability. I suppose you could use a `Lazy<t>`/`AsyncLazy<t>` and just do `lazy.Value` in the `InitAsync` method to get the next best thing though .","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2017-09-13T13:14:11Z","timestamp":1505308451},{"_id":"0eddab81-bce8-3331-804e-1cfedcbd07ac","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Agreed. I'm using Lazy/AsyncLazy for singleton storage in a new project (so, a more specific use case than general async factories, but definitely an interesting approach): [https://github.com/StephenClearyApps/DotNetApis/blob/db9aae498deefd4c803606a2a8a2378f3fef4096/service/DotNetApis.SimpleInjector/Singleton.cs](https://github.com/StephenClearyApps/DotNetApis/blob/db9aae498deefd4c803606a2a8a2378f3fef4096/service/DotNetApis.SimpleInjector/Singleton.cs)  \r\n[https://github.com/StephenClearyApps/DotNetApis/blob/db9aae498deefd4c803606a2a8a2378f3fef4096/service/FunctionApp/CompositionRoot.cs](https://github.com/StephenClearyApps/DotNetApis/blob/db9aae498deefd4c803606a2a8a2378f3fef4096/service/FunctionApp/CompositionRoot.cs)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"014baf4f-18a9-3f6e-9502-4f3fd79aa4af","date":"2017-09-14T14:06:54Z","timestamp":1505398014},{"_id":"1ff1eca6-a88e-3fa0-a8f6-d32ca78abfb5","authorName":"abrasat","authorEmailEncrypted":"Jx9/NC9ZOF3XxJ+iSG5652/uesoXL7dHW11pKgNzLWMXZc6LE5sM5EuDPlipKKGOExj3c2aycIfBp4uigfT29iLDip5eEcjqLrFSBgz2DCWF91iwY9rP6HLolbSzpDYSVb5LOqKLfrHTy9PgiB5PSnXTnjnal2FO5h2FX3np5CbD79xmryIRy+2F5eWkEGGu4WF3ATx4NXPnr8vVThauscNbgVtsfr2BxFEWz6r4GcfMgSu+N0Fi5i3uOmqrkUzIw1nBW+NnqfmgWLaGwbp5wDuxxu9JJ1qd193BQVoZbGXToAwBny/7FCVzmxAZHRXW/rHDVifD0GNBZuG3vOdeHFxkN8+1YMe6KEySkNvApNdhoMxYSetn45r0VW/8MXM3TNemPLCZHhqqCjEfbt7ftfd7+SnkLAb2CaKAQNJLpawuSKlT/wlhHHvVQnruhNMS3fNVeZVeSwLW+NjtyuZGTcyIxDwBUszsd68UsQjmVF6Fl/YdQMknhiS94lVAP6cNAfSlqBi/BV7SUs/dU8jSE/Rc9Ql3GNb52amnuiYMsVaUe4kyJ244b4l1fLEoM55I+k2FNn7Uger3rNWdT4njlJQO59V7x1aIpbMCD2S+2GDBoB7S16RYSKADPyRva54OY6TqBi2BHU8jnFg3wZi+EJwJCOCbuS6saBE6L+HP7ds=","authorEmailMD5":"bb54cbe4d1feb86f3c15dde9b1bda22a","authorUri":"","authorUserId":"disqus:abrasat","authorFallbackAvatar":"","message":"Thank you for the very useful article.  \r\nCould you please add a code snippet showing how would a \"lazy\" initialized singleton look like (I suppose some combination between the asynchronous factory pattern and the asynchronous shared resource) ?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"05925d73-bad5-36b6-94ae-1e404c9578a6","date":"2017-12-08T08:54:00Z","timestamp":1512723240},{"_id":"7ea17e7c-b398-37d9-acb4-0df1def82b4c","authorName":"abrasat","authorEmailEncrypted":"Q5dsp32uw/z8/IB9Thl/2DHgM7SV9gXc823d+0SgV6YNnJbRIJLjxkwhQg0Pq9ysU7rbw1ik4YWy/yJs5dAVXj6RwqEbmQ0nPDtZG9iOCzYnnKuQB0e4R/EzvyyvNRi7YWIGY7nt7ttEw0fuoX+Bl+QBjtJBPGA2hSIUBIv0sul9RB6fQ3m8lB1UgHUfMoS7gfw0L44Z2cOe1GQ3nJcXRZ/XJsHxwOabHUbkCtLMV7N46LUtW1e+n8jHC4q9xEqKRExWHFb268aZUZi3cG5T4N2y0RdZsMBEfGrI/H/PXe1+qJBzFSF6jGmdYVkdZlJjR7ydFib3UIV2DLuTJjOx2RaHJXsE9UL8p0hBbMMXJWfrnwtJzMNT7erhRNBRDYJL6A+xvZvIly2lWtKzdnBE6gfiZ7P44W5LkYMmW+ouelSwrgj0WC6PiNeg6Hs8y8BP32YtUEXBDiXk36mUZojUE/JhenVdaCjL3HfPoGbJftCtxjY3XjYfJZzqwlTiDVBr/WJnDukHMhgjRsc3N8lrAdy8rkOe04AnKOtiZtj8fDqfNgiG3ANUBgNZIUlM2O+u1WejWcvIuKZnUKuOoa6CXXSJVJ8aeYA2llEZgHlE9BS7G3qbQDO5aGKYpvblvL1WAns3uT4dFhMetloaFPjK9mvyvRsVNsS7qZp69Iapgf4=","authorEmailMD5":"bb54cbe4d1feb86f3c15dde9b1bda22a","authorUri":"","authorUserId":"disqus:abrasat","authorFallbackAvatar":"","message":"Ok, thanks. What happens if the async resource must be constructed and initialized inside a view-model ? Should a task handling the async resource creation be launched in the view-model constructor ? How can the result of the async resource be used to initialize/set properties in the view model (in the UI context) ?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"837b352b-3c0b-31c2-8283-da3b90096477","date":"2017-12-11T19:39:06Z","timestamp":1513021146},{"_id":"837b352b-3c0b-31c2-8283-da3b90096477","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"There's a code sample in this blog post (under \"AsyncLazy for Resources\"). You can just expose an AsyncLazy<t> instance, and the first time it's await'ed, it'll start initializing.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"1ff1eca6-a88e-3fa0-a8f6-d32ca78abfb5","date":"2017-12-11T00:28:32Z","timestamp":1512952112},{"_id":"c9dad251-e667-34f1-bd92-4668628f3994","authorName":"Zumba","authorEmailEncrypted":"wiFhFb9e4mixzwJPTxzyPGb1QLI2krTczNwSo27YaNgq0yAHKVQU/mb59Wp9ehhZ19eYorHuj8B0aJzbDJJwaypCN9Q2HK6d3R4UBWIcbzKU3BSBcb0dpmrLyDy+IW13pLmZvMJKgMVqQMY+ljrhjk9/Kps7SVjdrXcAiAX4CorO4y8qpf3n0DSTPCy37wk7zpSgXkJSzvCdKlJ9y6SLmldcHT7keXnnpWKCLy6kj4Bv2HODnQykm1tkeL8VZ//tFPt/p60kM0a8ASKBH9f/wWquBlW10NOkYi7rMWJSeMcF9KIXsGJ0Baw5JG0KjAHQ1Yg6NLWruqUcmL3wySoP/Eem4OeH6X8L14pPqM/ITelBPJ5B8V8BJlFkjZIikXT4EE+PNwNDArJ7ewGQp/gfDTapV/4jpG2aNZPyrMO99jFNAtcDOEUzRYcSNDuIw2kt5c9hwpEgXClVuWBcbj0e7Sy+oLBI2ruGi4Q/s+rPhAcGUjrfIHpO81kcWVN+eBscYweuuXJYZXek78ZGoecodvIlyvLphsZfeYjSsEpeQazeCRayZGJM5EeleWz2CVDrWsiUHoa8gmfLuyPS1ZOJDYZWN1D6a8sLqJYkHqxutBlvw46STglihVo++u+nL2XBHKzalvwDdRp7KRQS8j3vSam+AGvO1bA35vWL1SxNcjQ=","authorEmailMD5":"80836835f5cf0c113b97d32d1bf1e5a9","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Hi Stephen! Thanks a lot for these blogs they really help!  \r\nI have an issue if I may. In ASP.Net Core 2.0 I am injecting a repository in the startup pipeline. This repo connects to an external CosmosDB database and so far the template code given by the CosmosDB team connects to the client in the repo constructor as such:  \r\nvar client = new DocumentClient(name, key);  \r\nclient.OpenAsync().Wait();\r\n\r\nMy understanding from your lectures is that this is too bad! :):)\r\n\r\nOK, it's bad so I tried to correct this and it is tricky because the repo is both the factory (or fundamentaltype) and the calling class, so somehow I am trying to have both in one. Is that possible?  \r\nThsi repo is then injected into the controller constructor for of each view, where I have GetItems and CreateItems methods to populate the db. So I am really confused as to where putting the calling code \"var myInstance = new MyFundamentalType();  \r\nawait myInstance.Initialization;\"??  \r\nAnd also, I wonder if the factory method is dead in ASP.NET Core 2.0?  \r\nThanks for any guidance","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2017-12-11T14:32:13Z","timestamp":1513002733},{"_id":"54933ce7-8d5a-3b89-a9e4-211b3efdc7c1","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Ah. I have some ideas for asynchronous computed properties, but no concrete library support yet, so you'll just need to do it \"by hand\":\r\n\r\nprivate NotifyTask<compositeobject> configData;  \r\npublic T1 ConfigItem1 { get; set; } // raise NotifyPropertyChanged on set  \r\npublic T2 ConfigItem2 { get; set; } // raise NotifyPropertyChanged on set\r\n\r\nconstructor()  \r\n{  \r\n configData = NotifyTask.Create(async () => {  \r\n var result = await GetConfigDataAsync();  \r\n ConfigItem1 = result.ConfigItem1;  \r\n ConfigItem2 = result.ConfigItem2;  \r\n return result;  \r\n });  \r\n}","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"58ab87ee-7136-30fe-a7c9-0df3113bf25e","date":"2017-12-12T19:21:32Z","timestamp":1513106492},{"_id":"58ab87ee-7136-30fe-a7c9-0df3113bf25e","authorName":"abrasat","authorEmailEncrypted":"KZY98M8jVqo5qXfXXzbOp7AVmV3mMdzpSmh68lOYZ8BisXpIDA1fgz6j3kyfxIUwytxLq6qJ/0ldSFZsjkxaTrsaj3kq4zmvXdugVTclIhz61/4Mlfur0eZiKvFni0r9L3vLw9uC+iLfeZUhvadY3RIhq9BrYDsRt7Vdlw5g3Y8gFaKmuEZ3feKiEwG11tzjfiURZYjM28BBOs8fWqWcfWCulYgkdxXM5/4viQgazyBbQFdyy4Pb6/2unKSTbAWanr2KNU8Y3MwwVYFeeiAxyKMW9flrQo45pvNCX4EvnXtABt7ruknHNRZyA+8N0+AuQgg0EarnpZdboPwuEh+YYeAajiqExHbi3CDEF4fE8fF5GyDrJUwclsF2nOEq4BIHak+VYGZIw5N24HTjojz1BAx3b9ZwAIkJJFNXbn1aPB0DnKkfLJ29WO5LO8BDh8bZFGs3HjxRq5LKHup2mBthKj8WlnJbHMiu5JYN7wmnIe+d0AaCF7bRuA/SDshuOnegyj/XerY6y1siBEKG6IAj3VGcYAzXfd1hdsJmIvSPxcl6AjB4ta1176Tl5jgiQzRIiLRoNo6SwqFEbLqylIDxo4ycrG//S2oWhiKydcJjQazB024iYSftjiyNOyYMps9HZH+0uq9G6OQgHBtRH3Kz3CMR7sATcbVnDWnrY0y+Wrc=","authorEmailMD5":"bb54cbe4d1feb86f3c15dde9b1bda22a","authorUri":"","authorUserId":"disqus:abrasat","authorFallbackAvatar":"","message":"Thanks again. In the samples a view-model property is the direct result of some asynchronous call. But what if the result of the asynchronous call is a class, from which several properties in the view-model have to be initialized (for instance if the asynchronous call loads some configuration data from the cloud), how would the view-model code look like in this case ?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"b50cbde1-a617-36c9-a2c4-29b4d754081a","date":"2017-12-12T14:20:11Z","timestamp":1513088411},{"_id":"b50cbde1-a617-36c9-a2c4-29b4d754081a","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"In this case, you're talking about asynchronous data loading, which is different. Check out these articles for some suggestions:  \r\n [http://blog.stephencleary.com/2013/01/async-oop-3-properties.html](http://blog.stephencleary.com/2013/01/async-oop-3-properties.html)  \r\n [https://msdn.microsoft.com/en-us/magazine/dn605875.aspx](https://msdn.microsoft.com/en-us/magazine/dn605875.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"7ea17e7c-b398-37d9-acb4-0df1def82b4c","date":"2017-12-12T14:00:23Z","timestamp":1513087223},{"_id":"c65e6374-7091-3fc2-98ba-82ee8baff723","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"If you do want an asynchronous open, you can split your connection from your factory, and use an async factory method after the factory has been injected.\r\n\r\nHowever, in this case, I don't think it'll buy you much. ASP.NET does not support asynchronous startup (and it looks like they're not going to). So blocking during startup is normal. I would not use Wait(); I'd use a synchronous Open() method if there is one, and use GetAwaiter().GetResult() if not.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"c9dad251-e667-34f1-bd92-4668628f3994","date":"2017-12-12T13:55:21Z","timestamp":1513086921},{"_id":"b03a9bd2-181d-3657-b22d-59a401f215ee","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"For connections, yes; but it will be properly asynchronous for all queries. And since connections are pooled, that synchronous connection doesn't have to happen a lot.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"cfa71dac-ac49-3100-88c7-d4fb83b57a08","date":"2017-12-14T13:32:08Z","timestamp":1513258328},{"_id":"cfa71dac-ac49-3100-88c7-d4fb83b57a08","authorName":"Zumba","authorEmailEncrypted":"hadT+ZOMuZxCiOrlXuVbDuURAHtDtOyPTghNzgyfc8R0spVNRjCSOoz3vGcECLUS4hGy6mMGIci45xKSED/nnlwyvTRNNN4FbrxifbLrq+kNX8E4ADjELfRrMqB0Fq31AVFhE5RmxwkCzYYwx/ESqxvLSd/f3w+22rVhOrkbmxDlK5RVvvBAGKHAull3hWAjejCnDw4VJxHGg7cCjEH5Xb0GhTtofWqH5BoCWsv9bMrv5pmJ6yBpBqjLpe36+lO0rHDUzWALEUQVsxYCXQmbbBVXie6y0MAgI0rJr3AdceKhI969VXE/nWW+K8tyH2RbMdRSbfTkKFIcNR2mPvZVbWsX97u/PyiizhYD5z5dFgw5PbFlOAw7KqNELIk/98BMp1t56eZyzJkhIgSkTMLREQv2vWlSbyOXfSdSJwQe8l7MK4ue6PBs9w5bQqixnLfYNSK/jVS1rZuxp18LahyyiathhOEXKukeBzXHE6YLWxM0SIhA6ALAdueioTj3UvpvF6W5EKzyaPo5u8EUTZe3jfZwaXK5JKhO0JaQK/mjitGYvtjMDDdboit+6iQuBuk87qUySYYRPoMGqXZLaDYVouFhvWYWJTD8gcR7PjjsDLycLsQwFnzTGWtgMTewvThYJ2tn2S+/MBE3TW3CbCBi5o0lCq2bWjtYEPEPcjwxn5s=","authorEmailMD5":"80836835f5cf0c113b97d32d1bf1e5a9","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Hi Stephen,   \r\nThanks for the clarification, I make it open and I am using GetAwaiter GetResult already (they use wait(), though). If we are stuck with .Net Core, does this mean that also Entity Framework uses a synchronous process to connect to an SQL database at startup in .Net Core? Cheers and Merry Xmas","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"c65e6374-7091-3fc2-98ba-82ee8baff723","date":"2017-12-14T09:07:39Z","timestamp":1513242459},{"_id":"6125cf3f-f743-3bce-8977-19649ab8f72d","authorName":"Dat Nguyen Thanh","authorEmailEncrypted":"uv0bXobTeRp77QE0ZARBEswmCOpdWNHv0h6+rnVKXh2QsYlQlMIgBmGAIyTKU4tRVrVGcqy522GrSaO19LhmycMafeTol4RFJRMtqWASuOhsLkdh0/T2KZ8kSMNSnhhFOf+NJqasFDB+fXEv0M01g86z5dBjAyFeAf7oXbyP48mb14X+QoUTg/dfsToqtH4VQXw600uSOXsvDDXgq7b6QJEcz7GH3QrAzqneUs2C1KX61j0yilWnySUaWucJvk0CSPp3lQOUy0Nn6EBLMK4EcQutQp1b9fmu1k7NFBEomL7wS8HvYvHaPH7+KrbS9Fop26hJHnJSTnz6z1TRRLY8pzFm40AmIUc08wn75veT3M+O6jXJpDDhNCFp7N0QhkJ4ouUJN6UupgXdhscx6fJ73crPqFXiwIqVovnp2ouPuCudVv5JBEqItyn3S4jZ42/XwbTfxzXcAPwgM1CC0zoCCdXUqSk5lX/AFYguiUyHeEsTHCaFUetWcjhNabMnpmp3VgFJa8XXFVAJKmKGQGsEKH9roGpytp+VHx04ReIfC1Ghy885UupI2t3yvwdgap3ZNeDkSXzKDSqHh7FeNt2MNkKQ5Q2A5bN4amPX4zW+p0b473DcVxO1mdY/DIuhdgDI3U/UlVj/ma+JStUnV1IkPEobBXTDZNKD5gV9uEZ5p1U=","authorEmailMD5":"26f4de6f7952ce2f1bb9433ce4826d14","authorUri":"","authorUserId":"disqus:datnguyenthanh","authorFallbackAvatar":"https://disqus.com/api/users/avatars/datnguyenthanh.jpg","message":"Cool solution. But I wondering, is there any different between this solution and making the InitializeAsync public ?\r\n\r\n public async void InitializeAsync()  \r\n {  \r\n asyncData = await GetDataAsync();  \r\n }","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2018-02-21T22:20:08Z","timestamp":1519251608},{"_id":"8558ecfe-da92-3c03-8dab-ff795b08a596","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"None of my solutions use async void.\r\n\r\nGenerally, I prefer factory solutions, since there's no point at which you can get an object that hasn't been initialized. The async init pattern is only used when a factory pattern isn't feasible. You can use a public Task InitializeAsync() if you prefer, but that approach won't work well if multiple consumers attempt to initialize the object. That said, there are scenarios where that approach would be sufficient.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"6125cf3f-f743-3bce-8977-19649ab8f72d","date":"2018-02-22T01:52:46Z","timestamp":1519264366},{"_id":"d68514dd-332a-386b-9908-79c4da16862e","authorName":"Ernesto Chaves","authorEmailEncrypted":"CrTGo7sfxyZ0D11UHeXOyVB5YyftALIAkb0vGf1e7NNR78+id3KSZPRZNTlZway6UlHtS0UcqZVSTdkE+yZoReppB8IcBs6oDELncZynw1Y9TVql+LwvQr3+i5QUxGUxDP+PZAQAY9gWlR5KZkSe8RPoqxQf0Tf9tSTWfB6EoA1UYgaJ0LyzB+mDvPppPA7bp+jubzO7W/Ftob5JZO7pHMjtyAknxLsj/KMff5YOkCmxO1X1X3p9oN8KFOFMQLYxotJ3mAyKrcRfe+Pb2u71TafMNfF2pfc8x/A7aWsbFLCPP+4SQqJe4897VGROybVsZ5lfBsJsMvVBDSRokLQ6IPdyvQ4clO9tfnjRaHee/wTq7grVZAG2e9GcjWCWWe9JhizzisUDwzGwkiGRJ1uv5Rq2bvKnlE0mUhkdcY0juUre/P/JQa18q1yggQeaQJ2Pt8x0dItfgZGU62x2dCpyk/YgnAybtylUJy/h72JUXA09iwM/MmrlFSTMD05hrO/qOSnzajR1bhBnDM7fvp8YbB5Wv3vnxaCD/h3AE4hGdLJTUuhGtuARBYpVWgkTndKh9M1np0ztMir9s2j38eOlUcTggrHX4kdogLgcqM0per2z4700sAHXoF7XXNU6CEHE8TRnidppymfp8wX2IsiTzg6ch2xYIBliB5CwxEGv7Tw=","authorEmailMD5":"cfa320b849b011e3ff3bed3617eea290","authorUri":"","authorUserId":"disqus:ernesto_chaves","authorFallbackAvatar":"https://disqus.com/api/users/avatars/ernesto_chaves.jpg","message":"Hi.\r\n\r\nIn \"The Asynchronous Initialization Pattern\" you say you can use the pattern like this:\r\n\r\nvar myInstance = new MyFundamentalType();  \r\n// Danger: the instance is not initialized here!  \r\nawait myInstance.Initialization;  \r\n// OK: the instance is initialized now.\r\n\r\nBut thinking your fundamental type is a view model, you cant call it from the views constructor, since is not async.   \r\nWhat am I missing?","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2018-04-24T22:49:50Z","timestamp":1524610190},{"_id":"4b097758-00b6-38c0-8b14-505fc965b3f5","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"The key here is that view models cannot be asynchronously constructed at all. It doesn't make sense for them to be. When the platform says \"OK, show your UI\", your app can't say \"OK\" and then go off to some database or web service before it even returns the UI object to show.\r\n\r\nInstead, you must structure your app so that it shows a UI *immediately* (meaning *synchronously*). This UI can just be a \"Loading...\" screen or spinner or something, but you do have to construct and return the UI immediately. And in this mindset, the ViewModel is just the programmatic part of the UI - it also has to be constructed and returned immediately.\r\n\r\nYou can *start* asynchronous work in your ViewModel's constructor that will then update the ViewModel when it completes. I have some patterns that I prefer for this, described here:  \r\n [https://msdn.microsoft.com/en-us/magazine/dn605875.aspx](https://msdn.microsoft.com/en-us/magazine/dn605875.aspx)  \r\n [http://blog.stephencleary.com/2013/01/async-oop-3-properties.html](http://blog.stephencleary.com/2013/01/async-oop-3-properties.html) (section \"Data-bound values\")  \r\n [https://github.com/StephenCleary/Mvvm.Async](https://github.com/StephenCleary/Mvvm.Async)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"d68514dd-332a-386b-9908-79c4da16862e","date":"2018-04-26T02:24:03Z","timestamp":1524709443},{"_id":"f4aa4881-46e5-37d1-b507-be87d637cb6d","authorName":"Ernesto Chaves","authorEmailEncrypted":"ZyqeQHZETEjowvirmLyELmBAeSqdThTfx8BT709dLJWipYSW2gsjOliIkzpbhXlXCULq4KjJefXQHlFJICCc1FJ5lizF1aCl0TclX+ZvN9VVH84ZDyWsauQD+/Jcg0u5AMEwG8T024jSjm3EDLMMPWjTh9eqwcLYgb245A3Yg2Zkx1bJJJ7aaNQ4pIlRzbQ3jB6KsQapQCJaGrPYZBjVkdVyHcNllcwxGp8o9f++pfbWWls6sQngJ6Oyx7g305DkJTBjGo4J3DctFwDKM7VQoamCExxx5gyLE2nzeaR/nwl3rvQFL4m13t1RP8MZu/BWDHYgvhUgKjKfL9lthAiFIet4vHWeSFwocbntlbE8bdFjUIXqI2q1a99Bnsodn9fvWecb6kj95pZzzp2ClgnKd4D6JDCg9XX0VNABqNnQB32P+REow7nYH7mZtBpOHrZpffnSGC0k1fyRKUzImbfHQqdU1JV8sxnd+u6wC3p2P6pVD2pICRi/2tf9ZAU9SNIfnlK3vZpCyuLCceeq6B8BLw84/flGhQHrjllwE8ECw/8WYwJwDU1iWFLI7ChABAt6WgD8OAEHwzgqySyHwqT2vzcNwp7DnfVGl0rGOIX/5obhKmBwwi04I/bU3athm2ZIyExxwhY3aGlsnDAYdShsfU/j392oZU5xjmnKY48breU=","authorEmailMD5":"cfa320b849b011e3ff3bed3617eea290","authorUri":"","authorUserId":"disqus:ernesto_chaves","authorFallbackAvatar":"https://disqus.com/api/users/avatars/ernesto_chaves.jpg","message":"That makes total sense. Thanks a lot for taking the time to answer. I ended up using your mvvm libraries + data binding. Most people like me will try and use that piece of code from the view's constructor, that explanation makes it all better.\r\n\r\nThanks a lot.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"4b097758-00b6-38c0-8b14-505fc965b3f5","date":"2018-04-26T15:43:09Z","timestamp":1524757389},{"_id":"374420b3-15e3-34ce-adc1-b45c1a9d458e","authorName":"Kristian Jaeger","authorEmailEncrypted":"qJ1nFRLuh0kWRcgC9S9muyvOmCYjL81+AtQM+d3/SZHGgvX6zSGEWe/tV+zNsRCuDne75HV8ZJjEP8sVFJb2c4U8h+9NbN2+rBNDHRQTZbgiDLF35Y5T11QhhkIlzxnH5+m3QZ+9/AYHtn/NLR2bxM1KhSmw8omMNHKRLaqGDA3eQPYzfXQZ1mfsZO0mMvUfIIAjnS/nZExrZBgUd7qauT3MzGfeBezQ+k4SaIkI4vjn8AUo4N3jtNzuIGpsWPgonkxnmpLq01ccnnMZKdxsh5mamgZldtOkNEOgXYoN2s6f3spfJYZ02gprpVFr9P9+LrQFUpFkcCzlBILPAmwVzytox6IGQ1aNP5xNiQJk4i0Kjg4yIaSpbd8wUjK7yw6TfyBsoRaBSX2z1VjfBAp9GKqKV3ccER3ln+P34AULW7YSyDGhMgOdf+Axfr/Ws8SGlpTxodPqaklQl0alPvwlk89NgHyUFIQwDxKe5wVQi61mvb/WSdJkhaWCEMixc7/U5GeKVFJMzgbLeGUFVnMVc6ghH6IoOJPTHo+lkW2LiP8rGBCNBs3EZj0VwaapnewuKzuq3pKPe/Wo9J8W9XfKKoDnFwgCjGxbnqFCKF85V11TcD3id+de3CUkeFaDANiZmRZZOaX3xJW/vYC/pSx9VlGNG4KEMhSvk/ydr2AKMMA=","authorEmailMD5":"9f49da996c7133cf0c3aa6c8377f741a","authorUri":"","authorUserId":"disqus:kristian_jaeger","authorFallbackAvatar":"","message":"Thanks for the post. It would work just as well to do this also, correct? From my testing it seems to anyway.\r\n\r\n public MyFundamentalType()  \r\n {  \r\n InitializeAsync().GetAwaiter().GetResult();  \r\n }\r\n\r\nNote, in the async method you might need to set ConfigureAwait(false) on the async calls within InitializeAsync. Cheers.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2018-05-02T15:14:22Z","timestamp":1525274062},{"_id":"77e2bd7e-88a3-3ee5-a43b-8786a6416e77","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"No; blocking on asynchronous code can cause deadlocks: [https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html](https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html)\r\n\r\nAlso, even if you avoid the deadlocks, this approach would block a thread. This causes a bad user experience (for UI threads) or worse scalability (for ASP.NET request threads).","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"374420b3-15e3-34ce-adc1-b45c1a9d458e","date":"2018-05-03T12:17:50Z","timestamp":1525349870},{"_id":"bf2b59cd-b7dd-390f-b107-aa6418b6c0ae","authorName":"Kristian Jaeger","authorEmailEncrypted":"E9NNLGF+J6pRZsfwZSRogIPqOvKEdYrVw+9Z7eqBYBi3dHa9sj6GpBUHL7J09ehHdqNJXWXouIjjsxmcrwhMivl9MPqntlGs2bqpNTaQhRdUkriv4tRn+pYihCzNZCkI1kwa5BFsQKHg/QRKSd+pbuNm4Wa7C3svy06o+J+CooUxqYnCvpshHbtDDZ44W4qKf+a4pAyLCPQX3HDnG6rYFovYvlWcQn4CsOtA253Ii+9G1NRQ44h9FgL1tCwAVO1mZaoE6bj2ur858JPahvDdYwFo8sqCQPmgRyz4ERxPW4wrt1S0aMQAricvMzQ/3uKamlaToaeuSixjuk1VuirOI2DrMTMi5OcA1/VMn/nVjaB0aB56PKeNZMY8ko2QZU++K0PYXo0A0Afmtac9fOZfgO/0wJWL3FK7YbJlN8rKUwjsSWo8oTeoSi1GsufTcjkJ2rKbjDhZPbUHU52KNaVTFm94BeDHItuA6mbQfjrYsb1Xk0QJhGZZeV+PkvRyLMwI4y/C/YJVA1idPaNTJ5eYnCoEpwZWowFP9wkQp78aoMwKXsoPqCs0eQ5e0WVx7jn4jOEO/uYscJwvJv84sVgNf9vxaO9dNvNf+xVv5LpkryqIsc48apiqKIGiB3Q2PAhQbfuLbGHsoVazOf7ybotRgB+q4uwl9XFaxwi2pTQX3t0=","authorEmailMD5":"9f49da996c7133cf0c3aa6c8377f741a","authorUri":"","authorUserId":"disqus:kristian_jaeger","authorFallbackAvatar":"","message":"Thanks. I see what you're saying. However, making assumptions about what is done or not done in the constructor could be troublesome too. It would be great if async constructors were added to C# at some point. Cheers.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"77e2bd7e-88a3-3ee5-a43b-8786a6416e77","date":"2018-05-03T15:48:03Z","timestamp":1525362483},{"_id":"20a155b2-d149-3f56-b10f-c4d81e74223e","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"There's a good discussion on the pros and cons here: [https://github.com/dotnet/csharplang/issues/419](https://github.com/dotnet/csharplang/issues/419)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"bf2b59cd-b7dd-390f-b107-aa6418b6c0ae","date":"2018-05-04T14:02:41Z","timestamp":1525442561},{"_id":"6ef651ce-6af5-3c3c-b400-37d833bf8a00","authorName":"Zumba","authorEmailEncrypted":"rlK6czWlKvYzrUaN+6+EmdTKbyk0UkhcPb3jco0GMlo1NlQAVKeV9q1QkCjzV39jRh64Mg6uVMqLe1ZVrL38xfZNUuGmN6dB3aFTLkLH6BKTVDgq/SyX2IJpG1nVT9ue0KAEV9cM6iIbdO3VYJOCFTqXDoN7fDTCaJA96vdQJLRCqV21a73U+/UUcwUgJhgs3kJouzrZ9n0SYfDpau4I21VZ81vScz0iNW2uLwqJaengIBhe3CdASU+Ye3Ysasip3t5LoVMUHAu9KFFLfz0kjeM9xvwkU/s4AH8mEEb3990OxWa09388sMG1SJ1i6CluxfDBZ2qDAUA1vHn/iKxS132MVBPw5cOwW6ZrWgDMY0XhusZ5CX+g5PxDHOYOlnIz09UUyKgEZtYI3GEX6qAA3LQ6SOmjAbg1pZPDye74Zw1n53Z1b6thPdhTOvtbmqjanr7O1vzSa6tXfgKVaIpJK7mU2vom1G5ss6Ry86bHkCX5pAhuW7CIuzkWJz3K1iFJV3Y6eTVSfH+5guryvK1N0+m2A+fTyAJph8tUrZjUFcM6DLeyfVNvAIlAs7neX8yzq/JDfMle6MfWzjDFeVl9PI8BdYWI+7S6spubB/RaJxlD627mh82B4bAuD2zXWLkAFpgh8Ul2WtH6a+2+RVMxLUyqOPVC4C0j/TSjUIdVdno=","authorEmailMD5":"946de23d7298acff560ef0d981e2de64","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Hi Stephen!  \r\nI am troubled by a seemingly difficult solution and even though it now seems to work I decided to submit it to you in the light of your articles and also the comments you gave below to others.\r\n\r\nI have a UWP app and I need to set the ApplicationTheme (Dark or Light). This enum is taken from a string which is in the LocalSettings files of the UWP app. So I need to open a file there, read it and return the content to the app. The point about the ApplicationTheme is that you can only set it when the app launches, otherwise you receive a NotSupported exception according to the docs (and I can confirm!). So this means that I need to open and read the file in the top-level constructor of App.cs of the uwp app. The only solution I found that does not crash is the following and follows your pattern except in the App.cs constructor (hence my concern)\r\n\r\n public App()  \r\n {  \r\n InitializeComponent();  \r\n RequestedTheme = Task.Run(()=>ThemeSelectorService.InitializeAppTheme).GetAwaiter().GetResult();  \r\n }\r\n\r\nAnd the static ThemeSelectorService follows your pattern somewhat\r\n\r\nIt has the property  \r\n public static Task<applicationtheme> InitializeAppTheme { get; set; } = GetAppThemeAsync();\r\n\r\nAnd\r\n\r\n public static async Task<applicationtheme> GetAppThemeAsync()  \r\n {  \r\n return await LoadAppThemeFromSettingsAsync();  \r\n }\r\n\r\nThe LoadAppThemeFromSettingsAsync() is open and reads the file that contains the theme string.\r\n\r\nI could make it work only with Task.Run, the other options crashed the app literally!  \r\nI am concerned about the practice of this method, if you have any better solution for this edge case? Thank you for any guidance","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2018-05-05T17:19:01Z","timestamp":1525540741},{"_id":"0789712a-3ab9-39fb-8c2f-fde8a50cf703","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"If you're sure you need to store the app theme in a file, then yes, something like that is the only viable solution. You end up being stuck because the framework is forcing your code to be synchronous, so you do have to use a hack and block in the constructor.\r\n\r\nMore about hacks to force synchrony: [https://msdn.microsoft.com/en-us/magazine/mt238404.aspx](https://msdn.microsoft.com/en-us/magazine/mt238404.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"6ef651ce-6af5-3c3c-b400-37d833bf8a00","date":"2018-05-08T20:46:03Z","timestamp":1525812363},{"_id":"603f5768-06a8-3c1f-8163-0dbe7103a7cd","authorName":"Zumba","authorEmailEncrypted":"NEqo5OwRQmG5WrITuw+fLCpn+9xwgMofvSG7yYfHcSjYgU6NS5XFbpZqYON81Qemtyt+iV9X2McqUXWcod5CA0fI9fdWGXpwwoPsUwwZTgom1r7sjCO9B6//Uz6OlwosrKuMD9KlaTc4ei7wbWL+Xtf3O0RRfFXMQly/DftnNBA6fcdlTzzZZmvI9GtlfbKgVh8b0vz6R5W2RqTke5jlKg0FaohaDvt5E8rO8DnHa+qG/NLoB6uOwvud75YOXRhdfWI2P2g8SodKMisdc8XPM5KLpZKJekozxGv66B43Idc6S6cax6cMAoFPOa7VuM4YWKCn4YTZm9EFtSxy+sd6Rt4/WODIDQQny0KedshX+jJ7vCaMmhrwLI5+5J5deIuGtQRHuiRTYRvplaCeJMJWC+Tvt5KNL9aC5v0WAPIaynUrESSPTsvNY9Pu80OJKK0QpZPeIti/AflsZ6Gfjans+BcgiGjBJkrUDQcuPY1c1tu/a186TdQEksz/q+LLg+3G92m+N6rbUl3e5HW8UXuBz6dtVlo86wrn9BYXREyrIYDOYOGsaBSUUYvpb2w8YjT+062NLPedFDceBupygRqYgccyjSRMUDjPUS1ayAJW3ilGK4KNtXx70yTkRp3uACzCYGrIylF715BiAef5QTse/2mQK0abDbR7q9d1v9zFy/I=","authorEmailMD5":"946de23d7298acff560ef0d981e2de64","authorUri":"","authorUserId":"","authorFallbackAvatar":"","message":"Thank you Stephen, yes it seems to be the only way sofar. Greetings","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"0789712a-3ab9-39fb-8c2f-fde8a50cf703","date":"2018-05-09T15:53:13Z","timestamp":1525881193},{"_id":"a4cc025e-a0bf-32a8-a485-cacaa764a28b","authorName":"Orlando","authorEmailEncrypted":"aOYAQ0KK3IEzZlOajQCQP3ARPf0zvqfOCXnLCikHbGBUEsIRObJ60XHhdaNew6bkQ1xyuOR/wZUIPQghoRyz++4Vz2WbwtsZupwYeuCn1Nm8++1EX56e1BWZc0dzGCrdRYYessfM8twxR8PI81VL4+4VOyjOsT6AwTXB/N9Z2ewzipBeabmB2J22kjffnY3WHJKsiwzpKDrFeJ07PWQdeS7UA+IkCvd1u7jliC7U7f9j7ozpAU8G5bTjlaIsq7bulDZVA+Fc63X3lJlx4uXr/vuLbzykkngFvJ4LLvyzp/5M0VnrJR2kGQV0pqVAMJ2atjGqrYvbDpTPYibJoz0JviWD7f7F18QhoxjpTovgK+SpjBbZk20iGaC25Z25EVcg2PsXWjH1Sp18v716Sb2ni2mLUp0P1sdCMA3Bs+MHbuSIM66/XjdBHRo+tPL05IUzrMjR7jM3k2Njl1gH/MmRLa1Vm3O4m+s8SEQGo0+7q2tiu1unKIjs3gWthYKFfEtpc3V0LDTlsPxZ4tgUokJWRNrtzkCmIi7UNWT0//KUOaDyWMhcWxgDwkkb5fDzafC+MBe9393hosyeMr+7kwUjMKvfzv7LyIymRmMO85BVfIFitUSmmsCYVs75Fn+rK7AtbnFq3FLkIZwApHURA74UvYtQoE6zG6qq6KxLRkJfvK4=","authorEmailMD5":"6612c943cf0e14de14cb7e739decbd30","authorUri":"","authorUserId":"disqus:disqus_PPeujihbUV","authorFallbackAvatar":"https://disqus.com/api/users/avatars/disqus_PPeujihbUV.jpg","message":"What do you mean by `shared resource` Have you got an example? The reason why am asking is I am trying to see if the `AsyncLazy (for Resources)` approach would fit my needs.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"","date":"2018-05-10T11:36:51Z","timestamp":1525952211},{"_id":"b37481e7-9057-3679-b4a5-fa305c3e569d","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"It's anything that uses asynchronous setup, but is then shared between other components.\r\n\r\nFor example, in one of my simpler projects, I use autocreation for Azure Tables. So when the table is first used, it does a CreateIfNotExistsAsync. Other components using that table at the same time will just (asynchronously) wait for that initialization to complete. Once it's done, the table can be read/written at will; the initialization code is only done once for the entire AppDomain.","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"a4cc025e-a0bf-32a8-a485-cacaa764a28b","date":"2018-05-10T11:56:16Z","timestamp":1525953376},{"_id":"c7a99005-0461-339c-8b93-5e40b977c655","authorName":"Orlando","authorEmailEncrypted":"srOnKLNhgk0DwazE7PStZjam5jJOE86SOUI8kSjTaumslGBGVZFGO4LqK7zx2QdrLyNgTOUuDutv4neH/Mq8gj+thWeaypyNrAS04s37jO4MvbeTa398tGpP1N8Ig4jCxeYbmQ4ZfF7kHV+CBzufZDILeXSeZT40ayFQmPLly2EQACWShm1t59aJDDFtY/dnWFisFcnbDxSKwJD47ZxemrByAYjEGI6D/euvyoqWKCug/E3DcZThC16qIM5lWbArE00LcV2CwCz+/6Yygc+MNf5tanH4B/s2+m0Mg+kj30lyJ2Gw7ZA9OSTiyomM0bEuFDMJA8M4EmCkCREeWfkPy63Qbjra6SJWpLdnUZAYuKpTB3ZB5SvSLZTLa4O6jUgg8gF2EpxObJ8/S6gIaridFMRgDleNBgH7HlbaCzlXt2xF2UxNk+zg5xgE2YHhUFt8AyqJDaS20c4uJomxfCINXceqPqTfhekeZ9q8f+/Tala0cQBe9S9b+1BQ7Gvt/o3YYuohMZMl2gGoXxxf0gmlTPmuYkn3q6OXZm9k/5YhrBBudxJP5gZUkSArcxcxoMtKuBLmIj0drJ/CRXJPOpNa1aaKGGgamEhiM0qYKuOMAbzwsVWyfj1fzy0Yaja0u8FDQniICMJxO/GPDMjpaE6LSpA+e2hhANgXPi8nH3rpSBo=","authorEmailMD5":"6612c943cf0e14de14cb7e739decbd30","authorUri":"","authorUserId":"disqus:disqus_PPeujihbUV","authorFallbackAvatar":"https://disqus.com/api/users/avatars/disqus_PPeujihbUV.jpg","message":"Thanks Stephen,\r\n\r\nI did not expect a reply this fast much appreciated.\r\n\r\nI am in a situation where I have two types of json data.\r\n\r\nFirst json(has multiple links(object)):  \r\n{\"name\":\"Link 1\",\"id\":22,\"url\":\"link1.json\"}\r\n\r\nSecond json(has multiple person object):  \r\n{\"name\":\"john\",\"age\":22,\"class\":\"mca\"}\r\n\r\nThe First json contains links that contains the second types of json data.\r\n\r\nI would like to put the name of all the links in a `Listbox` and I have a second 'Listbox' that display data from the selected item in the first 'Listbox'.\r\n\r\nMy greatest challenge is that both json updates the first one will poll every 45 second and the second ¬Listbox¬ poll very 15 seconds.\r\n\r\nBefore I came across your blog my UI would freeze up for a short time some times forever as it seems(this was only on bad internet connection ) But on a good WiFi to my eyes it was very responsive.\r\n\r\nAfter reading you contents it help me allot and it solved the freezing on the slow internet connection. But I came accross a new problem where when the connection is disconnect and when it is connecting again the UI freezes.\r\n\r\nSo I have decided to read all your async contents again to make sure I fully understand the concept of asyncronous programming.\r\n\r\nSo I would like to follow the etiquette you confess about.\r\n\r\nWhich of the following approach would be suitable for my scenario?\r\n\r\nThank,","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"b37481e7-9057-3679-b4a5-fa305c3e569d","date":"2018-05-11T12:17:37Z","timestamp":1526041057},{"_id":"55499f5b-ef15-3270-9068-5112f07d968f","authorName":"Stephen Cleary","authorEmailEncrypted":"","authorEmailMD5":"3db7b6e14d9da42751e4bab03bc4d034","authorUri":"https://stephencleary.com/","authorUserId":"","authorFallbackAvatar":"","message":"Hello, Orlando,\r\n\r\nI'd recommend using a type that is designed for loading data asynchronously, like my NotifyTask type described here: [https://msdn.microsoft.com/en-us/magazine/dn605875.aspx](https://msdn.microsoft.com/en-us/magazine/dn605875.aspx)","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","replyTo":"c7a99005-0461-339c-8b93-5e40b977c655","date":"2018-05-15T01:44:56Z","timestamp":1526348696},{"_id":"e9d536f0-2f04-11e9-9447-21eee9ff7847","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"http://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Ben Tsui","authorUri":"","message":"Thank you!","date":"2019-02-12T20:29:36.742Z"},{"_id":"5e8dc3a0-5366-11ea-87cc-8fd9a116055a","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"72105750-5364-11ea-87cc-8fd9a116055a","authorEmailEncrypted":"l9WdIs5/CKBd5wX86Fy5P/+VzyiTekIBRBuSDTeRBuZQYTYydQV7Q1Ai+aTOE6dCpTPUQUbsazbt3z4jhUhWfzLkIxqD7oO1ps1fGjbb75hSAt3np+bdEW5bR5AApM7lunZvOa16UMtX5PjlNfF78iqKue/XedDxjphDCS756KrZMyQjZ8fOS1+iJBk2EpiSzXeRK4XNO7b+VpkSTf66hd1UOOedPswRkAhkS9DnbJiVaQa5PxEhnDhgD6kknVXQS1sh0V/vOsODtviqKX+Qi9SfFo3+tV7prXEs1On/tzCTQ/a49aB/xftVEaTud6+1B2h/ESy1Z7ZuGYuBP4A4u/JrRe1Ctbh3O954a3e39V/7za4T8TKEcuMbp2lhggApZAQv48Aq64g3rHi4mIOIcGyWSoRvfyDF29nbixkqjTzaNSI4J7VvPxEtXTWfAE48lyYm8UNCvYa4TzzLBXfuMs0DbuzviMknMBHgpQRmAcefevucJSCUtvxtIYfvSKb/0h/zI+qTtqJrHAvM8kaESNVJ9c/V0Kw9u7U5D2mxD6G0cUSEJXtbr7a22B6FIN+XL0a8uhJ2MnJz5fmoiQUiAEqDIGKnrpfotubMhqyZ+XM31IDjb3WvkRV5N2V2ay6lvg6fWW9Z1GKrsbFMLFSLPoHka0kUwSCDDo0M0dOmXNo=","authorEmailMD5":"fe7f2c030846844c6ffd78c8dc099f7e","authorName":"Geoff","authorUri":"","message":"Thanks!  I'll investigate simplifying by refactoring to use composition, rather than digging the hole deeper!","date":"2020-02-19T22:22:53.071Z"},{"_id":"72105750-5364-11ea-87cc-8fd9a116055a","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"ae023440-535f-11ea-87cc-8fd9a116055a","authorEmailEncrypted":"cxVgyijTeDTwAMb16xQVxE45hPMCaK4ueoVtl6Jtp7p4/OBDhrpEUUN1P+Mdq5AOoyFEdGS/EPAZM/m7lSGONNhKUEh0YXLTnSGdT/sguB0FOPeJc4cgeP2BR5ArUoXSEAD1FGy6grRDdpb6j7spXiGjmPBN5jszwBChehxZN0JjXkLOycTSHisNfhpe6T/FU6234Br1W8vru2+ioFh873FDR8EkUfpkVmfD5QUU5EXGxOsT01H0vDSVpC4jHeKdlSdJ+1MQJzEbyMX2k4NIBPRo8PEGX7dGhrd+fYFr/g0EZ4RyB5NcyTG81z2CFBSxjpjH+AGuzzTFqbAE1q5syKDtUITOuGBo3dy87fvmI+iiUnOLx1EtHYSh7pkdNCE0IVzCKedLEdys1ccnm+PGvw302qzf0tXu2LyS5TBevASZrcnPgNiEkGeiJ/SUZTi1V7XO2wwDar6TEBBJCFFI793PnECeLgDoVZJ6BZykQ9kEASxN5aFgZVZJyIJz9mr0HGFyepipWV4YaBxFHpCG1hOppk7NAa4TsLLx5kD+mdp+3VRawQ3nae97D6VPUyEpjyKzYeoyrO8BP/LRbLseHmdQh6NRU879T/UzmGD1VcMnp4g3EdyDXwSfr1eyUC+Ca8kMbydrXtdeRkA4OW/VOmz+RAzWgZDKV27WAUbkjIM=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Ah, unfortunately no. `Task<T>` is a type that ideally should be a variant type, but C# doesn't allow classes to be variant, only interfaces. There was some talk in the .NET team about adding a variant awaitable interface for exactly this kind of scenario, but I don't believe they ever did. A quick Google search turned up [this](https://github.com/jam40jeff/ITask), which looks like what you'd need.\r\n\r\nI haven't run into this problem myself since my designs use composition rather than inheritance.","date":"2020-02-19T22:09:06.851Z"},{"_id":"ae023440-535f-11ea-87cc-8fd9a116055a","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"WflwI8dJs/gssOBuavX8wWGWI9A4P4Gd0gMbIu9zTRuiIPIHXYt3c7geiv8qDeWOYHgbiOd2TLJGBdx6KQgHjyuWot4KNcYFxnzRRoRBKQHv+ZDObhjSLF7SC9MyI2Iaslx77xd9Onn5zh76EDj8/+6FWIu77X8W+Xc5fj4u9IDFtFGQzv+It/8EWTeuEC8VaYMhaN2BL3FWscV3ghLIdZ2QTNyn6QrHjcbZx/cUG2pwnVaQ1TXNCUlpI4rvg7f3YgcseXsvxEKLJk+Jt9bW8aYfVjC2n2tsBGMNpxqbDKSGt5ayZFcSFiBCa63Ye/kILLd/PxQ+aiPyk0d+hTPiYSYIzMBblGnVo6QHUMCZgt52/JNW9umOFDpj+zpSvcR/F6rc8YYjW2oDJlLr1f0LDGlTedmqras4c8ZNfELJQq8qjrqGYAm3fiLmdDUWTOBl5WjVdon4WGsedV0DNpZwQEd/RAR4x/If54QdeQnXYVmqS9FaHlJSZUWatf2E8oM1G9uoMW0BpVNwiVcNwDYeTjEiLU/a7JFLT4bhTdfxNYRfsxwpO1buu6CUFTO4rB/m8VUEo4+XnlXf2/jTkNJQTRBDP+IzdvdYGaLb/5Ztc48sFT6M4Qn0shxViz2GEH0OKXl3RmQufcxIsjt1dsLFCoIo+jd+SDVKPXkPdTcqhOs=","authorEmailMD5":"fe7f2c030846844c6ffd78c8dc099f7e","authorName":"Geoff","authorUri":"","message":"Hi Stephen - great writeup, and still useful 7 years later!  \r\nI'm trying to implement your factory pattern, and am hitting a problem with descendants: I can't override \r\n\r\n`protected virtual async Task<MyBaseClass> InitializeAsync( /*params*/ ) {...}`\r\n\r\nwith\r\n\r\n`protected override async Task<MyDescendantClass> InitializeAsync( /*params*/ ) {...}`\r\n\r\n...because of the change in return type.  Do you have a suggested alternative for this?","date":"2020-02-19T21:34:59.916Z"},{"_id":"4f1829d0-bafc-11ea-a648-754fc21cdd81","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"71906e50-bab1-11ea-a81e-13086860ca04","authorEmailEncrypted":"PGUHNYHfehm328wzpMfuz1fd/1Sd3QXLUmuA1k3sK0xQ/NIbNnq6O3n7dIFM63jqbKF8bHjf1BkQzlUAxGebDWAooQ34XaMY/MKJI/ZnDldQiK4JkvZVzgGoizI5ttHgaVhYO9iOswusSTHh+FcoYHQOCqxvz1WrOSZvBDGGBMcQKNx6SzZto4GE96PU6sNyeZtkLnNC7Y4Yc1QMXHh8jR2u+JYcHXJnFW6D8BMrNJ0vYLrJPyiweqq607bjSh3vdFSPk067oZGS5kgkherXh2B3qGnKB2UeFYP4knEuPSK/irpgaxxy3BDSWmKu3CLui3bnF9UgccrZmC7YBKgl49MiAmuXLpglgugWv0HcGma1uYVL0yCZE6ykTlkG9efTb2v+EmJkdX6zDlwhc6PCa5HNsCTqA3vVYoWhTS97NiHq9Uu1pcYouzj6EwdzTK+OzMq0q1d+6qoahsLB90CsNTE2ark8LJlWEnhxBXexNnhTA7A6W6IDBxWLqxXF3xPa1lSO7ZTCeACRPQ6Dql/eGPOGjdD0XA8AfFRe+czIshfwWhn2ALp72y/8rRMBLw67j6mtswCHhlI+ArSxRSUHv7KCHNFbhExEiNmG9hILpHw6Fa5Dkc7lFgI39DNKLZEY+ieefZO3AEdoI0W926bGvNFQCyHShAOxZ6vHJRYT0CU=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"The core of the problem is that you need to unwrap the task. You should be able to call `.Unwrap()` on the `Task<Task<T>>` to get a `Task<T>`.\r\n\r\nI also recommend using a `TaskFactory` instance with the specified `TaskScheduler`, and then call `StartNew` on that instance.","date":"2020-06-30T18:05:41.158Z"},{"_id":"71906e50-bab1-11ea-a81e-13086860ca04","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"SVd/6a3cQEuJWx/8JfMxSMCd8L7M9OTFAob6XMbpJblfRt95qtpdjCe4j0MJueySIsQW6M3gHZW2VfIDZw5S00AoTSQpLw9uweKs0ZN+FP/pdumkWtX7KFdEdKvE0ZD/qDKD+74gNZ/Sqkn7MlKogpu3eOKqzazI1DbPsAKcPD//+gURLEWUBcBFewGTkLC1L6X81DiSa0WAibRadlNI+h/QNPjW2DgKlIYV+izeKE0fRo2c+qrI2UqiLIQmBlgy8529LsKQ3lYKsZpoJAEwv+QtsSOQRfL7ThG5lYqZGsLv/j1BPwVedzGAOg9ZJJ352tJfZfv1dfaNUwmd8WKLTdM1jB2JQkyzmfwC//kGjoSAI6ikaZNQmFd+YyAduCPpKrMA9RJXD3aR+0PIzBCcPK57LfWO+59bvjC7+9iTSQFBQLSklTReE3Wm4IThaUzHCDCUMx2KfmhqqfB4IdWsLKFBFrE56mqmKIPcEDTt+vO05g67I0k12nQZNOvUX+BjiuN1pX8yQofmvlfmpXUVoKOfzmAGPsewBmefOQiGxMirICQaBMkw/X60iiXYRZ6YHKjAFccBew6thcGRVCIWSJjMLu1Nske9YXNwhF9tkugGGxtS6zz6/1ADQf+VGHFiYad6IGoOR9YNYGgi+RGwvUSdrDh0p5KMj0rd/UZ+/cg=","authorEmailMD5":"1f7c2a72eb456f76d736235e3f860803","authorName":"Luca","authorUri":"","message":"Hi, thanks for this article.\r\n\r\nIn my scenario, the factory (asynchronous) function needs to run on a specific scheduler (the underlying resource's <code>InitializeAsync</code> method needs to be run on the STA thread). I was thinking of generalizing the constructor with a <code>TaskScheduler</code> parameter and then use <code>Task.StartNew</code> (rather than <code>Task.Run</code>) to be able to specify the scheduler. Does this make sense?\r\n\r\nIt seems I can't make the compiler happy due to <code>Task<Task<T>></code> vs <code>Task<T></code> though... any suggestion?","date":"2020-06-30T09:09:46.990Z"},{"_id":"6e682b30-bb80-11ea-aabb-27aa57a26191","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"aNP4Ahai9fnk4fg6+FeigKuric1Pm5gnTjeQa0zoaNojdzZbUd5LkZ5HXSmKCfChbpxFMoXBZq352O8eK1zeOlQRoVUJNg/8evTZU8fUdZtCi4izUsThvNlU5obGiO3+SeWuNE7IFSWGuw/lekqX3qsq9j+3u5cU8Xf8j0sxVBfRdR0qRCEbwO6jEzad4xQUtRUy8GRejl7HZuhbcZSLUB93Unwm89maYaGwd0cO+PXzUGfSVfUd2OmkZrISXYsJfXXdLjQKgUGMQ3Tj69Pr/CND0zA0RSrb395DqS59i1CtPsTTIlTVOln30acrBLCgAhqWdnhfjCYIf6MRUJkq6pCq1Bj5j7y1WDRLZZf4grJPn+XZcvNi+I6QhE6ymy8ydw5ZePfeXZ2CdB9o0OMuDtnVHwLoB9eDx+EEJOt2ZMg1ru3J8ycrwagy9hAj4j1DKwTg8XwmE9Ug5Cd8rCJVdWUisXPORN1eGkJsCUb1rFagXO08Mua7WFkORiTnQ5DZyWcBz4Du5Hh7wm+x47cRzVDYqPrWWKrOj4YGZlI8RomI0A9PuZR9kBW1jiXe6bPmXOWU3qxmMgpb/Wbd3/mm4I4kxN50e2nszZpQ2MK9Z6Sh2+LP9XB5kRHN/rlEh94p1L2WMhMXljpl1zOuBgf44q1Mssfli5+WPxmmYix+l6I=","authorEmailMD5":"f23ddfaef7c8462e2f081824811af32d","authorName":"Shubhadeep Chattopadhyay","authorUri":"","message":"You have used GetDataAsync(), but didn't find the implementation of it. Can you please share that with me.","date":"2020-07-01T09:51:27.317Z"},{"_id":"1ead4920-c1d1-11ea-8fa0-0945ee8a677c","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"6e682b30-bb80-11ea-aabb-27aa57a26191","authorEmailEncrypted":"mCSS7TTeMNoh5iVbFvpDjMm2xsQOA0P2FFU0FZr25xTxg4lLN0ceHmff4/9786Vf7Cr70lQQ2mufPAfOpdZaN1x6mpbAG+bZTcoe0vSmOrRs01vqI5WG5Rw5YtmXGzVi8GAsnGMwZQKaOSYU+frlj6zRtjBVAxGr6HZsMTgyglXEVoKfFV+e80hMznPzpzVfePIeLrMwSZ8Qw77BNzEpg/lzFYRgpvSOUjxuN7peBJraJQSxJDe501yGIS/Z7/Xrx897d5iNFqnssLCzP6qoTiK7f/hx9gQQT1O6hR4q7u1gbJQGeb6+TW2Z/zBb7KBJRnO9pcoD3oJXIzR2AWlgi1fd8SoJmZedK1R24H9+xvug2aNa3s80OzbZYyPqxEvYxZMoSMP++p6Wd3CUdI7h9ULAgmyg58BTkZphU1MBGS1Zw9W57vU6vw0FbTJYePBgkzHlmmMuzfO2JU56L8MEqCZ/8H7jwGI745hA8WJ+E+r2JHu98Nw04N6ralwPR3HXQ38I9sBeQD7rRcP0MfXj+IwLXjgnEJn0jPk7Isb4GpDEnFZ0ushQ6QF2oCYemeBRn0M8nUnE4ZUeWUwXdQuTqPq0VCjnZZkTlbcDywDHGEVDEZ50LcGbR80oqrlZsdieZBE/vfMwOt6C1VppPWXBb04kM4rFTDvW5GndUlKqL6Y=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"`GetDataAsync` is just a placeholder for \"whatever asynchronous work you need to do in the constructor\".","date":"2020-07-09T10:44:09.826Z"},{"_id":"62a0a810-c399-11ea-8b5d-dbd23428912a","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"NaPEDMhgHUNe0sFRRDVcDHhEolT39wwB/SsX+y+n1ZcDVVVr2ekP7ftvz2fB/97Rig9QywWX7UTkwT774OEnLw1T5xwaxllVoKd6E3N044XoJrDbt7u77dY1/iJOyIw518w8xl2dw+JPi3/NUViMUK+o8XHMUstagqCFFEws+AL7uJdwnaIHueXJFt/L90wx42NY2ygOPTA/DBt+XYtRqX72Y2bFUMsiPsxD/yN+9BLbebDlWKbXnoaDbp4evCa3UTn1mRkz/MAeRDSJigL1q1FobavQY0VYoX/GpO5Hzd7U8+fTLMUYRa7qmoD5svN3IHzJEPKF+rBsJ1TM0zYxtqr0coVyDB+0A6ZRzc5C7KlWlgCYhZBBrfDr0kHvB8BZiHF1XjmzdWS7lHi4xs/bM64DIxgU2uvsWXiavF5Il0vcLlBY3uZQFR6noJNY1ZcgZg2S8oTHRbEeUkX1Oc8rvdMDskV65a3wP4+M+r1RC2ClAqW1H765fiSqampBQ6z7BjVz0MjrvtYqB3NWI0+sb+wTKCdtJBiynEKnWEEfr/FgY6yCvoyd/jfE3WRDhTfSO1ObIb+AcPW2wGVQkbxYQkPICLAzNLOjEEpAiGwCo8S6wIsxuwHlSf3aAKI6SyxJMK85NY9b/Vej6tn5wwh5d5HhERazfScmd/13/VTLPw4=","authorEmailMD5":"7722489b330840803effaa642d28cc24","authorName":"Joe Peavey","authorUri":"","message":"Hi Stephen, thanks for all your work helping with async. \r\n\r\nI'm using Asp.Net Core 3.1 Blazor and The Asynchronous Initialization Pattern and with the razor pages providing the OnitializationAsync method, I can hook into that to get a complete async startup. \r\n\r\nDo you think this is preferable to using GetAwaiter().GetResult()? Should we fall back to GetAwaiter().GetResult() when forced to call an async method synchronously?","date":"2020-07-11T17:10:14.302Z"},{"_id":"273b9240-c3d4-11ea-a199-7b6313ae0447","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"62a0a810-c399-11ea-8b5d-dbd23428912a","authorEmailEncrypted":"C9j7HG0DuI/q+U2m1r00y5rpaplIP3mZib9r/2+i3LHeo+RbR4Jqd6Zffd/fWZVgEFDPA+pJjL6v33YaMHkqK4hjZogr88WtFFxWoJ6uEejDSgCZZUdleJZbb787xlMZOff+0HQwWtAmGkpsbSeynuViiUGxYZU177fKY2ApUOb8yM9Khi+pHW+o/gU5uHxwv+Y75FnV4bHvQ5lyXlSjR6VuvtuLu3VWgY7ID+gDt/6awxUdOAoW4OkzZ2LPwyiYReYMHAnOy2BYA6TGu9UT+g1zpSyedEapffrYqGyN8ivE5BpS+qR6klF+JE/frx2/DHuglJRklJCG5nafozitIzJ0WOpw/pg7kk57n5OuQxR+hNIbUdlVp8hN4p3V4CgaXbimXEJ68LJ/dZ2Y9IEnpMUZLR78Dg/8Shzj/aqhhOL6y1mgC0OXEof4mWAlO+D8OnirBvVYxnpe8/thT535Yr1d/Whxyu5tTk/RKLGZF5bG8odnwVv9W3cm3WGy1OQGEfEHsb17RYJ6S7F8vP6eDpMdnShItvRq1eiMFTc9FJw91iWRrjstO9wKTfXvZDacGGJAPJjIe7sVIwvvIEvo692C91k7dHuzAADVWacaG6w+icvRN20XE5+ss0owgpKqgrw44oeGg/k5+q2mviZ8+Gg/GH1n9nefwK2kNQd4ODQ=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I don't *recommend* async constructors, using any pattern. I'm not very familiar with Blazor, but for any UI app I would recommend synchronously initializing to some kind of a \"loading...\" state and then starting the actual asynchronous initialization. This helps your app be responsive and seem faster. It's possible that Blazor may do this for you if you use `OnInitializationAsync`; if that is the case, then I'd recommend just using that. If Blazor doesn't give you a nice \"loading...\" state then I'd recommend creating one yourself.","date":"2020-07-12T00:10:55.232Z"},{"_id":"3e156450-3165-11ec-886c-8f039a1846d3","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"WR2KmrW/TMr9KyC8k6omz4cOPerhrISJrUlmzTlDQt31OPaLIlG7LrxC3LyJ8CGGqDBRzajYbANKwB8jkVlHeCgvOsb+6MpGHZnqPiSf7Wkllr7PpCVCPucKd/NuvzWmWHrVHClaGu33QOUbqeG5DoKXhSg0Yb2zKg/26Bd4UE82RAVXMS7QlvsL3yKE04sCgpJ6KQIixiEFTdC7IDdfD6ruHqATp+T51IlJfrOJIU8daY6hS3nAZWEJhzABu5eau5l4rvbf93G8cE0jGec8t7hAZ7/Oz6jL7ddSExRKoTXYXFR9XSIwyDZcLGivW1f4a2TRAwRxsFp/Z3eU2PANLh3+lmqT1lv0YZIEHiqx8fg4cU9L1P0+6AMjnRBkjNWcgKAhPHruSVY1eaDfBsCco0MSgO5z2FxvjmHPj9HsoNWzxGHMvMJCQgudXpUybx4BIZJpM1EAqTt09DZ5Ve30128iF/Ec31KkxIweWKvo+DRjh7HohfFsHmz+cL2EA56UObar6FoVHZMdxyt3pOv4uXTT/Zb0fTmF2cMLPzbTL3tmD001hBL2AD1Sjkr+ScfXE1am0SCLG3BmFdg1nCUc6iidUka8vEIOiZB4AfsVavTHyqbZbR86Hr4TWGYeuY5T23fqubOHs/9Wrvl8Xuo+HrN+J+HlKUd3vdaSkwmS7V4=","authorEmailMD5":"ac451586d1988964140f1ab1e1819a2c","authorName":"steven frierdich","authorUri":"","message":"What about async await inside a task. run  that is used in the constructor?\r\nIn short information need to loaded in a wpf application when the window is loaded. I like to run a thread in the constructor and check back on it in the loaded event to see its status and wait on it if necessary. This still means kicking on a task.run in the constructor. Would it be better to do an async await in the constructor on a task.run  and the task  would still be checked in the loaded event handler?","date":"2021-10-20T05:19:04.674Z"},{"_id":"a55d73a0-31a6-11ec-81bf-f94d47a9e8e8","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"3e156450-3165-11ec-886c-8f039a1846d3","authorEmailEncrypted":"sToQGoOLsPWpgn2WeV+yHHd5emIMkuDCk0v2lYC7LLU6w434Iwy/mjlGBtqUvlrm2nuhsZGhlrWIYx6uycHePy6zvuUbBeq3oGALTKBPpge2KRBtC9bTrDul6CAdR++UBfaWT5oLy7/Uvd5BdcpmKvz7oaVMojCYhh10nb4SAyrtW1NbtPERwlJ3bUV/ogQtZ3nhEqkekxqkxMS+oPthEhwHJkEt9dQKhEfhHqA11VVKxfjYFaFE4XAGy4HEjo+Oy5t9AOenBLCbnpafWKsywAC+7PINKMPD323UbfV2EOd3fUPhD1pllBLzItYLeg/sd8WFoSuSAhWJDr9MrUER2jIDp2MZ5Giv6wUHpystxAupX50Uc8gi/t3eARvqhnw6nnsXTA4zvxKSuix6LSt2gfLiYas/nH2bnS8qX/O4T17q2NyOsX441Sh5PLWcABbd5j1SP56Z4ZMRy4tS/M5y/rCaF9F+QWuIthR+tCU50X65Jr2lMm2o8AZeqg6uHc5dv9amG4neirpvO8ar83AzqgPUPpq0tuLmu87Vu6kgQt1BtR7gBDuDc4lO5NFPPJKx2m7YqLKRQDtfpEHqjtLSIloY4RmimCYzMDub6UcumEQEUacWBnO/evTyYUzWuJs/WiaQ55qZJ0REH+zioO5Ude9C/WAO2uWJ0zVwLGtkiFg=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I recommend using a pattern like [this](https://docs.microsoft.com/en-us/archive/msdn-magazine/2014/march/async-programming-patterns-for-asynchronous-mvvm-applications-data-binding). The idea is similar but doesn't actually wait (block) on the asynchronous work at any point.\r\n\r\nInstead, the code uses `INotifyPropertyChanged` to notify the UI when the data is loaded. This does require more work than a blocking solution because the UI must display some kind of \"loading\" state while the data is loading, but IMO the resulting user experience is better.\r\n\r\nNote: Use the downloaded zip file code or my Nito.Mvvm.Async library, not the code in the online article. The code posted in the article has a bug.","date":"2021-10-20T13:07:15.232Z"},{"_id":"3c206710-32a2-11ec-84e5-d115c0f03145","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"a55d73a0-31a6-11ec-81bf-f94d47a9e8e8","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"","authorUri":"","message":"What download zip there was not download zip t source code to download \r\nThe article pretty much said what I want to do but is hard to follow. I know what I am asking has been ask buy thousands of others. In wpf viewmodel run  a task to download data to bind to say a grid. The thread would not return till clear after the window is displayed. So where can a notification be handled that tells when the task is finished and so the task status can be determined and the grid can be populated if the task ran to completion. I am using PRISM so the view is navigated to so the constructor on the view model be called at least once. \r\nYou have any actual demos that do this. I see you comment all over the place but seem to ever leave demo source code to download. If I do not see demo source available I just leave. Most of the comment and stuff published by people is just copy and paste","date":"2021-10-21T19:08:11.905Z"},{"_id":"334c2600-32e9-11ec-8e71-6d72058050cd","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"steve","authorUri":"","message":"Your NotifyTaskCompletion class just hangs, I am asyn await on the threading method with the using .ConfigureAwait(false) alos\r\nDoes async await use on the thead methods screw up that NotifyTaskCompletion  class?\r\nIt does in the when I use it,\r\nYour NotifyTaskCompletion  is never return after the thread is finished.  \r\nI guess your NotifyTaskCompletion was meant basic stuff  and not somthing were a number of async await thread methods are called with using the ConfigureAwait(false). Thanks for trying","date":"2021-10-22T03:36:11.280Z"},{"_id":"41361cd0-3348-11ec-9c51-f1fa6761291d","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"334c2600-32e9-11ec-8e71-6d72058050cd","authorEmailEncrypted":"VItJXcl3G6CGyWQVz3axYmPEMJkfYdFNCMLmYHPRyqT8lRJ1ISGZQ3R+QFBbUj+GitrmTduNmjzJxQWteWMXFLIH0sp3d6ocFFyGbAdUwZLbGh6YcHJ+EkoDEsc+Gf+zDLf+/q7welODNCqC7T5sTS4JdWi9/OCXstGkTpC4Ei+8XHeyFWwaFxdtmIyIG5j1MOpYE7OCQNGU3DebT2z6XD0TlbxLXJUcknBvk3WywP5qvWS+kfmIsHM6RTDgHlwppJbKDSNfuuvS/9TIPJfj9Z7pxXIhTa7sHYTGI7aKugdgtueu9HRUzzNfWMrSS0Jr6qfbtnDRbd/UnvviyeQYeSCJqi9W97/gz4NsCuteOtrrstCp0yZ/wJ1qmHizW4CKae2ppfyqvc/H2qr0u1h9HbJLcMipfJGTZn7uUaDROt6By3edyVvOEnk5MLCdiyKFJ1Ms/x6FBHRMcSqnYBVM5GHOynp9OibHCPLyQoQW2uKk+0f339VRRf3xjAcAiUcHyiN6Izh0+ANNaANB/2Z5dgBSvJxdFYZLhVVnZtCkVbVQtsYEX2bmjzFFg1L5QGq3Rzh2z0ZPwRoYD+nkqiuQ9O11a4Lx5oGJz/ZfT7MN8wE6rfQTtG/wg4k9ksPUU8gG8MlFuxiLePhzvWs8eXPRD4XERqghToQRWRsR50VFBSc=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"As noted in my original comment, the code posted in the original article had a bug. Use [this code](https://github.com/StephenCleary/Mvvm/blob/d90b2a0e4792a450549f3770e7886275c3ccb0fc/future/Nito.Mvvm.Async/NotifyTask.cs) instead.","date":"2021-10-22T14:56:36.802Z"},{"_id":"76a0bbf0-3348-11ec-9c51-f1fa6761291d","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"a2f95cb0-32ea-11ec-8e71-6d72058050cd","authorEmailEncrypted":"NJy4fLRdbUwugl+kjMEnsaadFyke/K+WOeE65HH+v44xE4U5+nFDML0sa3lhunpzBUKvxIdS1WJDbLWqgVC7ccqaa2ziVk0CvEV/Xc0SM/NfM/d8unq7J6tV6+tM82EMpA1iuAT6yxFmGHS1bryadZBxn6B2NKaf+KC4hGUsN9fzKvGxJvwquolcgmi6mYRoMKPngC+gORHA8dlgu8NAXNk5PWWDfX17IODDdKBBaHM9Ca8SALJPtz9+v+6e8KxFxRTDytajVTWzaWBvejg1HJ/O0XIy7IwaZY/mZRahvfjYv10Z0j238OOdOTpDbnzDkrv9UAxTX0iqqO8soa9+PLOcb5lkcxxoZ79pO/gurOMw9oaIV8JH2JH1Ld/iH191aOUUULFQ4u+TVjTJ1850MNJZvoAab9c4A4nZWmNBLe5pyCLKh1b0F0ZwQYrq2WmOGWhb739Qs3ObmM55Rdg03pfS5xSxGPtyanF8lpuyYh21VGq81+4fnmbWlK93RomRSbmTe1aQtBlvdEjLlR63tj5KlkQMZ7Y3MB0nokxqfNiEhJl4ZIMAccsYoIhReQ+MqxGtWDbgT8MSbnVxyJgiJql8kI/mYv2AkwtC3RmflJgGIyQgmhSTHqpnAXQPo4Fuh0qa+xu+pDbrHz5f3aWSX4hm1H+yaRKdEKqsGvlnQLE=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"No. `NotifyTask` will work just fine regardless of how its VM is constructed. `MainViewModel` doesn't implement `INotifyPropertyChanged` because it doesn't have any properties that change.","date":"2021-10-22T14:58:06.415Z"},{"_id":"a2f95cb0-32ea-11ec-8e71-6d72058050cd","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"steve","authorUri":"","message":"in the link you gave me why isn't the MainViewModel class derived from INotifyPropertyCHanged? I have never seen any view model class event not derived from INotifyPropertyCHanged or a class derived from the interface like BindeableBase , ViewBaseModel and so . So are you saying the only ROFL the only way the NotifyTaskCompletion class will work if the view model class is not derived from  INotifyPropertyCHanged?","date":"2021-10-22T03:46:28.145Z"},{"_id":"e49e7fd0-3347-11ec-9c51-f1fa6761291d","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"3c206710-32a2-11ec-84e5-d115c0f03145","authorEmailEncrypted":"dbdHxpU9jlXTtrUJ+DK2J8xs7bQD7u8o6sOIjkWMQ0wBwR/mIbBaNV/AqWEaZJkTmtg1Ed8xTwUkiAPK4fA9w4JWdKHiCmnK0sVUFbou6x/douKjj4wc4tO7U/6oNgry/jejcRuCQFfoAlWcS+VJyGfH3Bm7tebmQxiakZkVk0dma6VNpcxFVq1nkh/65aw0846B329HvJfCii/w3oqWdwivNl/Qz8XXWgBPOaRfEhRC19nykWy5zp3Z3ZBwQ1R+Ibssto6qC9xHzR/BV7hWvvkAOq70zJrjU3DyqYIeYOaTSZYuwwsCxCb4niJ6ypdGX0E4uM4B+VZj0kCdjIrpwijwG+0l5QErUnYbGhQ18Nvyt+ajAtP4oiE02k6aLMhYvSyJQdeV9/sgA0ijlfFUKbR7gwxGtfeeuEZvrQHCuGVcYMwFtH3j2Ns+xoyhe5CyuoYzqLH/fM5OtXEZE/6FnoMN2HJjPmWx9YkDl/BaLJMty6kRBBAd2DTeyiX70XwPsi9O8CIkBgFAXdJauzW8VbgscQICSyv1QgUPqRvrJ74tYNYAoIYUlUGvBseb6A5fH4h1bSYNVapcz1Hwxqgd9Bozc2aKsrJTKhUzfUXyKk8CVSyzoRZ+rvEs9RcRi3+qlkUrUYNKvXoNhmntOD2miGO4DPJl8NGlaSNxjXfDx7c=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Ah, looks like the download is no longer available. That's a bummer.","date":"2021-10-22T14:54:01.601Z"},{"_id":"deeb51a0-c459-11ec-837b-23cca489a5cd","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"ndNR0pwF6g6AxaMChv/L+FCExBT8B8DeWMgJiVHay8qCpHMrCsKT8TLemT96ntlcf3kMVlwNGMPJ6DMdOa+xeco+7zec/cSTvBH0+BPRQOyOiuK4clSAwzefR7yrpT/c0BEVvMOeXw3oROLsdIRlbBMYaoF5uWnNhl0fsdhoTegggWK774rrsqYCCuoqZfDmp3H/g6zXx/PD8EBMndLwYiWrFNb4T3qd5GQWYgT355NPt/AgXSj/msyLRePs+lGxc1QimbLY7MxDIyEaQz02mfd+v6OHViyH6kPSWrCpVXf7j/YG8MIy/yMKSI3AKixxQhIXS5m3O5+P/6EdObAxLqJeEfCBNbNgJ2TlP3lbl7eYs6+ap+sFXJwD0976/YWDeOr8w8UhPz7wK2NuTBKM1tS8TfHW7XDN4O8v1bahrEr6+WVVNqDUZJNu6dHGJq4ZGxPuj1fZMtn2+EJ+dN0Uq8HS+rHBaytHptNLZWDr68QYc4m54JJKyJThFkfsQE7Kuva2LrIndwYg78xl+pq9YbD88AEINghfuzOGDqb+ox/Gv71aa8Ag3AIVHr/br9jntSW7LVXXb3thI8i+WCxQt5wkU56/TKQaYyf080uVRl03LX48+KTlz2iPdwDV7LDZnMip/lnt8/7JFcUfwZqctINsuF7wX6IdnwmtNO4updQ=","authorEmailMD5":"0823eff54ff09a56cdeef4a051cc7ffb","authorName":"Joel Mandell","authorUri":"","message":"What about while(!Task.IsCompleted)?.\r\n\r\nctor() {\r\n\r\nvar task = Task.Run(async () => await MyAsyncMethod());\r\n\r\nwhile(!task.IsCompleted) {}\r\n\r\n//reach here: task is done.\r\n}","date":"2022-04-25T05:38:01.489Z"},{"_id":"70b11cc0-ffbd-11ec-8278-c132177ae00a","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"deeb51a0-c459-11ec-837b-23cca489a5cd","authorEmailEncrypted":"Mafz3rdLew0qV9bRCfCrthY5a2W2iIY7894t7D+WsocEoFFLIfkHvXqsq8S73y/e3GbQZs+1RqtadwA752/ptyz3JFXHqsJ03K2Pfrhh+bXWeHDA/Fpizq/x3PyheplWR3TwepSZuwMtoqNiIOgrzGIluk2uctKFo1Qa81Ud605wLIJf1F4yN1dmeFHwiI3sJgDxgdEzhCM4kVS6+BHIJPbTpFQpDNaVLPY4zSSokjL7ymQJv7PXf2Wc6E4JOM6OqW8TF5KURY45J6aV+uEckJYjnAfmzWRFOwKYuKtO6PjerbCt8pztOp/wgPne6OHfSn1bcGpyT1URHMDczHkVNu7OsorWW/N4lF2+lzqHFnXv9bP9HOdXqysFOsu/O72HjYG/UvK6TSgSmgZIOEw6ruJOaduBGRQ4lXBzrIF7HytRohPmS84yhYipxYfdmQ4PlkQ9+Aaovuxy6pdeImoWJMsII7lJvBqT+QSD7goaiPCnRaOOeNs8zYDYuSqTisHg8cntORX5U8G8eMPTgL0H7JDS6zimOGH/brax5melCpMSk+8HoGZAvOOYhRt8qK9JdHvl/CTZiAqojUFqxa7Z3wg1iRAGxGyQWpWFF17laOM48aTBHM3xgfNrPmmEwXITRq4/O8hr8kKFyJrMbtf1QgdHL2JBXNiwEoweYewzV/8=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"That will busy-wait until the task is completed. It's essentially just a more-complex way of doing `Task.Run(() => MyAsyncMethod()).GetAwaiter().GetResult()` and has all the drawbacks of blocking on asynchronous code in general.","date":"2022-07-09T19:29:24.755Z"},{"_id":"77508de7-d64c-4d82-9188-e41574251573","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"Thn3MyBIPon4cE6VpGWIHNwxPrfzciHDWV8yYzzCJ5cEQAWP84LZyFmqP9NE/BMYDxcSKMj8FHnV+OIfNhSN1JMaSBhafammllUuKIUHPPEE/FOnBpMPTesP1jOIiQDpTUcvzDrEALDE7+jq6r59ph3b/30sbz+jcyLm6Lok8H86nBKKUbcEo65t5mAOtj3ip5Gaz0LoIHCrynRl0HkIxKhG4mffKGxpLfMRc01zm/4BrWKGA87ay46is+V+S0nqS7l4DVWkFqkxoFGMARUjnB86B70eOUge2ScCMOia2mbcq49a9LBeCP6ZzwR73H5Y418d+ynhjMzW5x3L+RHPMXSLaRf+YHCoXcP1ussrWVRAja+B8ejq2lIwkBqga3XkPHz025BHvr6s1EmEcxmxwY6VDts0vk862+Mb3zKVLAf+3KmfqGvP0u75C2kBBpnyOuhocwWm+o+AmjNdg2QayDk6jZHku+YGh2hsvqSLeUSUsmV/CAF1J0pA80q7yMJ2bxDO0FOXsOykMGcaj8w5sXE7XNtkF3FLMQIiQP4kDrM6dgpwvqWRbsGPZxcVY9+BSYbUZnzvJfJD+54wUG1VX27uV9nQ0475jbLsqv9AuBtsLGDCIYox4CBHzF+YI4zOaBAPGr7Nyiq+GxuSbXXjv1zll+5Y9G+z8iY1T0gW170=","authorEmailMD5":"1899e3c7a8182c8a8e3d4b66c89cce8d","authorName":"Code Agha","authorUri":"https://github.com/AmirMahdyJebreily","message":"Thank you ❤️","date":"2023-06-16T17:04:23.9551098Z"},{"_id":"ac5aba0a-941d-460c-9648-d5ad593d092b","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"SH2UeuTw3S69MXb7MYoDjzx024LXBWQxeVQFOB5WgCT11RmcWgB4FbNxsx6xFTdjdlUO1ua47cVAurHsgk/sJ/Wo+j39vTJb4m6utcTqB7H8oJWYy8PpOxgFYkaxbs24+t8nlRyodaWUDbQejhl1D64/KNolhWBoxgyhEidEFqNuTzXOl8RmQ//xW5qzVafc77ULtsl57w6bZI51ihbWfqmcPcQ1FYU4lWYTihhVjJ/atE3XtaR4hhXDjlwwRE4mZ4GTBklkf46Lj9hZptkYxat/9Q6Lq/C7IhxNdxLyKS+bn0Wb40tlIpFWTWYJfSKihVVTftRNZxJxow9ZdfEKN8CUG37cSGDzJ4vN2dLhirJ/cfg2ZV9RrFlpyIAxE/DUKgmYOQRnPPN0tPIlA0bQtPzTMFHe4Pemz3jYdP9VQvg5OxKj0wfwUKxVUtURNtpMJP8X7nJA3k5ZFYWcnGYQ8p653VIKVzD6cyMtfAYsffdu/JDlsXtssPDd6W1i7eDwx69G0Gny3tgb85mW81ppv3iuJoRT23Iux/5cDwDpLK7l+pWGcvtPTjiAi0neLQIVm36TGjxOFNkchKTdmC7e8ilhIh4ZeCTGR3+9C1EUdU3UbTi9UiUU7hTyIPaNodAdYZrgYgGj7ABb2/sk666e0BMkv2DkVaNCuK6KNlUNrbY=","authorEmailMD5":"5c114665e70b724fb6b0e2a0f96033f0","authorName":"GregJF","authorUri":"","message":"Hi Steve\nI have a class with a method:\n\n<code>\nTask<TUser> GetUserAsync<TClaimsIdentity, TUser>(ClaimsPrincipal claimsPrincipal) where TClaimsIdentity : ClaimsIdentity where TUser : AdfUser\n</code>\n\nSo what is wrong with calling this method in an injected object from the constructor:\n\n<code>\npublic AdfUser GetAdfUserProperty()\n{\n    AdfUser user = null;\n\n    lock (lockObject)\n    {\n\n        var httpContextUser = this.httpContextAccessor.HttpContext.User;\n        user = AuthorisationCache.Instance.GetUserAsync<ClaimsIdentity, AdfUser>(httpContextUser).ConfigureAwait(false).GetAwaiter().GetResult();\n    }\n    return user;\n}\n</code>","date":"2024-01-23T04:39:52.7930498Z"},{"_id":"b6c08ae8-9735-4bb1-ad03-0efad2de7943","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"ac5aba0a-941d-460c-9648-d5ad593d092b","authorEmailEncrypted":"BdMHsVdoCZ5llLjkjZlNwSdMDqungwr3vOdmb7bIZlVYkaNYwrQ9BzfL6ZmEsqxOwl5HlyIfDzNRpsSLeGlnvxWMcSjJvJjG3wTapgoFHeGfLY7ga9Sgvl67iDT46aeYLyHpBZHitabZzZdMchlcTh/wV6utLdHYuWdppwc2HdDDuWe3aIkMZEAsoiwbKrcnzs3Vq52QDk0yS1Aq3GCkdfLQ4nL/LS0zU21/iGBcpiL2y5dhBZguK5HlxfZL5KT7156s6w1C6fVEyvk/4NmXtz+geT5vjx9l+K9rANPm+dRlqx4a+MDQCI8zckIjFnxcmun7189fLCQ/8MKfPNF/BTvGRy0bG9M8EXfDz78C3oJiRrEq3DkBQyptDa8Zr4Ti1fd51baBsTumt/NHY5o3BHT+r6CjZGAT7+k0ukn6W/KoTUCLZwnx29YmA2d8rQNVbQ0XUYfQXv1xBLepGEXTLSHwtXBNd1WgDCs/rts9s4IbtiTlsUOovJHKN41QlzbjFj0Zhb8/WrGOQAL/39KHtrcxRBgQ+PHyPWmKFnaQg9T/y2Ib2UF8TYVWQ6GXS8Ax/yEuyOp7N/a43UlcWCigmEHhHtzeyBBGh4/cTU2BtlGKcy9ozMBG1DZp6DzCd57Ow9fHQF/bZgf/4gAxB8B1sHxnn2rX1J4LMr2lqjKbRvo=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"That's a form of blocking on asynchronous code, which should [generally be avoided](https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html). It can cause deadlocks, depending on the implementation of `GetUserAsync`.\n\nNote that the `ConfigureAwait(false)` in that snippet does _absolutely nothing_, since there's no `await`.","date":"2024-01-27T14:09:24.9614975Z"},{"_id":"1d35abd4-9fce-4e70-9d6e-6a01ae94fa21","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"4c81bd74-2601-42e0-981e-6e7d22069388","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Aleksandr-Vlg","authorUri":"","message":"Or that delay just for example some async job ?","date":"2024-03-22T12:42:41.5971697Z"},{"_id":"4c81bd74-2601-42e0-981e-6e7d22069388","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"5d320cca-c00b-49c6-9359-95e3d340c56c","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Aleksandr-Vlg","authorUri":"","message":"Inside your book (10.2. Async Construction: Factories | 137)  you use Task.Delay :\nprivate async Task<MyAsyncClass> InitializeAsync()\n{\nawait Task.Delay(TimeSpan.FromSeconds(1));\nreturn this;\n}\nand my question actually about using Task.FromResult(this) instead of Task.Delay there ...","date":"2024-03-22T12:21:26.6636011Z"},{"_id":"5d320cca-c00b-49c6-9359-95e3d340c56c","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"a2f3dd3f-0c91-4650-a63e-b2478674289d","authorEmailEncrypted":"BsTcpXWViofg9LrgMRrLJjyBmRt6EtnQRzFXSxTbYVOawisgOA+vQWLIkVaA1kPC3T+1nsHHpYgbg34KbBeFsjaMaMYIIrObTASfml/kJKUZUY7gBFIOvzrOBn3YoW3gdURzPYkJ8Ro08A1fBbMxWkOOyhfbURBiuLEN9faM7ZsZ0HRx6lmoPbZMg/3P0vS6FIHRzW3LVch+XJ9zD2YPvH0GCkGjMOJMlBX0xs1uAW5e59Hnth/TtfEH+ZMxTnH/iNqyoNCA5ZJnbBdtJmhk4CqAAvb3Kcvow78ceA/aekUthbdqH4NWClgYVnG5xBQwrsqd8Dt/tqTo65ryL+WaM/lP/CAEXsrkwroxU8dK13sRXZ/kJizVFd5E29fb9beAul6gKiNQLBfu3KM8ZxhpWQRuhFwgJo2B/WpWacReNFJEs1MfIW8RJYUqIqbyXjlSQ+R6WvlOGHemzx8YrewEP0Y4nPCr/HnSWwEHJR72GlKhMk3DdIG61wptzolfmo88Bq8BrspQiHhp+mlWVJNe32a3Op3sevkPXygzUFmv/7IEzeRj/7hDP/RemLk7667A/hf3kWYmT25T+PksYiz2hdrHvbXZG+Nl/7gF0QXJaPTw4ueQ8M2sdYEID7rxh9ZQGv2d7fxfbc8P5IMj7Ow+evqWi9xccaoKX9ncucAvhMU=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Why would you need to? Why wrap it in a task at all?","date":"2024-03-22T11:59:35.3431571Z"},{"_id":"a2f3dd3f-0c91-4650-a63e-b2478674289d","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Aleksandr-Vlg","authorUri":"","message":"In case we don't need asyncData initialization(Factory Pattern) , can I use just Task.FromResult(this) ?","date":"2024-03-22T11:02:19.3656883Z"},{"_id":"c316d786-5a49-4746-91a7-45fc5f01f464","postId":"2013_01_async-oop-2-constructors-a5a9395b-82e1-300c-a62f-4326cea131b5","postUri":"https://blog.stephencleary.com/2013/01/async-oop-2-constructors.html","replyTo":"1d35abd4-9fce-4e70-9d6e-6a01ae94fa21","authorEmailEncrypted":"idUr9yHWDcTrqioVJ9NHAxU9qjEmjTtx1tHLgdoujNHy30LUVX+yDktWeWggU1d/CKXgLnVLuktbyudSziNzY9p6/PzWTaPeXSr11Unaj8W4QUwBvtTlMN9pNEt+CIgIFW9zQB2CIypz3OLY610duKodUlXQqwYQcUtAlf1FBZKl3BYGTMQrY8oeraHMFEDqlBbV/4pOvnAGI1AAIc0nE3rfmPUJFoiOUutjEfCAr8sWzXb84HwISR2Eo+CwR4ORLUUaD71Vl4XTMVoKXFCDIh0RQTBBlJEAd2cEZzw85W2lzchWxmGqFE/MMUBSTMycEbx/5N4NMFw6XYmNOYcJSnqboGB/ul5hz6yTrOlBqSXZnziRnflZyxw377sRFU9jyEiFv5BDokjim3qQ3d4GagpcRInqAoV9lg6FZZ32SZIrhdjtsDVWf9Ho/UYgNdfFA6Ycuybec8fwUASlnGzC2FAWwBYrIdQyLiac5CvgIghSymyDtJF74LkUCvgGqTdSCuCWCaIi0NyFTGmvwePOuYn3x6NbMz2mITz94x3lCjMWcYifM12PcaXJRgR0tYbnzejk/WOTcLIBhqznXSdX89qP/6qgH+9U0Tib7Gaetg3G4zZZV6J8QPcSqiJQCunR8YsN5VpspU/IDRMEU90cVBSF2m+YAz/A19kgny9l4AM=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Yes, I sometimes use `Task.Delay` as a placeholder for \"do your asynchronous work here\".","date":"2025-07-19T00:25:04.9265532Z"}]