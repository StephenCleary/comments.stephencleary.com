[{"_id":"5b88f420-5759-11eb-814e-b7752c685b65","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NitoPrograms+%28Nito+Programs%29","replyTo":"d5f131d0-5756-11eb-814e-b7752c685b65","authorEmailEncrypted":"O1k+1cCCSuh7h5Edh8cA2C6IY9CT3HWhP8/k/Eh2X0KTlOQQketaB4EdKYBptp12oDId4it+rKvwhAAQQKsp9iXK0id3UmIJJDpqNgi6EUhd0W7VnXpLUkeu6NZ5nFdPKk7g1NX7/W+8XU3HRYpiVL70rpCdlBB3HBkfVlN766+V1jLs7KqC4EVMOPikZNYNBUZPohYCBnp5dOEIgnpVpCAGdh6NeLV8thU1OgckHkg8ETCwq7Im1qmJvyIZRKJkGKhZXjao4q1TxEl/Xrew2vUK9JBep+wCIsbay1fF7bEYLxr3zWu0HCeihVgKVxcA5fvQ7yYzh/PmtTU0AwAhVxtjE7lOo0mmF4BANwJhd2IAVC0gS3GuKPhlUDIj3Atx+pQVhYwgP7ZEicYE5cAEIy1ZprshudE76zJgObQ3HmSLzdvx1oLW+CEZgz4NjtjQMbKnqvE7NtW2+CC5W3PPXH11NpnRPtCtBQVes1UQid8FiaWYrdUEGx70mozwsGHpvhx9sY39jMbWzMVrwsN0AXf1n1IvsalNZ5iRco5U/sIE+H8WNqi5bGQMPrEyHp9NShccZDFTNu5vjrbkekB6olUjsJJTAROHvQbsiSxMGkyWBysVjkXMBWobZ+0MXcutlBh0+p4Mr2T5o7Uia6qkAMQQmp1z57cLrKeqI4e2peY=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"You are correct; thanks!","date":"2021-01-15T17:44:46.690Z"},{"_id":"b286c920-5775-11eb-8cdc-b997ab3ba253","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"","authorUri":"","message":"Awesome so far, look forward to the rest of the series!","date":"2021-01-15T21:07:38.699Z"},{"_id":"d5f131d0-5756-11eb-814e-b7752c685b65","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NitoPrograms+%28Nito+Programs%29","replyTo":"","authorEmailEncrypted":"E0gTgZPISgCUl7+TqN+hA8NlVLR/awjfRvAhwxILFf6PerIoRfWIT3FC3eq8Sq0n5y6TO8hvUS/9mbbN3H+Mkxc9pIm2voNGsfs2tLg4DmAXF6F/32rpmtGYZuupKOLTLkiGpFY/dsYj7C0SS6JmpVA2/BI23C9H+ctfUnSQv337NXDgauzzW8Fve2utlIrJPa05xCZ6SEznkRvXgVJV+QjYtCgKLOi5+pNVVVIujoALLtNMJWIOB+ULg5yJJ+NAoLaHxDhU0/K45tEApUNicS/pxqHDAwi7ZEHv1F9s3Yr3APYr+/pfevJ4U0laLbV6JCnod5/YaaWhsVqgO7WIM5qNP9IJFaz/Xt7KZWgZDfwJ1vYI2GRMyTCVh37f4YJgyT4yL46d+AYCV7vwQGD4/qx+6ka9s0PE6V3MUTHjcR15R+dUsYtcvLBZ/hGXEUYoaxHlWx7ZhkH6U43jyRWI33yRQ5tdxQtZoKJU53LhIwAf5HPGlBIzVJQ3L0Sk0St1ArOANj9wjVumIO+iTqbgiJJX6dc2lSGbN089ovhn2s3Dby/G79A8kSp2SHZV2ozh7AH8WHRyZrmuX6b4MgwUfWTwvEIQp//5c8uI5RksdPnJ4Imr/1dQhMG2JqtD1vGGI1KGVLZKCLmPdMH4sNT9xV8/UKOxJSPVvXiVQufAz7E=","authorEmailMD5":"471604f70d3d7faba716bacff46084e4","authorName":"André","authorUri":"","message":"<i>\"Correlation: All software that...\"</i>. I believe you mean \"corollary\"?","date":"2021-01-15T17:26:43.591Z"},{"_id":"2e4b48d0-599f-11eb-b8c7-650b532d091a","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+NitoPrograms+%28Nito+Programs%29","replyTo":"","authorEmailEncrypted":"QZTZQ0Idm7QnvoP8SOVhcRulx3TtlNRWBRvwmzIlD04ujl0bj8F2e6YxDLOlI79994rQXmgG9HqG4hwLeRJmUX9K/8piS0CGDEnspZn2wdJYLJRpanxdxCGFnyR1jRGFglKBvLURt0iXIbN4XKNYpEpg30CEHSkMSBeGTPJcf8Kfn9Sx4u6TuFhhEcZmaXepfYDAzkMOI5Z/arpYwM1ZMw199saz7U5CRHChTZdr6dmUu11A2xINED/F///BG9BTz2UTlAVDc0D2Hyr3O2skzgqe5u9nE6YDgWRurlAaKxoZkL/AwVnwSfcy/sgiWpvtxg8JpohardXg2PJDNnwcEaRYlvwftVw3u4KdEaEygkACfcVd4O2tklF0QojP2XaxfbZjxr6b5hSj+LyvT6yGnHsd32Sbux5VBCRsRa8GcogYsBjzfmW/w4n5WoglHBlp/fvLVY2tBTEtJm9Z4LXhJBlt2/6HOEgIx2DKaxWCAxZ66R348EN7PTf5qOKNxktn9bpd8yrHRzfVMz5Ky19qU/FcXOk/D8fpzRnRR6BPimdM1heTarEAt0RwYyMR0IJ/Oe+Tio7zFmyh+9AYPO9q0ic1qOiENJPDGdUyea/KYuyiT770fT8p8Zw5OH7tkCKg1JOZklsXEiTCp9ArwFXxz8WCQyYNMXdTQkqasKVMGC8=","authorEmailMD5":"81ee1d144eee332cfca3d1ed3a5df629","authorName":"Steven Bone","authorUri":"","message":"<i>\"This provides an at-least-once delivery of the messages\"</i> I was hoping you would bring this up sooner rather than later. The <b>'at-least-once'</b> delivery promise is inherent in queuing, and an important point that 'surprised' more than one people who implemented such systems when they found situations where the same message was processed more than once. It is left to the reader to be aware of this in the design phase so they can ascertain how this reality plays in with their use case(s), queue consumption strategy, etc.","date":"2021-01-18T15:09:37.942Z"},{"_id":"47195000-5a8a-11eb-8fc2-0bb966565b47","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"ANUM3YufpC/bS3wx01PtWkHWOHuxm7Cz0jQiJ2beH9cAXgwRJoc3MOqZ5kabBCF0aBTsvFeNBv5bUJqx8HKjET96xdg7ucqUDWUO0PHFVDR607E3ebkhwyOW8C4ZM5KOhaAMZL22V5a1W6Ef4r/tgJjEccyHaZlF1t9QHl9z6ykyc9lggfhSYUKwJoSZ7Q+xEV8T7P5183GMXOYXQwz4jvDY2MsV6sR6CRd6bhjdscfNz9PPHABFbBMSzA0R/WcHZ3a35CaxcRjbFJ9egOSe6kMMh3P3b7VL81MZ+CrDng/3YLqOEwgAj09Fvd4ihj4wF1vZgFtvSzAxJCQhT8l6Re7cadwf72snfVTvfTQQra7BnbMi7TYrp0XqZGa78vFLaIJ1rFcxBsljZvBM0IGwaEVhxpyJEs/djMC0fKQQfcIi33SkVarpVD00vyruMrQVqvA4YD043kH7nPdhEK7KlWToVxLbwKW01shfw2lr9xIua7LZRpiBotPcFE6dPuFEjerYRE7H014ORcTk9xd6iFMd0/fBpfeFs+O+0pbg/p9NEAAILQFSb1YTHSM3zfWR7fdiofoloRohy4yNUSTKzygapTVL90lt+K2UrnxPV8qhi6e6f9IdrdCZqjUJjZ+mxvBzoaiYJQLXqGL942rqalGqRZsGJCCQbt5ez3pCTog=","authorEmailMD5":"e59f5778148170be2016aafa520b53b8","authorName":"Tom","authorUri":"","message":"Thanks Stephen - great stuff!","date":"2021-01-19T19:12:31.376Z"},{"_id":"1711d330-5c08-11eb-befc-111467342110","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"Mark","authorUri":"","message":"Great series Stephen. Just out curiosity, what's your opinion on NSB?","date":"2021-01-21T16:45:38.413Z"},{"_id":"63f11e60-5c1f-11eb-a313-a1b47c10518f","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"1711d330-5c08-11eb-befc-111467342110","authorEmailEncrypted":"Ikp2JFopU33/IwUuzVIoTu5YGIaTMJNcbQe6vCxcXEIp1rAH1rfOW34/vAZLvxIC0a+TRrWaBSebWOq2WZy5MxGku61bG2vNxjprm3rwCYw7ySIE0JVsTqfYJ+KT7EO76/F5ZsSKPjqViP3hGW5xiqBoiIDnykgYeOecc8qf9LhXQNNusHnalpU7Ipsuax1g+BS+Nja1DIvRmGzMXaNmZYvCTAIfK9bL+6jj3EZDtfak3VKxl8ThAHwMiv/y6eB9yH2t/jrZCY3eozCMoHpFqFdNr28V+Il4ji7Wk5cJSGJ0C7zZaIaqZQDw7d8+LPzA1egGYkHhzsDS2IgprS43BhKBIZrEoRR+uE82Q/r09nRFijPJMp875ksPnfAA5tkm1k+rxXRA8LnUCWZvpGrjGIUC1ycrxFharmLvPN9IUIaqVUTwES0cc+QCmrSIM7x3vS5PCfP0f9JF/ZwX9dzqGfHYr59ZZqzrs3q4fe01Fha7nNNkXi3ipLhzgUMxaWE4FsqwhmQB8rLBzftgMHqUljoPCaRemoo5XdiH3T1Ff9hl3J6IDCL94BMVmIHkI5ZCNwBC24fAByhIp9PormqAeAOchYbkWN9ux3zgJSsF0bHXnENNpNnUSWpTc1K4UmNjLcUEr45t+zLiZcrrXNW1ccOLFW1eB7tgbOXiqW/ewE4=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"There's a number of \"message bus\" solutions like NServiceBus. In my own development, I tend to stick with the simple queue approach.\r\n\r\nWith buses, I'd say the following are important:\r\n\r\n- Messages must be durable.\r\n- If no subscribers are present, messages must persist until subscribers come back online.\r\n\r\nAs long as it satisfies these requirements, any bus could be used in place of a durable queue.","date":"2021-01-21T19:32:25.823Z"},{"_id":"c5918da0-630c-11eb-aa53-6d8926a03d4d","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"e6c6b7e0-62ce-11eb-bc49-3586d078e103","authorEmailEncrypted":"Jyh5FfsjkC3KFvuh3fUlUsORFb6dXlCcLm0oyaqxd54AhuKB156NqjxiPCJffDskpZOrvF7zfqLqUsj5mapRyAo4VBf+ExZbqQgtDT/PV4lfw4N8GclsfU7cZq2v96wn6eS9AneXnEYkz9Xr1zD0nPh/HTKusyX5iyAuqMBrJjeCn1iLayr888ANShGEWrEPRqcDzQDS/Eh7w/vIrn00Xxa4hn+JT1GD0MFeqgZGq+rugcNDSD91b2A7BB0naF5RImWxXb1wHkK+8Jw70pAKsYZn+lpu7l98tiJX3PTXa2TY7RRvP0sE26Sl11dK6+vyoGlHK24viWI4YDPPCT/072KuhNctDi6R4OidRp+gSTmYJ2BMqf2QQqyURDV5ti18iDKrK7OEsPPtglgMF2qdO588kwDFtSuuVElmH8hRk8boss3viBCukXWaLPgWHWQN7thTOlbDKUl3qp3+cEEWvfKc4zCvrYDjdWdJadUXTKczqxK/WrATiBuH0WsLRiWNq9clXD2QXTegMmYauZYj2BxXoAchljNuyGWkD83yMId8qaE1UwtduymxIpQsYVyzCgYWTDr01eyfSndFSIhBm+SlhXQ2iB30JT26G5pxUhV6FKuuuoHFiNa12IXJDLl50nJ5RjDpXxmqLi5GPvc5OyjMctMCVZnRGOvBB+qzeEk=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I've actually never been in that situation, where a single outbox table gets 10k messages/minute.\r\n\r\nOff the top of my head, these are the things I'd try:\r\n\r\n- Check whether the outbox table is serving multiple tables/dbs. Perhaps splitting the outbox into several tables is possible. I normally use one outbox table per message type.\r\n- Include a hash/id prefix in an index for that table, which would allow multiple subscribers, one per hash/id prefix value. Note that this would make the updating transactions slower.","date":"2021-01-30T15:06:47.282Z"},{"_id":"e6c6b7e0-62ce-11eb-bc49-3586d078e103","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"U/RY7ioEbHkLGy64o/j5NXwLO+SHyDieOxfY9Qfkr9j/ciR6zd1KqlRGx0akb4fHbR/HepBTOntpwk8i8Oa+WzpYnJ16V/eXYZNbqWJnEuBPlZBg4u6LDXnIzoBg14BOgoyLoHGvA6kZEwlolm2jTAFWo0p8ZMqmXG/jHVQ4NGnQiIzmtwB+qOnAXmJKSgTKO2YZbxCX5u/LGEmapb1ZyURCfU66Xaa0VIkuL84EoiyGeEPCFAsSDqJUPkQP1i5bqxbv99/63txisw5YXpIMVpA2nkMlZfVI9MQReCxgbtFPbKZG8YJDyWBinbXoMrp4gwmL1SvKK9UMyx8hyLeGFw0tt2K3LJ9ib4HDm61YW6HLNI6fHlnnmnM/Iol2jTjaUMgU4+7PiSzEiHVc3xleb3zGybyTdibsZyPkJHR0G3McgG/s29TACMZpGBajlY6HJfYZC8UoOWc+AlE0LNWmM997u5Bpu7gRE10UPTb6hE2OWVxRA+sPcuF2PfY4fLC1jYYI0PG8y7OaGhFc9LvA35uqxTv+V8xIpDaupR2FhL4togwbe2UtAiZx3rSADPm71K0OpQKNZpxChVA7EmE2a6GeMSrbfjfizkuPrehUKksgYupWQ6e89io8vYlCBnobw2j3FzQvsUu6cxLUOLZmHzQqpg7P7beaFxVttgEZWJQ=","authorEmailMD5":"6d444139cea4079880b0787881737a19","authorName":"Manoj","authorUri":"","message":"Great post, really appreciate sharing the knowledge. Want to pick your thoughts about the Outbox Pattern, its good idea to store messages in a temporary table, but how to handle the scale issues ? like if we write 10K messages in a minute, we cannot have multiple services polling on the same table (without colliding each other) and one service cannot really read all of them and handle it to Backend service.","date":"2021-01-30T07:43:54.376Z"},{"_id":"c1644750-6b12-11eb-b3bc-3fe6910de3c2","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"","authorEmailMD5":"","authorName":"","authorUri":"","message":"Don't really like anything about Azure, it's a proprietary technology","date":"2021-02-09T20:09:46.756Z"},{"_id":"0e552e90-fed7-11ec-9439-9976ab70e4cc","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"fQQSKLxz+4bTDdsdVMIfghKttKOmHy76wJY1b2cxYyvCdPX+6ViQ3EMSkj8mKzk974Wx8ZV3k6/qUuzf62U6Yc5X6wPiRqJxWYNeXVSct3UJ55Ul2tX4aG8NzztmRTb2B6Jwffz5e1yHVIwV6zEGPdmmrRLXt3Yj4i52xVSQ0/kcd+mTz8Fb5yjNxkilxGtvoREZGjdD+Jriua9peoLqTllw+BiosrvGE+kpZ1t/B/3Bvy7ZbILocRMAsf3o4oXXBXGCZP5rTYjjDW+PgxoP5RKQUUMzDur5+ky94MebUqv3bdqQUiGUl11y3CsbRABX5UvXiJllFX5tk0ZA96J0Jq12RDmSmmAjAsh5kiAwzprd6Y9gfgKhi2XitaAy2/OCgoJLpioTtWLDS04hPo0Cy8iYrDgFpB2upwT/TFXDjX6t++8nmntbwwVkrs1UIoAtj1zAWRhTg3s1ELad7ZCzQmmMw2AAy9v45CuWrWr+UBuVJVHuSmcthll4WA18W1nGxwr79RUu+NR1ItQ8wwRzGsDC9DoNG2F6tl5mRm0v36fiHAWjfGZ5m1ZPlBfSNI2BVto/SxjtxGHDmq+v8kw2+yZayQDEl2xLaLCFzJwZCqfIVO70Ugkr/7/Hmt21PPVoRlQ0hqYSOeZS6G26k0P4UN5t9pJgvUkm/1XjGZDCKZI=","authorEmailMD5":"493e7c79e83e6ac389325899a9231525","authorName":"Gordon Tyler","authorUri":"","message":"What's your opinion on Redis as a means of implementing a durable queue in an async messaging system?","date":"2022-07-08T16:00:15.553Z"},{"_id":"06282ac0-ffb2-11ec-8278-c132177ae00a","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"0e552e90-fed7-11ec-9439-9976ab70e4cc","authorEmailEncrypted":"CmkruZtNuVkOkn2vKqxDLqxPRtINdwNIJC2YZhZlbh1UBKWGL9ga372Ksi2KrjqmxaENBBdu5Knq46GM+h5aXw5Nmks8361LUfsXdoi304Q+rHVn2E2ithk5W9dnWh3SrQAZX88oZBVLSL3att0WMk6MRjVf8EcjPn5VgfeeZvXgVG5MkrLyAFr2jVG4DIkbuO3XIecKDE+uPnpZowx3JhZcTU436dy+GrG2ZBWg8YF7VWPOgg1kQqr8EqlsL0JkHVJN5T8lFyBajMowMdwbA0c/WwHpQQj1zjkV0WWJvgGEWy5YomFPsTJE2WC6Q3B1UP95hATgQMtyL0S5hxZY/Xk+LulwMuYJedk+x9bGZASVkvAKrDgfFy7bQWJuivFEnFxCa6JVjqLJSauv3WgkWkLyP15Xe/U7rFdS42JyseQ3Y23fDr9D0VaKXzhke2xhvkdleT8xsRd4hB/MmS7g4aYJAqLBTMD/4K7Ie3NucUw52zRqoLtxC9RPw64h+mLDBqXttozSIp/jd9O1YeZsoQqYTryI8veT7mh9aPtQq8Dcqk56Fqs3GDbk4SwoMbLNlGxBgih1h2O70GXUghM/9svrrqf6zbCk6cjdr3wTPMVy6YdRg7s4p/kZ0dmFdF+zKUCZkTXOLDkTWZ8j+Gad0yx/Do6hbaddveGj6zjfil4=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"I'm not a fan of using Redis for this. Redis is designed to be a cache, not a durable queue. It may be possible to (ab)use Redis for this, but first you'd have to make it durable (`appendfsync always`) and then you'd have to implement a way of claiming (leasing) messages, followed by the deletion of them once they've been processed. Technically, it looks like Redis *can* be used for this, but it certainly wasn't designed for it.","date":"2022-07-09T18:07:41.585Z"},{"_id":"122ac480-3ffa-11ed-bfbd-3b002f8d57dc","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"5bfaa110-3ff6-11ed-bfbd-3b002f8d57dc","authorEmailEncrypted":"ZW++C8ECFWMmJPFP4yB8WBQ4n4z8yXwCL6kbWI+RpsgE1atY4Oo5d1PJrODjQos7dvoYSWilKOgkVuhV6xQm5GgjI9f39w/7vrDkOWZKokMHwv5QF+6fop0h1JbsGTlRxnkxlGhvaAbjDz2BUCTG+D8Kj1aeQo/dAK6KXfZewztFr62qw+MIGfYPjt/1znKL4FggBdmt4NqUBi6VeJE0cg2ThZz70nG7rI0V0wplF11GRcxRyCMRtqxobH0tZ3iXlVGHAuZv7ER5nGrlAwBC1kDmayT2Bz7Qzxgcm3YlV05Qu1JRHvLxW971Opa1KPgbxVRxNzz1N0QEAU2ognndFEi1pfOpM2bFOJ6z4hK83VxdTPfNzDsiFZ/qtM5apySjChFFpmUhFltF9dTLZKkDIw1rMlW3+6nP6cDnNsaCKKisEhMq945Wge4UrWxNGvCdmWFW+QWyY9Aq6tSChdH6++nLxMmyy/UGw5Rl3FWNVdyhsATvMDZ3F+TjD60rZmvrdRDGS8BwRuJRrBm/WEbGhpf03nVPK9sRJDE/8gCeWQzpLnE0tz4/YQOAPn2yWVGxy3fE1+YQrBYAYodNGJt/Gro8pf/EWl7xXeSvnPg9eXPOaDO9V1Kg5vN6oK8ujPwDvNZaU0NPu2wIwSHiQmSW97Klb3+uSX61ERMkbMkzN+I=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"Yes, thank you! I'll fix that shortly.","date":"2022-09-29T13:24:39.936Z"},{"_id":"5bfaa110-3ff6-11ed-bfbd-3b002f8d57dc","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"Nit94fQv5rcmds4mOzIcRkBiltVz7TiS0rMerOfuHdFPYh4EuHYbV1uLSRMORrz7HGU1UGGxNGYhL8bJxELa2P4r/YJjetoeYmvvnfoBzt/OOBFpt0o45ipvClcFLaJcsI8sbgNu4sq/kXnhThJ8ukp+KFCgqMAFZL2UyraL1hI+mb+Ye2YWR5mzh6dNuVOBcslP53KbPLR1qBr2SDAahMfy31OjbfORrjeOdkggLF6xucevZkBWxqnPXCjH3bLGQib/JynBLBISJh4KQeSp79VZ9Did9nQDJb9S7CcRRXIIvHUyAnt1A7it5kwfFcyEV40HXW2rohRTNOzA9YX6OZY+ju0owAn3QeKEfcIWNJkJLv/3q5aeJ/rnphkZ3uyuiIWU2ptTDN7jiLwZxzsr1rJbTnqWtIQb80m84toT8n+xrkLb6eMnuzH0417GbyLNadw0lh2X+YY371CuQJWll6dwBofl1km5F2NwkmVgpT6s5w+Rt1pfKYbhdOZMMtGHOQo5hHfBy10jJbwIgRIvcWvTC7g6zfGEy6yj+9/ApSrxhxaeE7xScg6EeD3d2aNX61it2ijv/lEzvlZ/Yqc2C5anGOBaElG8pvEvn82eypoz7ArDz/MyLucq73n+ulUexbH5vAlJpTNyXLg/CWLTntKhOdX5xtrJZ8My9fw4Hkw=","authorEmailMD5":"e6df6b52837a06e183d2399554b4cd10","authorName":"David Klempfner","authorUri":"https://medium.com/@davidklempfner","message":"Great article, thanks for writing. Btw \"sends then to the durable queue\" - should \"then\" be \"them\"?","date":"2022-09-29T12:58:05.793Z"},{"_id":"362db132-1b02-412e-82e9-3e72e5220565","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"","authorEmailEncrypted":"Bgeb5/QsPYzU/MeVfmfnLNu0hDoqz6tWO8cSmXX9t4hrgSy4SRL7J74yZPl8HKRCAQACjHw1KBKrAZDFFqpY60Z4KpITriItp9RruxCA7J1Ok7TP4KLaAt8iBgcLEwHlky/kocLCIyYyJK/EHP1+F3XLuVn0HVQ9Eahl9TC6Lbg821sNcT33U+YIheG8oHaw2qdc3VIoVR9NXPvmj6uL8lH/UCvA6WgRdMEztkdxATFnTmGMs7DMnkg8CLETs7kFGJS850dh5mf3N1pkGIpJtPJ4EmrSZF0ROVq9w/AkoK5W9gaibZ8b/5fbGqABJTpyAMZiaQiCPbWk+1PgH97Ii+kC9AFZI3KDnCjOKUbOMu3NNQ7MQ8UE3ZJmGoeilV51VMayAtmmWGtjjJsKvpb4BvpU1ddEWVb6ZO46xWVOOTDrLTe5i3IXKT8r6kU4T+Us2P/noLyyH/RdxHLK2rjYWmweOkePGmcW1JiUYnD4pr7kPuX7bwban+0LjTmmDX2t3zaSAyMRkEhFe5bYKKzEcjrYxKctlfDm2cmvarOYJORnE5ykU2sF6/1ooZcicGRoja4OFk6P/R10bYI2Q+4HAi+XPpdJ1vsH4ID+yjHcYQBA/HEBVu6mH69wrUAPhWsebfTUvNHCcV7DboHP0xddwLI6suteNGdbA+TshWClj2k=","authorEmailMD5":"8ac9108503e4e5cbe152b8ff2d13665b","authorName":"jescs","authorUri":"","message":"\"Shutdowns Are Normal\"\nUhm I don't agree with this. I'd say that \"Managed Shutdowns are normal\".\n\n\"All software that assumes it will never shut down is inherently buggy.\"\nI don't agree with this definition, for me it's slightly out-of-focus. \nWhy would do you only focus on shutdowns instead of focusing on any generic crash which could happen? \nA software must be able to survive an unexpected crash (including unmanaged shutdowns) without problems for its data consistency.\nI'd say it makes sense to have a robust code and \"acid transactions\", intended in a more generic way and not only at the database layer.\n\n\"For example, Apache’s MaxConnectionsPerChild or IIS’s periodicRestart can recycle child processes periodically. This is primarily useful for managing memory leaks in applications, frameworks, and/or libraries.\"\nYou said it. You're describing something to absolutely avoid. You're referring to buggy software, a software/library/framework with memory leaks. And a periodic recycle isn't a good solution at all. That's what we must teach people.\nDoing a good diagnostic check, code check and profiling is the solution. And the memory leak must disappear. That's how you do it.\nA periodic recycle is an absolute no, why should I lose all data on the running instance for the sake managing \"managing memory leaks in applications, frameworks, and/or libraries\". It makes no sense, really. \nIt's like saying \"ok, we restart Windows server once a week to avoid problems\", what?! And there's so many admins who really do that.\n\nI'm not sure Stephan of the focus you have in your articles. I really do appreciate you because you have a brilliant mind, but my impression is that you're describing bad architectural habits, using unsafe operations and how to complicate code and infrastructure management (patches, updates, etc). Instead, it would make sense to explain how not to complicate your life.\nI think the solution is to design robust software architectures avoiding the pitfalls you're describing, avoiding potentially dangerous mechanisms in the code which could lead to data inconsistencies. \nLets talk about robust code, unexpected conditions (like an unmanaged shutdown) resilience. But we cannot suggest that \"recycling to fix memory leaks\" is anything good, lets talk about the solutions for memory leaks. \n\n\"The proper solution for request-extrinsic code is asynchronous messaging, which is accomplished by adding a durable queue coupled with a backend service\"\nThe idea of designing a system with complex solutions to handle stuff which can be done without all of this complexity is bad. It's no rocket science to handle a \"post-request\" code, it's something people do. Why do you call \"durable\" a persistent operation? Writing data to storage exists since before we're born, no need to invent new terms, it's a useless complication. So you're talking about a \"delayed response\", a queue and the code to handle it. Please, Stephan, keep it simple!\n\nYou know what I think, it's what I always teach my collegues (and in return I learn from them): \"A good code for me is the one you can read on one monitor and convert in real-time to another language without having to decode weird/super-modern mechanisms\".\n\nJust my 2c. \n","date":"2024-06-19T00:00:58.9391091Z"},{"_id":"b2db3cee-96aa-4d39-bcd3-68b0c5f79c48","postId":"2021_01_asynchronous-messaging-2-durable-queues-17eca5a8-3cf1-33a3-bab9-fdb074569ebe","postUri":"https://blog.stephencleary.com/2021/01/asynchronous-messaging-2-durable-queues.html","replyTo":"362db132-1b02-412e-82e9-3e72e5220565","authorEmailEncrypted":"CVBvpm4ZEBzfTolx+Ts8cdpv6voxdvcmAQ2WZ/J1uaQyAB4zNkjSYRroyAGw0Gew0102iO8TXnuxBevjXQb8gFwfEIEPzFI92KFM2KPZVk+/8ET8aJkefBjMZ97VF+CSCVjk1M0Fr9mGcX/5eqKIfk7WAOrq7hndA1OzeZQBBM+2iPdEBUNlPuUjH6ulypAjd+k7ggIype+NgghDU7iCFdHtKpMlIlyfJalThgKJ9zntQw+to/fTHmhnuOfcy6dJgBawmojyOBL1ARM1x2Bniv0kKJHALKLlHqD7v73b0/QUH5+gytks9zNd5vh8dk19styqzRahxlRQZP2pyhQVFHVfLWZMbiPFhU6eOwCW6gyAZvNay3D0Q1gl8VRyfqOncJZLKJvqugw5qOYX/9tz3nlm8C5eMbQQCau/Y7S5H+RNT5imIhXejHwv9herkbKJ22i+G5V6y6EEVuGayoCFfokdW2CKmsSElXmK3davxF6fg6c6+iIkVv1FlEBRLy7kOZpXk/40kCcHl4Wi2eWzc00YoWq13Wf32qJJZPBpjcWyp8AA1RIU4iZXI2zuCn24wSlFZyUymuk/S26kRT7rQMUfg5YlvHN/objMY4WiVFmYVEwrzURd4/2zdc73GTwwSGXMlMXBt6pdrqaOTy8+DZTrdUgQ61yrZU7JoZ3OV7I=","authorEmailMD5":"23448e78d187fba56d8bc263081ac5d8","authorName":"Stephen Cleary","authorUri":"https://stephencleary.com","message":"> Why would do you only focus on shutdowns instead of focusing on any generic crash which could happen? A software must be able to survive an unexpected crash (including unmanaged shutdowns) without problems for its data consistency.\n\nI'm in complete agreement. I was using \"shutdowns\" here in a broad sense, including both managed and unmanaged shutdowns.\n\n> And a periodic recycle isn't a good solution at all.\n\nAgain, I agree. The point of that section was not to _encourage_ patching over memory leaks; the point was that most hosting systems _by default_ will do regular shutdowns. In my experience, this is something most developers are not aware of.\n\n> So you're talking about a \"delayed response\", a queue and the code to handle it.\n\nI specifically (and deliberately) use the term \"durable queue\", because if you just say \"queue\", then the vast majority of developers think `Queue<T>` (with a handful of more senior developers thinking `ConcurrentQueue<T>`). Almost none of them think Azure Queue by default. At least not yet.","date":"2024-08-15T08:42:50.1854236Z"}]